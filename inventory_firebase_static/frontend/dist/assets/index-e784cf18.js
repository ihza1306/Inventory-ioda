var af=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var F=(e,t,n)=>(af(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},be=(e,t,n,s)=>(af(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var Ec=(e,t,n,s)=>({set _(o){be(e,t,o,n)},get _(){return F(e,t,s)}}),He=(e,t,n)=>(af(e,t,"access private method"),n);function $x(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e2={exports:{}},od={},t2={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),S3=Symbol.for("react.portal"),T3=Symbol.for("react.fragment"),I3=Symbol.for("react.strict_mode"),_3=Symbol.for("react.profiler"),R3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),P3=Symbol.for("react.forward_ref"),j3=Symbol.for("react.suspense"),D3=Symbol.for("react.memo"),M3=Symbol.for("react.lazy"),_p=Symbol.iterator;function L3(e){return e===null||typeof e!="object"?null:(e=_p&&e[_p]||e["@@iterator"],typeof e=="function"?e:null)}var n2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r2=Object.assign,s2={};function bo(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||n2}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i2(){}i2.prototype=bo.prototype;function j0(e,t,n){this.props=e,this.context=t,this.refs=s2,this.updater=n||n2}var D0=j0.prototype=new i2;D0.constructor=j0;r2(D0,bo.prototype);D0.isPureReactComponent=!0;var Rp=Array.isArray,a2=Object.prototype.hasOwnProperty,M0={current:null},o2={key:!0,ref:!0,__self:!0,__source:!0};function l2(e,t,n){var s,o={},l=null,f=null;if(t!=null)for(s in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(l=""+t.key),t)a2.call(t,s)&&!o2.hasOwnProperty(s)&&(o[s]=t[s]);var m=arguments.length-2;if(m===1)o.children=n;else if(1<m){for(var x=Array(m),p=0;p<m;p++)x[p]=arguments[p+2];o.children=x}if(e&&e.defaultProps)for(s in m=e.defaultProps,m)o[s]===void 0&&(o[s]=m[s]);return{$$typeof:tc,type:e,key:l,ref:f,props:o,_owner:M0.current}}function B3(e,t){return{$$typeof:tc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L0(e){return typeof e=="object"&&e!==null&&e.$$typeof===tc}function F3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Op=/\/+/g;function of(e,t){return typeof e=="object"&&e!==null&&e.key!=null?F3(""+e.key):t.toString(36)}function Zc(e,t,n,s,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(l){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case tc:case S3:f=!0}}if(f)return f=e,o=o(f),e=s===""?"."+of(f,0):s,Rp(o)?(n="",e!=null&&(n=e.replace(Op,"$&/")+"/"),Zc(o,t,n,"",function(p){return p})):o!=null&&(L0(o)&&(o=B3(o,n+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(Op,"$&/")+"/")+e)),t.push(o)),1;if(f=0,s=s===""?".":s+":",Rp(e))for(var m=0;m<e.length;m++){l=e[m];var x=s+of(l,m);f+=Zc(l,t,n,x,o)}else if(x=L3(e),typeof x=="function")for(e=x.call(e),m=0;!(l=e.next()).done;)l=l.value,x=s+of(l,m++),f+=Zc(l,t,n,x,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Ac(e,t,n){if(e==null)return e;var s=[],o=0;return Zc(e,s,"","",function(l){return t.call(n,l,o++)}),s}function U3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},$c={transition:null},V3={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:$c,ReactCurrentOwner:M0};function c2(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Ac,forEach:function(e,t,n){Ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!L0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=bo;Ye.Fragment=T3;Ye.Profiler=_3;Ye.PureComponent=j0;Ye.StrictMode=I3;Ye.Suspense=j3;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V3;Ye.act=c2;Ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=r2({},e.props),o=e.key,l=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,f=M0.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)a2.call(t,x)&&!o2.hasOwnProperty(x)&&(s[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)s.children=n;else if(1<x){m=Array(x);for(var p=0;p<x;p++)m[p]=arguments[p+2];s.children=m}return{$$typeof:tc,type:e.type,key:o,ref:l,props:s,_owner:f}};Ye.createContext=function(e){return e={$$typeof:O3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R3,_context:e},e.Consumer=e};Ye.createElement=l2;Ye.createFactory=function(e){var t=l2.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:P3,render:e}};Ye.isValidElement=L0;Ye.lazy=function(e){return{$$typeof:M3,_payload:{_status:-1,_result:e},_init:U3}};Ye.memo=function(e,t){return{$$typeof:D3,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=$c.transition;$c.transition={};try{e()}finally{$c.transition=t}};Ye.unstable_act=c2;Ye.useCallback=function(e,t){return Sn.current.useCallback(e,t)};Ye.useContext=function(e){return Sn.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Sn.current.useEffect(e,t)};Ye.useId=function(){return Sn.current.useId()};Ye.useImperativeHandle=function(e,t,n){return Sn.current.useImperativeHandle(e,t,n)};Ye.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Sn.current.useMemo(e,t)};Ye.useReducer=function(e,t,n){return Sn.current.useReducer(e,t,n)};Ye.useRef=function(e){return Sn.current.useRef(e)};Ye.useState=function(e){return Sn.current.useState(e)};Ye.useSyncExternalStore=function(e,t,n){return Sn.current.useSyncExternalStore(e,t,n)};Ye.useTransition=function(){return Sn.current.useTransition()};Ye.version="18.3.1";t2.exports=Ye;var L=t2.exports;const ht=Jx(L),z3=$x({__proto__:null,default:ht},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3=L,H3=Symbol.for("react.element"),G3=Symbol.for("react.fragment"),X3=Object.prototype.hasOwnProperty,K3=W3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q3={key:!0,ref:!0,__self:!0,__source:!0};function u2(e,t,n){var s,o={},l=null,f=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(f=t.ref);for(s in t)X3.call(t,s)&&!q3.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:H3,type:e,key:l,ref:f,props:o,_owner:K3.current}}od.Fragment=G3;od.jsx=u2;od.jsxs=u2;e2.exports=od;var h=e2.exports,$f={},d2={exports:{}},er={},f2={exports:{}},h2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,me){var ye=oe.length;oe.push(me);e:for(;0<ye;){var ge=ye-1>>>1,$=oe[ge];if(0<o($,me))oe[ge]=me,oe[ye]=$,ye=ge;else break e}}function n(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var me=oe[0],ye=oe.pop();if(ye!==me){oe[0]=ye;e:for(var ge=0,$=oe.length,Ne=$>>>1;ge<Ne;){var q=2*(ge+1)-1,Ee=oe[q],ie=q+1,ve=oe[ie];if(0>o(Ee,ye))ie<$&&0>o(ve,Ee)?(oe[ge]=ve,oe[ie]=ye,ge=ie):(oe[ge]=Ee,oe[q]=ye,ge=q);else if(ie<$&&0>o(ve,ye))oe[ge]=ve,oe[ie]=ye,ge=ie;else break e}}return me}function o(oe,me){var ye=oe.sortIndex-me.sortIndex;return ye!==0?ye:oe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var f=Date,m=f.now();e.unstable_now=function(){return f.now()-m}}var x=[],p=[],w=1,b=null,C=3,S=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(oe){for(var me=n(p);me!==null;){if(me.callback===null)s(p);else if(me.startTime<=oe)s(p),me.sortIndex=me.expirationTime,t(x,me);else break;me=n(p)}}function P(oe){if(_=!1,N(oe),!k)if(n(x)!==null)k=!0,Ce(X);else{var me=n(p);me!==null&&xe(P,me.startTime-oe)}}function X(oe,me){k=!1,_&&(_=!1,O(z),z=-1),S=!0;var ye=C;try{for(N(me),b=n(x);b!==null&&(!(b.expirationTime>me)||oe&&!de());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,C=b.priorityLevel;var $=ge(b.expirationTime<=me);me=e.unstable_now(),typeof $=="function"?b.callback=$:b===n(x)&&s(x),N(me)}else s(x);b=n(x)}if(b!==null)var Ne=!0;else{var q=n(p);q!==null&&xe(P,q.startTime-me),Ne=!1}return Ne}finally{b=null,C=ye,S=!1}}var Y=!1,V=null,z=-1,H=5,re=-1;function de(){return!(e.unstable_now()-re<H)}function se(){if(V!==null){var oe=e.unstable_now();re=oe;var me=!0;try{me=V(!0,oe)}finally{me?J():(Y=!1,V=null)}}else Y=!1}var J;if(typeof A=="function")J=function(){A(se)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,K=he.port2;he.port1.onmessage=se,J=function(){K.postMessage(null)}}else J=function(){j(se,0)};function Ce(oe){V=oe,Y||(Y=!0,J())}function xe(oe,me){z=j(function(){oe(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){k||S||(k=!0,Ce(X))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(oe){switch(C){case 1:case 2:case 3:var me=3;break;default:me=C}var ye=C;C=me;try{return oe()}finally{C=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,me){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ye=C;C=oe;try{return me()}finally{C=ye}},e.unstable_scheduleCallback=function(oe,me,ye){var ge=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ge+ye:ge):ye=ge,oe){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ye+$,oe={id:w++,callback:me,priorityLevel:oe,startTime:ye,expirationTime:$,sortIndex:-1},ye>ge?(oe.sortIndex=ye,t(p,oe),n(x)===null&&oe===n(p)&&(_?(O(z),z=-1):_=!0,xe(P,ye-ge))):(oe.sortIndex=$,t(x,oe),k||S||(k=!0,Ce(X))),oe},e.unstable_shouldYield=de,e.unstable_wrapCallback=function(oe){var me=C;return function(){var ye=C;C=me;try{return oe.apply(this,arguments)}finally{C=ye}}}})(h2);f2.exports=h2;var Y3=f2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3=L,$n=Y3;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p2=new Set,wl={};function la(e,t){lo(e,t),lo(e+"Capture",t)}function lo(e,t){for(wl[e]=t,e=0;e<t.length;e++)p2.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=Object.prototype.hasOwnProperty,Z3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pp={},jp={};function $3(e){return Jf.call(jp,e)?!0:Jf.call(Pp,e)?!1:Z3.test(e)?jp[e]=!0:(Pp[e]=!0,!1)}function J3(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eC(e,t,n,s){if(t===null||typeof t>"u"||J3(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,n,s,o,l,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=f}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){un[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];un[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){un[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){un[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){un[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){un[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){un[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){un[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){un[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var B0=/[\-:]([a-z])/g;function F0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B0,F0);un[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B0,F0);un[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B0,F0);un[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){un[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});un.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){un[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function U0(e,t,n,s){var o=un.hasOwnProperty(t)?un[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eC(t,n,o,s)&&(n=null),s||o===null?$3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ys=Q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),x2=Symbol.for("react.offscreen"),Dp=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Dp&&e[Dp]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,lf;function el(e){if(lf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lf=t&&t[1]||""}return`
`+lf+e}var cf=!1;function uf(e,t){if(!e||cf)return"";cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),l=s.stack.split(`
`),f=o.length-1,m=l.length-1;1<=f&&0<=m&&o[f]!==l[m];)m--;for(;1<=f&&0<=m;f--,m--)if(o[f]!==l[m]){if(f!==1||m!==1)do if(f--,m--,0>m||o[f]!==l[m]){var x=`
`+o[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=m);break}}}finally{cf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?el(e):""}function tC(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=uf(e.type,!1),e;case 11:return e=uf(e.type.render,!1),e;case 1:return e=uf(e.type,!0),e;default:return""}}function rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case ka:return"Portal";case eh:return"Profiler";case V0:return"StrictMode";case th:return"Suspense";case nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g2:return(e.displayName||"Context")+".Consumer";case m2:return(e._context.displayName||"Context")+".Provider";case z0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W0:return t=e.displayName||null,t!==null?t:rh(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return rh(e(t))}catch{}}return null}function nC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(t);case 8:return t===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ci(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rC(e){var t=y2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){s=""+f,l.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(f){s=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nc(e){e._valueTracker||(e._valueTracker=rC(e))}function w2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=y2(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sh(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mp(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ci(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function b2(e,t){t=t.checked,t!=null&&U0(e,"checked",t,!1)}function ih(e,t){b2(e,t);var n=ci(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ah(e,t.type,n):t.hasOwnProperty("defaultValue")&&ah(e,t.type,ci(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ah(e,t,n){(t!=="number"||gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tl=Array.isArray;function Wa(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ci(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(tl(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ci(n)}}function v2(e,t){var n=ci(t.value),s=ci(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Fp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sc,E2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(e){sC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),al[t]=al[e]})});function A2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||al.hasOwnProperty(e)&&al[e]?(""+t).trim():t+"px"}function k2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=A2(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var iC=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ch(e,t){if(t){if(iC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dh=null;function H0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fh=null,Ha=null,Ga=null;function Up(e){if(e=sc(e)){if(typeof fh!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=fd(t),fh(e.stateNode,e.type,t))}}function N2(e){Ha?Ga?Ga.push(e):Ga=[e]:Ha=e}function S2(){if(Ha){var e=Ha,t=Ga;if(Ga=Ha=null,Up(e),t)for(e=0;e<t.length;e++)Up(t[e])}}function T2(e,t){return e(t)}function I2(){}var df=!1;function _2(e,t,n){if(df)return e(t,n);df=!0;try{return T2(e,t,n)}finally{df=!1,(Ha!==null||Ga!==null)&&(I2(),S2())}}function vl(e,t){var n=e.stateNode;if(n===null)return null;var s=fd(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var hh=!1;if(hs)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{hh=!1}function aC(e,t,n,s,o,l,f,m,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(w){this.onError(w)}}var ol=!1,xu=null,yu=!1,ph=null,oC={onError:function(e){ol=!0,xu=e}};function lC(e,t,n,s,o,l,f,m,x){ol=!1,xu=null,aC.apply(oC,arguments)}function cC(e,t,n,s,o,l,f,m,x){if(lC.apply(this,arguments),ol){if(ol){var p=xu;ol=!1,xu=null}else throw Error(ce(198));yu||(yu=!0,ph=p)}}function ca(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function R2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vp(e){if(ca(e)!==e)throw Error(ce(188))}function uC(e){var t=e.alternate;if(!t){if(t=ca(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Vp(o),e;if(l===s)return Vp(o),t;l=l.sibling}throw Error(ce(188))}if(n.return!==s.return)n=o,s=l;else{for(var f=!1,m=o.child;m;){if(m===n){f=!0,n=o,s=l;break}if(m===s){f=!0,s=o,n=l;break}m=m.sibling}if(!f){for(m=l.child;m;){if(m===n){f=!0,n=l,s=o;break}if(m===s){f=!0,s=l,n=o;break}m=m.sibling}if(!f)throw Error(ce(189))}}if(n.alternate!==s)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function O2(e){return e=uC(e),e!==null?P2(e):null}function P2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P2(e);if(t!==null)return t;e=e.sibling}return null}var j2=$n.unstable_scheduleCallback,zp=$n.unstable_cancelCallback,dC=$n.unstable_shouldYield,fC=$n.unstable_requestPaint,zt=$n.unstable_now,hC=$n.unstable_getCurrentPriorityLevel,G0=$n.unstable_ImmediatePriority,D2=$n.unstable_UserBlockingPriority,wu=$n.unstable_NormalPriority,pC=$n.unstable_LowPriority,M2=$n.unstable_IdlePriority,ld=null,Yr=null;function mC(e){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(ld,e,void 0,(e.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:yC,gC=Math.log,xC=Math.LN2;function yC(e){return e>>>=0,e===0?32:31-(gC(e)/xC|0)|0}var Tc=64,Ic=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bu(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,f=n&268435455;if(f!==0){var m=f&~o;m!==0?s=nl(m):(l&=f,l!==0&&(s=nl(l)))}else f=n&~o,f!==0?s=nl(f):l!==0&&(s=nl(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ir(t),o=1<<n,s|=e[n],t&=~o;return s}function wC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bC(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var f=31-Ir(l),m=1<<f,x=o[f];x===-1?(!(m&n)||m&s)&&(o[f]=wC(m,t)):x<=t&&(e.expiredLanes|=m),l&=~m}}function mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L2(){var e=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),e}function ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ir(t),e[t]=n}function vC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ir(n),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~l}}function X0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ir(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var at=0;function B2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F2,K0,U2,V2,z2,gh=!1,_c=[],Zs=null,$s=null,Js=null,Cl=new Map,El=new Map,Ls=[],CC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wp(e,t){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function zo(e,t,n,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=sc(t),t!==null&&K0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function EC(e,t,n,s,o){switch(t){case"focusin":return Zs=zo(Zs,e,t,n,s,o),!0;case"dragenter":return $s=zo($s,e,t,n,s,o),!0;case"mouseover":return Js=zo(Js,e,t,n,s,o),!0;case"pointerover":var l=o.pointerId;return Cl.set(l,zo(Cl.get(l)||null,e,t,n,s,o)),!0;case"gotpointercapture":return l=o.pointerId,El.set(l,zo(El.get(l)||null,e,t,n,s,o)),!0}return!1}function W2(e){var t=ji(e.target);if(t!==null){var n=ca(t);if(n!==null){if(t=n.tag,t===13){if(t=R2(n),t!==null){e.blockedOn=t,z2(e.priority,function(){U2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);dh=s,n.target.dispatchEvent(s),dh=null}else return t=sc(n),t!==null&&K0(t),e.blockedOn=n,!1;t.shift()}return!0}function Hp(e,t,n){Jc(e)&&n.delete(t)}function AC(){gh=!1,Zs!==null&&Jc(Zs)&&(Zs=null),$s!==null&&Jc($s)&&($s=null),Js!==null&&Jc(Js)&&(Js=null),Cl.forEach(Hp),El.forEach(Hp)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,gh||(gh=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,AC)))}function Al(e){function t(o){return Wo(o,e)}if(0<_c.length){Wo(_c[0],e);for(var n=1;n<_c.length;n++){var s=_c[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Zs!==null&&Wo(Zs,e),$s!==null&&Wo($s,e),Js!==null&&Wo(Js,e),Cl.forEach(t),El.forEach(t),n=0;n<Ls.length;n++)s=Ls[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)W2(n),n.blockedOn===null&&Ls.shift()}var Xa=ys.ReactCurrentBatchConfig,vu=!0;function kC(e,t,n,s){var o=at,l=Xa.transition;Xa.transition=null;try{at=1,q0(e,t,n,s)}finally{at=o,Xa.transition=l}}function NC(e,t,n,s){var o=at,l=Xa.transition;Xa.transition=null;try{at=4,q0(e,t,n,s)}finally{at=o,Xa.transition=l}}function q0(e,t,n,s){if(vu){var o=xh(e,t,n,s);if(o===null)Cf(e,t,s,Cu,n),Wp(e,s);else if(EC(o,e,t,n,s))s.stopPropagation();else if(Wp(e,s),t&4&&-1<CC.indexOf(e)){for(;o!==null;){var l=sc(o);if(l!==null&&F2(l),l=xh(e,t,n,s),l===null&&Cf(e,t,s,Cu,n),l===o)break;o=l}o!==null&&s.stopPropagation()}else Cf(e,t,s,null,n)}}var Cu=null;function xh(e,t,n,s){if(Cu=null,e=H0(s),e=ji(e),e!==null)if(t=ca(e),t===null)e=null;else if(n=t.tag,n===13){if(e=R2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cu=e,null}function H2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hC()){case G0:return 1;case D2:return 4;case wu:case pC:return 16;case M2:return 536870912;default:return 16}default:return 16}}var qs=null,Y0=null,eu=null;function G2(){if(eu)return eu;var e,t=Y0,n=t.length,s,o="value"in qs?qs.value:qs.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===o[l-s];s++);return eu=o.slice(e,1<s?1-s:void 0)}function tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rc(){return!0}function Gp(){return!1}function tr(e){function t(n,s,o,l,f){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Rc:Gp,this.isPropagationStopped=Gp,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q0=tr(vo),rc=Pt({},vo,{view:0,detail:0}),SC=tr(rc),hf,pf,Ho,cd=Pt({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(hf=e.screenX-Ho.screenX,pf=e.screenY-Ho.screenY):pf=hf=0,Ho=e),hf)},movementY:function(e){return"movementY"in e?e.movementY:pf}}),Xp=tr(cd),TC=Pt({},cd,{dataTransfer:0}),IC=tr(TC),_C=Pt({},rc,{relatedTarget:0}),mf=tr(_C),RC=Pt({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),OC=tr(RC),PC=Pt({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jC=tr(PC),DC=Pt({},vo,{data:0}),Kp=tr(DC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BC[e])?!!t[e]:!1}function Z0(){return FC}var UC=Pt({},rc,{key:function(e){if(e.key){var t=MC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(e){return e.type==="keypress"?tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VC=tr(UC),zC=Pt({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=tr(zC),WC=Pt({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),HC=tr(WC),GC=Pt({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XC=tr(GC),KC=Pt({},cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=tr(KC),YC=[9,13,27,32],$0=hs&&"CompositionEvent"in window,ll=null;hs&&"documentMode"in document&&(ll=document.documentMode);var QC=hs&&"TextEvent"in window&&!ll,X2=hs&&(!$0||ll&&8<ll&&11>=ll),Yp=String.fromCharCode(32),Qp=!1;function K2(e,t){switch(e){case"keyup":return YC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function ZC(e,t){switch(e){case"compositionend":return q2(t);case"keypress":return t.which!==32?null:(Qp=!0,Yp);case"textInput":return e=t.data,e===Yp&&Qp?null:e;default:return null}}function $C(e,t){if(Sa)return e==="compositionend"||!$0&&K2(e,t)?(e=G2(),eu=Y0=qs=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X2&&t.locale!=="ko"?null:t.data;default:return null}}var JC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JC[e.type]:t==="textarea"}function Y2(e,t,n,s){N2(s),t=Eu(t,"onChange"),0<t.length&&(n=new Q0("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var cl=null,kl=null;function eE(e){ay(e,0)}function ud(e){var t=_a(e);if(w2(t))return e}function tE(e,t){if(e==="change")return t}var Q2=!1;if(hs){var gf;if(hs){var xf="oninput"in document;if(!xf){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),xf=typeof $p.oninput=="function"}gf=xf}else gf=!1;Q2=gf&&(!document.documentMode||9<document.documentMode)}function Jp(){cl&&(cl.detachEvent("onpropertychange",Z2),kl=cl=null)}function Z2(e){if(e.propertyName==="value"&&ud(kl)){var t=[];Y2(t,kl,e,H0(e)),_2(eE,t)}}function nE(e,t,n){e==="focusin"?(Jp(),cl=t,kl=n,cl.attachEvent("onpropertychange",Z2)):e==="focusout"&&Jp()}function rE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(kl)}function sE(e,t){if(e==="click")return ud(t)}function iE(e,t){if(e==="input"||e==="change")return ud(t)}function aE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Or=typeof Object.is=="function"?Object.is:aE;function Nl(e,t){if(Or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Jf.call(t,o)||!Or(e[o],t[o]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,t){var n=em(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=em(n)}}function $2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J2(){for(var e=window,t=gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gu(e.document)}return t}function J0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oE(e){var t=J2(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$2(n.ownerDocument.documentElement,n)){if(s!==null&&J0(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=tm(n,l);var f=tm(n,s);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lE=hs&&"documentMode"in document&&11>=document.documentMode,Ta=null,yh=null,ul=null,wh=!1;function nm(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wh||Ta==null||Ta!==gu(s)||(s=Ta,"selectionStart"in s&&J0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ul&&Nl(ul,s)||(ul=s,s=Eu(yh,"onSelect"),0<s.length&&(t=new Q0("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ta)))}function Oc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ia={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},yf={},ey={};hs&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function dd(e){if(yf[e])return yf[e];if(!Ia[e])return e;var t=Ia[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ey)return yf[e]=t[n];return e}var ty=dd("animationend"),ny=dd("animationiteration"),ry=dd("animationstart"),sy=dd("transitionend"),iy=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){iy.set(e,t),la(t,[e])}for(var wf=0;wf<rm.length;wf++){var bf=rm[wf],cE=bf.toLowerCase(),uE=bf[0].toUpperCase()+bf.slice(1);hi(cE,"on"+uE)}hi(ty,"onAnimationEnd");hi(ny,"onAnimationIteration");hi(ry,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(sy,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function sm(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,cC(s,t,void 0,e),e.currentTarget=null}function ay(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var f=s.length-1;0<=f;f--){var m=s[f],x=m.instance,p=m.currentTarget;if(m=m.listener,x!==l&&o.isPropagationStopped())break e;sm(o,m,p),l=x}else for(f=0;f<s.length;f++){if(m=s[f],x=m.instance,p=m.currentTarget,m=m.listener,x!==l&&o.isPropagationStopped())break e;sm(o,m,p),l=x}}}if(yu)throw e=ph,yu=!1,ph=null,e}function wt(e,t){var n=t[Ah];n===void 0&&(n=t[Ah]=new Set);var s=e+"__bubble";n.has(s)||(oy(t,e,2,!1),n.add(s))}function vf(e,t,n){var s=0;t&&(s|=4),oy(n,e,s,t)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Sl(e){if(!e[Pc]){e[Pc]=!0,p2.forEach(function(n){n!=="selectionchange"&&(dE.has(n)||vf(n,!1,e),vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pc]||(t[Pc]=!0,vf("selectionchange",!1,t))}}function oy(e,t,n,s){switch(H2(t)){case 1:var o=kC;break;case 4:o=NC;break;default:o=q0}n=o.bind(null,t,n,e),o=void 0,!hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Cf(e,t,n,s,o){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var m=s.stateNode.containerInfo;if(m===o||m.nodeType===8&&m.parentNode===o)break;if(f===4)for(f=s.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===o||x.nodeType===8&&x.parentNode===o))return;f=f.return}for(;m!==null;){if(f=ji(m),f===null)return;if(x=f.tag,x===5||x===6){s=l=f;continue e}m=m.parentNode}}s=s.return}_2(function(){var p=l,w=H0(n),b=[];e:{var C=iy.get(e);if(C!==void 0){var S=Q0,k=e;switch(e){case"keypress":if(tu(n)===0)break e;case"keydown":case"keyup":S=VC;break;case"focusin":k="focus",S=mf;break;case"focusout":k="blur",S=mf;break;case"beforeblur":case"afterblur":S=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=IC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=HC;break;case ty:case ny:case ry:S=OC;break;case sy:S=XC;break;case"scroll":S=SC;break;case"wheel":S=qC;break;case"copy":case"cut":case"paste":S=jC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=qp}var _=(t&4)!==0,j=!_&&e==="scroll",O=_?C!==null?C+"Capture":null:C;_=[];for(var A=p,N;A!==null;){N=A;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,O!==null&&(P=vl(A,O),P!=null&&_.push(Tl(A,P,N)))),j)break;A=A.return}0<_.length&&(C=new S(C,k,null,n,w),b.push({event:C,listeners:_}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",C&&n!==dh&&(k=n.relatedTarget||n.fromElement)&&(ji(k)||k[ps]))break e;if((S||C)&&(C=w.window===w?w:(C=w.ownerDocument)?C.defaultView||C.parentWindow:window,S?(k=n.relatedTarget||n.toElement,S=p,k=k?ji(k):null,k!==null&&(j=ca(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(S=null,k=p),S!==k)){if(_=Xp,P="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(_=qp,P="onPointerLeave",O="onPointerEnter",A="pointer"),j=S==null?C:_a(S),N=k==null?C:_a(k),C=new _(P,A+"leave",S,n,w),C.target=j,C.relatedTarget=N,P=null,ji(w)===p&&(_=new _(O,A+"enter",k,n,w),_.target=N,_.relatedTarget=j,P=_),j=P,S&&k)t:{for(_=S,O=k,A=0,N=_;N;N=Ca(N))A++;for(N=0,P=O;P;P=Ca(P))N++;for(;0<A-N;)_=Ca(_),A--;for(;0<N-A;)O=Ca(O),N--;for(;A--;){if(_===O||O!==null&&_===O.alternate)break t;_=Ca(_),O=Ca(O)}_=null}else _=null;S!==null&&im(b,C,S,_,!1),k!==null&&j!==null&&im(b,j,k,_,!0)}}e:{if(C=p?_a(p):window,S=C.nodeName&&C.nodeName.toLowerCase(),S==="select"||S==="input"&&C.type==="file")var X=tE;else if(Zp(C))if(Q2)X=iE;else{X=rE;var Y=nE}else(S=C.nodeName)&&S.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(X=sE);if(X&&(X=X(e,p))){Y2(b,X,n,w);break e}Y&&Y(e,C,p),e==="focusout"&&(Y=C._wrapperState)&&Y.controlled&&C.type==="number"&&ah(C,"number",C.value)}switch(Y=p?_a(p):window,e){case"focusin":(Zp(Y)||Y.contentEditable==="true")&&(Ta=Y,yh=p,ul=null);break;case"focusout":ul=yh=Ta=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,nm(b,n,w);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":nm(b,n,w)}var V;if($0)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Sa?K2(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(X2&&n.locale!=="ko"&&(Sa||z!=="onCompositionStart"?z==="onCompositionEnd"&&Sa&&(V=G2()):(qs=w,Y0="value"in qs?qs.value:qs.textContent,Sa=!0)),Y=Eu(p,z),0<Y.length&&(z=new Kp(z,e,null,n,w),b.push({event:z,listeners:Y}),V?z.data=V:(V=q2(n),V!==null&&(z.data=V)))),(V=QC?ZC(e,n):$C(e,n))&&(p=Eu(p,"onBeforeInput"),0<p.length&&(w=new Kp("onBeforeInput","beforeinput",null,n,w),b.push({event:w,listeners:p}),w.data=V))}ay(b,t)})}function Tl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eu(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=vl(e,n),l!=null&&s.unshift(Tl(e,l,o)),l=vl(e,t),l!=null&&s.push(Tl(e,l,o))),e=e.return}return s}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function im(e,t,n,s,o){for(var l=t._reactName,f=[];n!==null&&n!==s;){var m=n,x=m.alternate,p=m.stateNode;if(x!==null&&x===s)break;m.tag===5&&p!==null&&(m=p,o?(x=vl(n,l),x!=null&&f.unshift(Tl(n,x,m))):o||(x=vl(n,l),x!=null&&f.push(Tl(n,x,m)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var fE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function am(e){return(typeof e=="string"?e:""+e).replace(fE,`
`).replace(hE,"")}function jc(e,t,n){if(t=am(t),am(e)!==t&&n)throw Error(ce(425))}function Au(){}var bh=null,vh=null;function Ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eh=typeof setTimeout=="function"?setTimeout:void 0,pE=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(gE)}:Eh;function gE(e){setTimeout(function(){throw e})}function Ef(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),Al(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);Al(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Co=Math.random().toString(36).slice(2),qr="__reactFiber$"+Co,Il="__reactProps$"+Co,ps="__reactContainer$"+Co,Ah="__reactEvents$"+Co,xE="__reactListeners$"+Co,yE="__reactHandles$"+Co;function ji(e){var t=e[qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[qr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lm(e);e!==null;){if(n=e[qr])return n;e=lm(e)}return t}e=n,n=e.parentNode}return null}function sc(e){return e=e[qr]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function fd(e){return e[Il]||null}var kh=[],Ra=-1;function pi(e){return{current:e}}function vt(e){0>Ra||(e.current=kh[Ra],kh[Ra]=null,Ra--)}function pt(e,t){Ra++,kh[Ra]=e.current,e.current=t}var ui={},wn=pi(ui),Fn=pi(!1),Ji=ui;function co(e,t){var n=e.type.contextTypes;if(!n)return ui;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Un(e){return e=e.childContextTypes,e!=null}function ku(){vt(Fn),vt(wn)}function cm(e,t,n){if(wn.current!==ui)throw Error(ce(168));pt(wn,t),pt(Fn,n)}function ly(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(ce(108,nC(e)||"Unknown",o));return Pt({},n,s)}function Nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,Ji=wn.current,pt(wn,e),pt(Fn,Fn.current),!0}function um(e,t,n){var s=e.stateNode;if(!s)throw Error(ce(169));n?(e=ly(e,t,Ji),s.__reactInternalMemoizedMergedChildContext=e,vt(Fn),vt(wn),pt(wn,e)):vt(Fn),pt(Fn,n)}var ns=null,hd=!1,Af=!1;function cy(e){ns===null?ns=[e]:ns.push(e)}function wE(e){hd=!0,cy(e)}function mi(){if(!Af&&ns!==null){Af=!0;var e=0,t=at;try{var n=ns;for(at=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ns=null,hd=!1}catch(o){throw ns!==null&&(ns=ns.slice(e+1)),j2(G0,mi),o}finally{at=t,Af=!1}}return null}var Oa=[],Pa=0,Su=null,Tu=0,dr=[],fr=0,ea=null,os=1,ls="";function Ii(e,t){Oa[Pa++]=Tu,Oa[Pa++]=Su,Su=e,Tu=t}function uy(e,t,n){dr[fr++]=os,dr[fr++]=ls,dr[fr++]=ea,ea=e;var s=os;e=ls;var o=32-Ir(s)-1;s&=~(1<<o),n+=1;var l=32-Ir(t)+o;if(30<l){var f=o-o%5;l=(s&(1<<f)-1).toString(32),s>>=f,o-=f,os=1<<32-Ir(t)+o|n<<o|s,ls=l+e}else os=1<<l|n<<o|s,ls=e}function e1(e){e.return!==null&&(Ii(e,1),uy(e,1,0))}function t1(e){for(;e===Su;)Su=Oa[--Pa],Oa[Pa]=null,Tu=Oa[--Pa],Oa[Pa]=null;for(;e===ea;)ea=dr[--fr],dr[fr]=null,ls=dr[--fr],dr[fr]=null,os=dr[--fr],dr[fr]=null}var Zn=null,Qn=null,At=!1,Tr=null;function dy(e,t){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zn=e,Qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ea!==null?{id:os,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zn=e,Qn=null,!0):!1;default:return!1}}function Nh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sh(e){if(At){var t=Qn;if(t){var n=t;if(!dm(e,t)){if(Nh(e))throw Error(ce(418));t=ei(n.nextSibling);var s=Zn;t&&dm(e,t)?dy(s,n):(e.flags=e.flags&-4097|2,At=!1,Zn=e)}}else{if(Nh(e))throw Error(ce(418));e.flags=e.flags&-4097|2,At=!1,Zn=e}}}function fm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function Dc(e){if(e!==Zn)return!1;if(!At)return fm(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ch(e.type,e.memoizedProps)),t&&(t=Qn)){if(Nh(e))throw fy(),Error(ce(418));for(;t;)dy(e,t),t=ei(t.nextSibling)}if(fm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qn=ei(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qn=null}}else Qn=Zn?ei(e.stateNode.nextSibling):null;return!0}function fy(){for(var e=Qn;e;)e=ei(e.nextSibling)}function uo(){Qn=Zn=null,At=!1}function n1(e){Tr===null?Tr=[e]:Tr.push(e)}var bE=ys.ReactCurrentBatchConfig;function Go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var s=n.stateNode}if(!s)throw Error(ce(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(f){var m=o.refs;f===null?delete m[l]:m[l]=f},t._stringRef=l,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Mc(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hm(e){var t=e._init;return t(e._payload)}function hy(e){function t(O,A){if(e){var N=O.deletions;N===null?(O.deletions=[A],O.flags|=16):N.push(A)}}function n(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function s(O,A){for(O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function o(O,A){return O=si(O,A),O.index=0,O.sibling=null,O}function l(O,A,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<A?(O.flags|=2,A):N):(O.flags|=2,A)):(O.flags|=1048576,A)}function f(O){return e&&O.alternate===null&&(O.flags|=2),O}function m(O,A,N,P){return A===null||A.tag!==6?(A=Rf(N,O.mode,P),A.return=O,A):(A=o(A,N),A.return=O,A)}function x(O,A,N,P){var X=N.type;return X===Na?w(O,A,N.props.children,P,N.key):A!==null&&(A.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===js&&hm(X)===A.type)?(P=o(A,N.props),P.ref=Go(O,A,N),P.return=O,P):(P=lu(N.type,N.key,N.props,null,O.mode,P),P.ref=Go(O,A,N),P.return=O,P)}function p(O,A,N,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=Of(N,O.mode,P),A.return=O,A):(A=o(A,N.children||[]),A.return=O,A)}function w(O,A,N,P,X){return A===null||A.tag!==7?(A=$i(N,O.mode,P,X),A.return=O,A):(A=o(A,N),A.return=O,A)}function b(O,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Rf(""+A,O.mode,N),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case kc:return N=lu(A.type,A.key,A.props,null,O.mode,N),N.ref=Go(O,null,A),N.return=O,N;case ka:return A=Of(A,O.mode,N),A.return=O,A;case js:var P=A._init;return b(O,P(A._payload),N)}if(tl(A)||Uo(A))return A=$i(A,O.mode,N,null),A.return=O,A;Mc(O,A)}return null}function C(O,A,N,P){var X=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:m(O,A,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case kc:return N.key===X?x(O,A,N,P):null;case ka:return N.key===X?p(O,A,N,P):null;case js:return X=N._init,C(O,A,X(N._payload),P)}if(tl(N)||Uo(N))return X!==null?null:w(O,A,N,P,null);Mc(O,N)}return null}function S(O,A,N,P,X){if(typeof P=="string"&&P!==""||typeof P=="number")return O=O.get(N)||null,m(A,O,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case kc:return O=O.get(P.key===null?N:P.key)||null,x(A,O,P,X);case ka:return O=O.get(P.key===null?N:P.key)||null,p(A,O,P,X);case js:var Y=P._init;return S(O,A,N,Y(P._payload),X)}if(tl(P)||Uo(P))return O=O.get(N)||null,w(A,O,P,X,null);Mc(A,P)}return null}function k(O,A,N,P){for(var X=null,Y=null,V=A,z=A=0,H=null;V!==null&&z<N.length;z++){V.index>z?(H=V,V=null):H=V.sibling;var re=C(O,V,N[z],P);if(re===null){V===null&&(V=H);break}e&&V&&re.alternate===null&&t(O,V),A=l(re,A,z),Y===null?X=re:Y.sibling=re,Y=re,V=H}if(z===N.length)return n(O,V),At&&Ii(O,z),X;if(V===null){for(;z<N.length;z++)V=b(O,N[z],P),V!==null&&(A=l(V,A,z),Y===null?X=V:Y.sibling=V,Y=V);return At&&Ii(O,z),X}for(V=s(O,V);z<N.length;z++)H=S(V,O,z,N[z],P),H!==null&&(e&&H.alternate!==null&&V.delete(H.key===null?z:H.key),A=l(H,A,z),Y===null?X=H:Y.sibling=H,Y=H);return e&&V.forEach(function(de){return t(O,de)}),At&&Ii(O,z),X}function _(O,A,N,P){var X=Uo(N);if(typeof X!="function")throw Error(ce(150));if(N=X.call(N),N==null)throw Error(ce(151));for(var Y=X=null,V=A,z=A=0,H=null,re=N.next();V!==null&&!re.done;z++,re=N.next()){V.index>z?(H=V,V=null):H=V.sibling;var de=C(O,V,re.value,P);if(de===null){V===null&&(V=H);break}e&&V&&de.alternate===null&&t(O,V),A=l(de,A,z),Y===null?X=de:Y.sibling=de,Y=de,V=H}if(re.done)return n(O,V),At&&Ii(O,z),X;if(V===null){for(;!re.done;z++,re=N.next())re=b(O,re.value,P),re!==null&&(A=l(re,A,z),Y===null?X=re:Y.sibling=re,Y=re);return At&&Ii(O,z),X}for(V=s(O,V);!re.done;z++,re=N.next())re=S(V,O,z,re.value,P),re!==null&&(e&&re.alternate!==null&&V.delete(re.key===null?z:re.key),A=l(re,A,z),Y===null?X=re:Y.sibling=re,Y=re);return e&&V.forEach(function(se){return t(O,se)}),At&&Ii(O,z),X}function j(O,A,N,P){if(typeof N=="object"&&N!==null&&N.type===Na&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case kc:e:{for(var X=N.key,Y=A;Y!==null;){if(Y.key===X){if(X=N.type,X===Na){if(Y.tag===7){n(O,Y.sibling),A=o(Y,N.props.children),A.return=O,O=A;break e}}else if(Y.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===js&&hm(X)===Y.type){n(O,Y.sibling),A=o(Y,N.props),A.ref=Go(O,Y,N),A.return=O,O=A;break e}n(O,Y);break}else t(O,Y);Y=Y.sibling}N.type===Na?(A=$i(N.props.children,O.mode,P,N.key),A.return=O,O=A):(P=lu(N.type,N.key,N.props,null,O.mode,P),P.ref=Go(O,A,N),P.return=O,O=P)}return f(O);case ka:e:{for(Y=N.key;A!==null;){if(A.key===Y)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){n(O,A.sibling),A=o(A,N.children||[]),A.return=O,O=A;break e}else{n(O,A);break}else t(O,A);A=A.sibling}A=Of(N,O.mode,P),A.return=O,O=A}return f(O);case js:return Y=N._init,j(O,A,Y(N._payload),P)}if(tl(N))return k(O,A,N,P);if(Uo(N))return _(O,A,N,P);Mc(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,A!==null&&A.tag===6?(n(O,A.sibling),A=o(A,N),A.return=O,O=A):(n(O,A),A=Rf(N,O.mode,P),A.return=O,O=A),f(O)):n(O,A)}return j}var fo=hy(!0),py=hy(!1),Iu=pi(null),_u=null,ja=null,r1=null;function s1(){r1=ja=_u=null}function i1(e){var t=Iu.current;vt(Iu),e._currentValue=t}function Th(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ka(e,t){_u=e,r1=ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(r1!==e)if(e={context:e,memoizedValue:t,next:null},ja===null){if(_u===null)throw Error(ce(308));ja=e,_u.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Di=null;function a1(e){Di===null?Di=[e]:Di.push(e)}function my(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,a1(t)):(n.next=o.next,o.next=n),t.interleaved=n,ms(e,s)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ds=!1;function o1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,rt&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,ms(e,n)}return o=s.interleaved,o===null?(t.next=t,a1(s)):(t.next=o.next,o.next=t),s.interleaved=t,ms(e,n)}function nu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,X0(e,n)}}function pm(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=f:l=l.next=f,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ru(e,t,n,s){var o=e.updateQueue;Ds=!1;var l=o.firstBaseUpdate,f=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var x=m,p=x.next;x.next=null,f===null?l=p:f.next=p,f=x;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==f&&(m===null?w.firstBaseUpdate=p:m.next=p,w.lastBaseUpdate=x))}if(l!==null){var b=o.baseState;f=0,w=p=x=null,m=l;do{var C=m.lane,S=m.eventTime;if((s&C)===C){w!==null&&(w=w.next={eventTime:S,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var k=e,_=m;switch(C=t,S=n,_.tag){case 1:if(k=_.payload,typeof k=="function"){b=k.call(S,b,C);break e}b=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=_.payload,C=typeof k=="function"?k.call(S,b,C):k,C==null)break e;b=Pt({},b,C);break e;case 2:Ds=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[m]:C.push(m))}else S={eventTime:S,lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(p=w=S,x=b):w=w.next=S,f|=C;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;C=m,m=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(1);if(w===null&&(x=b),o.baseState=x,o.firstBaseUpdate=p,o.lastBaseUpdate=w,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);na|=f,e.lanes=f,e.memoizedState=b}}function mm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(ce(191,o));o.call(s)}}}var ic={},Qr=pi(ic),_l=pi(ic),Rl=pi(ic);function Mi(e){if(e===ic)throw Error(ce(174));return e}function l1(e,t){switch(pt(Rl,t),pt(_l,e),pt(Qr,ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lh(t,e)}vt(Qr),pt(Qr,t)}function ho(){vt(Qr),vt(_l),vt(Rl)}function xy(e){Mi(Rl.current);var t=Mi(Qr.current),n=lh(t,e.type);t!==n&&(pt(_l,e),pt(Qr,n))}function c1(e){_l.current===e&&(vt(Qr),vt(_l))}var Tt=pi(0);function Ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kf=[];function u1(){for(var e=0;e<kf.length;e++)kf[e]._workInProgressVersionPrimary=null;kf.length=0}var ru=ys.ReactCurrentDispatcher,Nf=ys.ReactCurrentBatchConfig,ta=0,Rt=null,qt=null,nn=null,Pu=!1,dl=!1,Ol=0,vE=0;function pn(){throw Error(ce(321))}function d1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Or(e[n],t[n]))return!1;return!0}function f1(e,t,n,s,o,l){if(ta=l,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ru.current=e===null||e.memoizedState===null?kE:NE,e=n(s,o),dl){l=0;do{if(dl=!1,Ol=0,25<=l)throw Error(ce(301));l+=1,nn=qt=null,t.updateQueue=null,ru.current=SE,e=n(s,o)}while(dl)}if(ru.current=ju,t=qt!==null&&qt.next!==null,ta=0,nn=qt=Rt=null,Pu=!1,t)throw Error(ce(300));return e}function h1(){var e=Ol!==0;return Ol=0,e}function Hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Rt.memoizedState=nn=e:nn=nn.next=e,nn}function gr(){if(qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var t=nn===null?Rt.memoizedState:nn.next;if(t!==null)nn=t,qt=e;else{if(e===null)throw Error(ce(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},nn===null?Rt.memoizedState=nn=e:nn=nn.next=e}return nn}function Pl(e,t){return typeof t=="function"?t(e):t}function Sf(e){var t=gr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var s=qt,o=s.baseQueue,l=n.pending;if(l!==null){if(o!==null){var f=o.next;o.next=l.next,l.next=f}s.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,s=s.baseState;var m=f=null,x=null,p=l;do{var w=p.lane;if((ta&w)===w)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var b={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(m=x=b,f=s):x=x.next=b,Rt.lanes|=w,na|=w}p=p.next}while(p!==null&&p!==l);x===null?f=s:x.next=m,Or(s,t.memoizedState)||(Bn=!0),t.memoizedState=s,t.baseState=f,t.baseQueue=x,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Rt.lanes|=l,na|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tf(e){var t=gr(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do l=e(l,f.action),f=f.next;while(f!==o);Or(l,t.memoizedState)||(Bn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function yy(){}function wy(e,t){var n=Rt,s=gr(),o=t(),l=!Or(s.memoizedState,o);if(l&&(s.memoizedState=o,Bn=!0),s=s.queue,p1(Cy.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,jl(9,vy.bind(null,n,s,o,t),void 0,null),rn===null)throw Error(ce(349));ta&30||by(n,t,o)}return o}function by(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vy(e,t,n,s){t.value=n,t.getSnapshot=s,Ey(t)&&Ay(e)}function Cy(e,t,n){return n(function(){Ey(t)&&Ay(e)})}function Ey(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Or(e,n)}catch{return!0}}function Ay(e){var t=ms(e,1);t!==null&&_r(t,e,1,-1)}function gm(e){var t=Hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=AE.bind(null,Rt,e),[t.memoizedState,e]}function jl(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ky(){return gr().memoizedState}function su(e,t,n,s){var o=Hr();Rt.flags|=e,o.memoizedState=jl(1|t,n,void 0,s===void 0?null:s)}function pd(e,t,n,s){var o=gr();s=s===void 0?null:s;var l=void 0;if(qt!==null){var f=qt.memoizedState;if(l=f.destroy,s!==null&&d1(s,f.deps)){o.memoizedState=jl(t,n,l,s);return}}Rt.flags|=e,o.memoizedState=jl(1|t,n,l,s)}function xm(e,t){return su(8390656,8,e,t)}function p1(e,t){return pd(2048,8,e,t)}function Ny(e,t){return pd(4,2,e,t)}function Sy(e,t){return pd(4,4,e,t)}function Ty(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iy(e,t,n){return n=n!=null?n.concat([e]):null,pd(4,4,Ty.bind(null,t,e),n)}function m1(){}function _y(e,t){var n=gr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&d1(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ry(e,t){var n=gr();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&d1(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Oy(e,t,n){return ta&21?(Or(n,t)||(n=L2(),Rt.lanes|=n,na|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function CE(e,t){var n=at;at=n!==0&&4>n?n:4,e(!0);var s=Nf.transition;Nf.transition={};try{e(!1),t()}finally{at=n,Nf.transition=s}}function Py(){return gr().memoizedState}function EE(e,t,n){var s=ri(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jy(e))Dy(t,n);else if(n=my(e,t,n,s),n!==null){var o=Nn();_r(n,e,s,o),My(n,t,s)}}function AE(e,t,n){var s=ri(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Dy(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var f=t.lastRenderedState,m=l(f,n);if(o.hasEagerState=!0,o.eagerState=m,Or(m,f)){var x=t.interleaved;x===null?(o.next=o,a1(t)):(o.next=x.next,x.next=o),t.interleaved=o;return}}catch{}finally{}n=my(e,t,o,s),n!==null&&(o=Nn(),_r(n,e,s,o),My(n,t,s))}}function jy(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function Dy(e,t){dl=Pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function My(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,X0(e,n)}}var ju={readContext:mr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},kE={readContext:mr,useCallback:function(e,t){return Hr().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:xm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,su(4194308,4,Ty.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){return su(4,2,e,t)},useMemo:function(e,t){var n=Hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Hr();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=EE.bind(null,Rt,e),[s.memoizedState,e]},useRef:function(e){var t=Hr();return e={current:e},t.memoizedState=e},useState:gm,useDebugValue:m1,useDeferredValue:function(e){return Hr().memoizedState=e},useTransition:function(){var e=gm(!1),t=e[0];return e=CE.bind(null,e[1]),Hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Rt,o=Hr();if(At){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),rn===null)throw Error(ce(349));ta&30||by(s,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,xm(Cy.bind(null,s,l,e),[e]),s.flags|=2048,jl(9,vy.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=Hr(),t=rn.identifierPrefix;if(At){var n=ls,s=os;n=(s&~(1<<32-Ir(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ol++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NE={readContext:mr,useCallback:_y,useContext:mr,useEffect:p1,useImperativeHandle:Iy,useInsertionEffect:Ny,useLayoutEffect:Sy,useMemo:Ry,useReducer:Sf,useRef:ky,useState:function(){return Sf(Pl)},useDebugValue:m1,useDeferredValue:function(e){var t=gr();return Oy(t,qt.memoizedState,e)},useTransition:function(){var e=Sf(Pl)[0],t=gr().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:wy,useId:Py,unstable_isNewReconciler:!1},SE={readContext:mr,useCallback:_y,useContext:mr,useEffect:p1,useImperativeHandle:Iy,useInsertionEffect:Ny,useLayoutEffect:Sy,useMemo:Ry,useReducer:Tf,useRef:ky,useState:function(){return Tf(Pl)},useDebugValue:m1,useDeferredValue:function(e){var t=gr();return qt===null?t.memoizedState=e:Oy(t,qt.memoizedState,e)},useTransition:function(){var e=Tf(Pl)[0],t=gr().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:wy,useId:Py,unstable_isNewReconciler:!1};function Ar(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ih(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var md={isMounted:function(e){return(e=e._reactInternals)?ca(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Nn(),o=ri(e),l=us(s,o);l.payload=t,n!=null&&(l.callback=n),t=ti(e,l,o),t!==null&&(_r(t,e,o,s),nu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Nn(),o=ri(e),l=us(s,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ti(e,l,o),t!==null&&(_r(t,e,o,s),nu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),s=ri(e),o=us(n,s);o.tag=2,t!=null&&(o.callback=t),t=ti(e,o,s),t!==null&&(_r(t,e,s,n),nu(t,e,s))}};function ym(e,t,n,s,o,l,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,f):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,s)||!Nl(o,l):!0}function Ly(e,t,n){var s=!1,o=ui,l=t.contextType;return typeof l=="object"&&l!==null?l=mr(l):(o=Un(t)?Ji:wn.current,s=t.contextTypes,l=(s=s!=null)?co(e,o):ui),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=md,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function wm(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&md.enqueueReplaceState(t,t.state,null)}function _h(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},o1(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=mr(l):(l=Un(t)?Ji:wn.current,o.context=co(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ih(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&md.enqueueReplaceState(o,o.state,null),Ru(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function po(e,t){try{var n="",s=t;do n+=tC(s),s=s.return;while(s);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function If(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var TE=typeof WeakMap=="function"?WeakMap:Map;function By(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Mu||(Mu=!0,Vh=s),Rh(e,t)},n}function Fy(e,t,n){n=us(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Rh(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Rh(e,t),typeof s!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function bm(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new TE;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=zE.bind(null,e,t,n),t.then(e,e))}function vm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cm(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,ti(n,t,1))),n.lanes|=1),e)}var IE=ys.ReactCurrentOwner,Bn=!1;function An(e,t,n,s){t.child=e===null?py(t,null,n,s):fo(t,e.child,n,s)}function Em(e,t,n,s,o){n=n.render;var l=t.ref;return Ka(t,o),s=f1(e,t,n,s,l,o),n=h1(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gs(e,t,o)):(At&&n&&e1(t),t.flags|=1,An(e,t,s,o),t.child)}function Am(e,t,n,s,o){if(e===null){var l=n.type;return typeof l=="function"&&!E1(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Uy(e,t,l,s,o)):(e=lu(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var f=l.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(f,s)&&e.ref===t.ref)return gs(e,t,o)}return t.flags|=1,e=si(l,s),e.ref=t.ref,e.return=t,t.child=e}function Uy(e,t,n,s,o){if(e!==null){var l=e.memoizedProps;if(Nl(l,s)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=s=l,(e.lanes&o)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,gs(e,t,o)}return Oh(e,t,n,s,o)}function Vy(e,t,n){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ma,Yn),Yn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Ma,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,pt(Ma,Yn),Yn|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,pt(Ma,Yn),Yn|=s;return An(e,t,o,n),t.child}function zy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oh(e,t,n,s,o){var l=Un(n)?Ji:wn.current;return l=co(t,l),Ka(t,o),n=f1(e,t,n,s,l,o),s=h1(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,gs(e,t,o)):(At&&s&&e1(t),t.flags|=1,An(e,t,n,o),t.child)}function km(e,t,n,s,o){if(Un(n)){var l=!0;Nu(t)}else l=!1;if(Ka(t,o),t.stateNode===null)iu(e,t),Ly(t,n,s),_h(t,n,s,o),s=!0;else if(e===null){var f=t.stateNode,m=t.memoizedProps;f.props=m;var x=f.context,p=n.contextType;typeof p=="object"&&p!==null?p=mr(p):(p=Un(n)?Ji:wn.current,p=co(t,p));var w=n.getDerivedStateFromProps,b=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function";b||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==s||x!==p)&&wm(t,f,s,p),Ds=!1;var C=t.memoizedState;f.state=C,Ru(t,s,f,o),x=t.memoizedState,m!==s||C!==x||Fn.current||Ds?(typeof w=="function"&&(Ih(t,n,w,s),x=t.memoizedState),(m=Ds||ym(t,n,m,s,C,x,p))?(b||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=x),f.props=s,f.state=x,f.context=p,s=m):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,gy(e,t),m=t.memoizedProps,p=t.type===t.elementType?m:Ar(t.type,m),f.props=p,b=t.pendingProps,C=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=mr(x):(x=Un(n)?Ji:wn.current,x=co(t,x));var S=n.getDerivedStateFromProps;(w=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==b||C!==x)&&wm(t,f,s,x),Ds=!1,C=t.memoizedState,f.state=C,Ru(t,s,f,o);var k=t.memoizedState;m!==b||C!==k||Fn.current||Ds?(typeof S=="function"&&(Ih(t,n,S,s),k=t.memoizedState),(p=Ds||ym(t,n,p,s,C,k,x)||!1)?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,k,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,k,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=k),f.props=s,f.state=k,f.context=x,s=p):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),s=!1)}return Ph(e,t,n,s,l,o)}function Ph(e,t,n,s,o,l){zy(e,t);var f=(t.flags&128)!==0;if(!s&&!f)return o&&um(t,n,!1),gs(e,t,l);s=t.stateNode,IE.current=t;var m=f&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&f?(t.child=fo(t,e.child,null,l),t.child=fo(t,null,m,l)):An(e,t,m,l),t.memoizedState=s.state,o&&um(t,n,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cm(e,t.context,!1),l1(e,t.containerInfo)}function Nm(e,t,n,s,o){return uo(),n1(o),t.flags|=256,An(e,t,n,s),t.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function Dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hy(e,t,n){var s=t.pendingProps,o=Tt.current,l=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(o&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),pt(Tt,o&1),e===null)return Sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=s.children,e=s.fallback,l?(s=t.mode,l=t.child,f={mode:"hidden",children:f},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=f):l=yd(f,s,0,null),e=$i(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dh(n),t.memoizedState=jh,e):g1(t,f));if(o=e.memoizedState,o!==null&&(m=o.dehydrated,m!==null))return _E(e,t,f,s,m,o,n);if(l){l=s.fallback,f=t.mode,o=e.child,m=o.sibling;var x={mode:"hidden",children:s.children};return!(f&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=x,t.deletions=null):(s=si(o,x),s.subtreeFlags=o.subtreeFlags&14680064),m!==null?l=si(m,l):(l=$i(l,f,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,f=e.child.memoizedState,f=f===null?Dh(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},l.memoizedState=f,l.childLanes=e.childLanes&~n,t.memoizedState=jh,s}return l=e.child,e=l.sibling,s=si(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function g1(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lc(e,t,n,s){return s!==null&&n1(s),fo(t,e.child,null,n),e=g1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _E(e,t,n,s,o,l,f){if(n)return t.flags&256?(t.flags&=-257,s=If(Error(ce(422))),Lc(e,t,f,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=yd({mode:"visible",children:s.children},o,0,null),l=$i(l,o,f,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&fo(t,e.child,null,f),t.child.memoizedState=Dh(f),t.memoizedState=jh,l);if(!(t.mode&1))return Lc(e,t,f,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var m=s.dgst;return s=m,l=Error(ce(419)),s=If(l,s,void 0),Lc(e,t,f,s)}if(m=(f&e.childLanes)!==0,Bn||m){if(s=rn,s!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|f)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,ms(e,o),_r(s,e,o,-1))}return C1(),s=If(Error(ce(421))),Lc(e,t,f,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=WE.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Qn=ei(o.nextSibling),Zn=t,At=!0,Tr=null,e!==null&&(dr[fr++]=os,dr[fr++]=ls,dr[fr++]=ea,os=e.id,ls=e.overflow,ea=t),t=g1(t,s.children),t.flags|=4096,t)}function Sm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Th(e.return,t,n)}function _f(e,t,n,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=o)}function Gy(e,t,n){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(An(e,t,s.children,n),s=Tt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sm(e,n,t);else if(e.tag===19)Sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(pt(Tt,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ou(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),_f(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ou(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}_f(t,!0,n,null,l);break;case"together":_f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),na|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=si(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=si(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function RE(e,t,n){switch(t.tag){case 3:Wy(t),uo();break;case 5:xy(t);break;case 1:Un(t.type)&&Nu(t);break;case 4:l1(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;pt(Iu,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(pt(Tt,Tt.current&1),t.flags|=128,null):n&t.child.childLanes?Hy(e,t,n):(pt(Tt,Tt.current&1),e=gs(e,t,n),e!==null?e.sibling:null);pt(Tt,Tt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Gy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),pt(Tt,Tt.current),s)break;return null;case 22:case 23:return t.lanes=0,Vy(e,t,n)}return gs(e,t,n)}var Xy,Mh,Ky,qy;Xy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mh=function(){};Ky=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Mi(Qr.current);var l=null;switch(n){case"input":o=sh(e,o),s=sh(e,s),l=[];break;case"select":o=Pt({},o,{value:void 0}),s=Pt({},s,{value:void 0}),l=[];break;case"textarea":o=oh(e,o),s=oh(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Au)}ch(n,s);var f;n=null;for(p in o)if(!s.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var m=o[p];for(f in m)m.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(wl.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in s){var x=s[p];if(m=o!=null?o[p]:void 0,s.hasOwnProperty(p)&&x!==m&&(x!=null||m!=null))if(p==="style")if(m){for(f in m)!m.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&m[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(l||(l=[]),l.push(p,n)),n=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(l=l||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(wl.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&wt("scroll",e),l||m===x||(l=[])):(l=l||[]).push(p,x))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};qy=function(e,t,n,s){n!==s&&(t.flags|=4)};function Xo(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function OE(e,t,n){var s=t.pendingProps;switch(t1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(t),null;case 1:return Un(t.type)&&ku(),mn(t),null;case 3:return s=t.stateNode,ho(),vt(Fn),vt(wn),u1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Dc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tr!==null&&(Hh(Tr),Tr=null))),Mh(e,t),mn(t),null;case 5:c1(t);var o=Mi(Rl.current);if(n=t.type,e!==null&&t.stateNode!=null)Ky(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ce(166));return mn(t),null}if(e=Mi(Qr.current),Dc(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[qr]=t,s[Il]=l,e=(t.mode&1)!==0,n){case"dialog":wt("cancel",s),wt("close",s);break;case"iframe":case"object":case"embed":wt("load",s);break;case"video":case"audio":for(o=0;o<rl.length;o++)wt(rl[o],s);break;case"source":wt("error",s);break;case"img":case"image":case"link":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"input":Mp(s,l),wt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},wt("invalid",s);break;case"textarea":Bp(s,l),wt("invalid",s)}ch(n,l),o=null;for(var f in l)if(l.hasOwnProperty(f)){var m=l[f];f==="children"?typeof m=="string"?s.textContent!==m&&(l.suppressHydrationWarning!==!0&&jc(s.textContent,m,e),o=["children",m]):typeof m=="number"&&s.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&jc(s.textContent,m,e),o=["children",""+m]):wl.hasOwnProperty(f)&&m!=null&&f==="onScroll"&&wt("scroll",s)}switch(n){case"input":Nc(s),Lp(s,l,!0);break;case"textarea":Nc(s),Fp(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Au)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=f.createElement(n,{is:s.is}):(e=f.createElement(n),n==="select"&&(f=e,s.multiple?f.multiple=!0:s.size&&(f.size=s.size))):e=f.createElementNS(e,n),e[qr]=t,e[Il]=s,Xy(e,t,!1,!1),t.stateNode=e;e:{switch(f=uh(n,s),n){case"dialog":wt("cancel",e),wt("close",e),o=s;break;case"iframe":case"object":case"embed":wt("load",e),o=s;break;case"video":case"audio":for(o=0;o<rl.length;o++)wt(rl[o],e);o=s;break;case"source":wt("error",e),o=s;break;case"img":case"image":case"link":wt("error",e),wt("load",e),o=s;break;case"details":wt("toggle",e),o=s;break;case"input":Mp(e,s),o=sh(e,s),wt("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=Pt({},s,{value:void 0}),wt("invalid",e);break;case"textarea":Bp(e,s),o=oh(e,s),wt("invalid",e);break;default:o=s}ch(n,o),m=o;for(l in m)if(m.hasOwnProperty(l)){var x=m[l];l==="style"?k2(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&E2(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&bl(e,x):typeof x=="number"&&bl(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wl.hasOwnProperty(l)?x!=null&&l==="onScroll"&&wt("scroll",e):x!=null&&U0(e,l,x,f))}switch(n){case"input":Nc(e),Lp(e,s,!1);break;case"textarea":Nc(e),Fp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ci(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Wa(e,!!s.multiple,l,!1):s.defaultValue!=null&&Wa(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mn(t),null;case 6:if(e&&t.stateNode!=null)qy(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ce(166));if(n=Mi(Rl.current),Mi(Qr.current),Dc(t)){if(s=t.stateNode,n=t.memoizedProps,s[qr]=t,(l=s.nodeValue!==n)&&(e=Zn,e!==null))switch(e.tag){case 3:jc(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jc(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[qr]=t,t.stateNode=s}return mn(t),null;case 13:if(vt(Tt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&Qn!==null&&t.mode&1&&!(t.flags&128))fy(),uo(),t.flags|=98560,l=!1;else if(l=Dc(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(ce(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ce(317));l[qr]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mn(t),l=!1}else Tr!==null&&(Hh(Tr),Tr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?Zt===0&&(Zt=3):C1())),t.updateQueue!==null&&(t.flags|=4),mn(t),null);case 4:return ho(),Mh(e,t),e===null&&Sl(t.stateNode.containerInfo),mn(t),null;case 10:return i1(t.type._context),mn(t),null;case 17:return Un(t.type)&&ku(),mn(t),null;case 19:if(vt(Tt),l=t.memoizedState,l===null)return mn(t),null;if(s=(t.flags&128)!==0,f=l.rendering,f===null)if(s)Xo(l,!1);else{if(Zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=Ou(e),f!==null){for(t.flags|=128,Xo(l,!1),s=f.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,f=l.alternate,f===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,e=f.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pt(Tt,Tt.current&1|2),t.child}e=e.sibling}l.tail!==null&&zt()>mo&&(t.flags|=128,s=!0,Xo(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ou(f),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!At)return mn(t),null}else 2*zt()-l.renderingStartTime>mo&&n!==1073741824&&(t.flags|=128,s=!0,Xo(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(n=l.last,n!==null?n.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,n=Tt.current,pt(Tt,s?n&1|2:n&1),t):(mn(t),null);case 22:case 23:return v1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Yn&1073741824&&(mn(t),t.subtreeFlags&6&&(t.flags|=8192)):mn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function PE(e,t){switch(t1(t),t.tag){case 1:return Un(t.type)&&ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),vt(Fn),vt(wn),u1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return c1(t),null;case 13:if(vt(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(Tt),null;case 4:return ho(),null;case 10:return i1(t.type._context),null;case 22:case 23:return v1(),null;case 24:return null;default:return null}}var Bc=!1,xn=!1,jE=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Da(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ft(e,t,s)}else n.current=null}function Lh(e,t,n){try{n()}catch(s){Ft(e,t,s)}}var Tm=!1;function DE(e,t){if(bh=vu,e=J2(),J0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var f=0,m=-1,x=-1,p=0,w=0,b=e,C=null;t:for(;;){for(var S;b!==n||o!==0&&b.nodeType!==3||(m=f+o),b!==l||s!==0&&b.nodeType!==3||(x=f+s),b.nodeType===3&&(f+=b.nodeValue.length),(S=b.firstChild)!==null;)C=b,b=S;for(;;){if(b===e)break t;if(C===n&&++p===o&&(m=f),C===l&&++w===s&&(x=f),(S=b.nextSibling)!==null)break;b=C,C=b.parentNode}b=S}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:e,selectionRange:n},vu=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var _=k.memoizedProps,j=k.memoizedState,O=t.stateNode,A=O.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ar(t.type,_),j);O.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(P){Ft(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return k=Tm,Tm=!1,k}function fl(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Lh(t,n,l)}o=o.next}while(o!==s)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yy(e){var t=e.alternate;t!==null&&(e.alternate=null,Yy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qr],delete t[Il],delete t[Ah],delete t[xE],delete t[yE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qy(e){return e.tag===5||e.tag===3||e.tag===4}function Im(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Au));else if(s!==4&&(e=e.child,e!==null))for(Fh(e,t,n),e=e.sibling;e!==null;)Fh(e,t,n),e=e.sibling}function Uh(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Uh(e,t,n),e=e.sibling;e!==null;)Uh(e,t,n),e=e.sibling}var ln=null,Sr=!1;function _s(e,t,n){for(n=n.child;n!==null;)Zy(e,t,n),n=n.sibling}function Zy(e,t,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(ld,n)}catch{}switch(n.tag){case 5:xn||Da(n,t);case 6:var s=ln,o=Sr;ln=null,_s(e,t,n),ln=s,Sr=o,ln!==null&&(Sr?(e=ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(Sr?(e=ln,n=n.stateNode,e.nodeType===8?Ef(e.parentNode,n):e.nodeType===1&&Ef(e,n),Al(e)):Ef(ln,n.stateNode));break;case 4:s=ln,o=Sr,ln=n.stateNode.containerInfo,Sr=!0,_s(e,t,n),ln=s,Sr=o;break;case 0:case 11:case 14:case 15:if(!xn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,f=l.destroy;l=l.tag,f!==void 0&&(l&2||l&4)&&Lh(n,t,f),o=o.next}while(o!==s)}_s(e,t,n);break;case 1:if(!xn&&(Da(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(m){Ft(n,t,m)}_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:n.mode&1?(xn=(s=xn)||n.memoizedState!==null,_s(e,t,n),xn=s):_s(e,t,n);break;default:_s(e,t,n)}}function _m(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jE),t.forEach(function(s){var o=HE.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function Cr(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var l=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 5:ln=m.stateNode,Sr=!1;break e;case 3:ln=m.stateNode.containerInfo,Sr=!0;break e;case 4:ln=m.stateNode.containerInfo,Sr=!0;break e}m=m.return}if(ln===null)throw Error(ce(160));Zy(l,f,o),ln=null,Sr=!1;var x=o.alternate;x!==null&&(x.return=null),o.return=null}catch(p){Ft(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}function $y(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),Vr(e),s&4){try{fl(3,e,e.return),gd(3,e)}catch(_){Ft(e,e.return,_)}try{fl(5,e,e.return)}catch(_){Ft(e,e.return,_)}}break;case 1:Cr(t,e),Vr(e),s&512&&n!==null&&Da(n,n.return);break;case 5:if(Cr(t,e),Vr(e),s&512&&n!==null&&Da(n,n.return),e.flags&32){var o=e.stateNode;try{bl(o,"")}catch(_){Ft(e,e.return,_)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,f=n!==null?n.memoizedProps:l,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&b2(o,l),uh(m,f);var p=uh(m,l);for(f=0;f<x.length;f+=2){var w=x[f],b=x[f+1];w==="style"?k2(o,b):w==="dangerouslySetInnerHTML"?E2(o,b):w==="children"?bl(o,b):U0(o,w,b,p)}switch(m){case"input":ih(o,l);break;case"textarea":v2(o,l);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var S=l.value;S!=null?Wa(o,!!l.multiple,S,!1):C!==!!l.multiple&&(l.defaultValue!=null?Wa(o,!!l.multiple,l.defaultValue,!0):Wa(o,!!l.multiple,l.multiple?[]:"",!1))}o[Il]=l}catch(_){Ft(e,e.return,_)}}break;case 6:if(Cr(t,e),Vr(e),s&4){if(e.stateNode===null)throw Error(ce(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(_){Ft(e,e.return,_)}}break;case 3:if(Cr(t,e),Vr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(_){Ft(e,e.return,_)}break;case 4:Cr(t,e),Vr(e);break;case 13:Cr(t,e),Vr(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(w1=zt())),s&4&&_m(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(xn=(p=xn)||w,Cr(t,e),xn=p):Cr(t,e),Vr(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(Te=e,w=e.child;w!==null;){for(b=Te=w;Te!==null;){switch(C=Te,S=C.child,C.tag){case 0:case 11:case 14:case 15:fl(4,C,C.return);break;case 1:Da(C,C.return);var k=C.stateNode;if(typeof k.componentWillUnmount=="function"){s=C,n=C.return;try{t=s,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(_){Ft(s,n,_)}}break;case 5:Da(C,C.return);break;case 22:if(C.memoizedState!==null){Om(b);continue}}S!==null?(S.return=C,Te=S):Om(b)}w=w.sibling}e:for(w=null,b=e;;){if(b.tag===5){if(w===null){w=b;try{o=b.stateNode,p?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=b.stateNode,x=b.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=A2("display",f))}catch(_){Ft(e,e.return,_)}}}else if(b.tag===6){if(w===null)try{b.stateNode.nodeValue=p?"":b.memoizedProps}catch(_){Ft(e,e.return,_)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;w===b&&(w=null),b=b.return}w===b&&(w=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Cr(t,e),Vr(e),s&4&&_m(e);break;case 21:break;default:Cr(t,e),Vr(e)}}function Vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qy(n)){var s=n;break e}n=n.return}throw Error(ce(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(bl(o,""),s.flags&=-33);var l=Im(e);Uh(e,l,o);break;case 3:case 4:var f=s.stateNode.containerInfo,m=Im(e);Fh(e,m,f);break;default:throw Error(ce(161))}}catch(x){Ft(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ME(e,t,n){Te=e,Jy(e)}function Jy(e,t,n){for(var s=(e.mode&1)!==0;Te!==null;){var o=Te,l=o.child;if(o.tag===22&&s){var f=o.memoizedState!==null||Bc;if(!f){var m=o.alternate,x=m!==null&&m.memoizedState!==null||xn;m=Bc;var p=xn;if(Bc=f,(xn=x)&&!p)for(Te=o;Te!==null;)f=Te,x=f.child,f.tag===22&&f.memoizedState!==null?Pm(o):x!==null?(x.return=f,Te=x):Pm(o);for(;l!==null;)Te=l,Jy(l),l=l.sibling;Te=o,Bc=m,xn=p}Rm(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,Te=l):Rm(e)}}function Rm(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xn||gd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!xn)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ar(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&mm(t,l,s);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mm(t,f,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var b=w.dehydrated;b!==null&&Al(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}xn||t.flags&512&&Bh(t)}catch(C){Ft(t,t.return,C)}}if(t===e){Te=null;break}if(n=t.sibling,n!==null){n.return=t.return,Te=n;break}Te=t.return}}function Om(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Te=n;break}Te=t.return}}function Pm(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gd(4,t)}catch(x){Ft(t,n,x)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(x){Ft(t,o,x)}}var l=t.return;try{Bh(t)}catch(x){Ft(t,l,x)}break;case 5:var f=t.return;try{Bh(t)}catch(x){Ft(t,f,x)}}}catch(x){Ft(t,t.return,x)}if(t===e){Te=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Te=m;break}Te=t.return}}var LE=Math.ceil,Du=ys.ReactCurrentDispatcher,x1=ys.ReactCurrentOwner,pr=ys.ReactCurrentBatchConfig,rt=0,rn=null,Ht=null,cn=0,Yn=0,Ma=pi(0),Zt=0,Dl=null,na=0,xd=0,y1=0,hl=null,Ln=null,w1=0,mo=1/0,ts=null,Mu=!1,Vh=null,ni=null,Fc=!1,Ys=null,Lu=0,pl=0,zh=null,au=-1,ou=0;function Nn(){return rt&6?zt():au!==-1?au:au=zt()}function ri(e){return e.mode&1?rt&2&&cn!==0?cn&-cn:bE.transition!==null?(ou===0&&(ou=L2()),ou):(e=at,e!==0||(e=window.event,e=e===void 0?16:H2(e.type)),e):1}function _r(e,t,n,s){if(50<pl)throw pl=0,zh=null,Error(ce(185));nc(e,n,s),(!(rt&2)||e!==rn)&&(e===rn&&(!(rt&2)&&(xd|=n),Zt===4&&Bs(e,cn)),Vn(e,s),n===1&&rt===0&&!(t.mode&1)&&(mo=zt()+500,hd&&mi()))}function Vn(e,t){var n=e.callbackNode;bC(e,t);var s=bu(e,e===rn?cn:0);if(s===0)n!==null&&zp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&zp(n),t===1)e.tag===0?wE(jm.bind(null,e)):cy(jm.bind(null,e)),mE(function(){!(rt&6)&&mi()}),n=null;else{switch(B2(s)){case 1:n=G0;break;case 4:n=D2;break;case 16:n=wu;break;case 536870912:n=M2;break;default:n=wu}n=ow(n,ew.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ew(e,t){if(au=-1,ou=0,rt&6)throw Error(ce(327));var n=e.callbackNode;if(qa()&&e.callbackNode!==n)return null;var s=bu(e,e===rn?cn:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Bu(e,s);else{t=s;var o=rt;rt|=2;var l=nw();(rn!==e||cn!==t)&&(ts=null,mo=zt()+500,Zi(e,t));do try{UE();break}catch(m){tw(e,m)}while(1);s1(),Du.current=l,rt=o,Ht!==null?t=0:(rn=null,cn=0,t=Zt)}if(t!==0){if(t===2&&(o=mh(e),o!==0&&(s=o,t=Wh(e,o))),t===1)throw n=Dl,Zi(e,0),Bs(e,s),Vn(e,zt()),n;if(t===6)Bs(e,s);else{if(o=e.current.alternate,!(s&30)&&!BE(o)&&(t=Bu(e,s),t===2&&(l=mh(e),l!==0&&(s=l,t=Wh(e,l))),t===1))throw n=Dl,Zi(e,0),Bs(e,s),Vn(e,zt()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(ce(345));case 2:_i(e,Ln,ts);break;case 3:if(Bs(e,s),(s&130023424)===s&&(t=w1+500-zt(),10<t)){if(bu(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Eh(_i.bind(null,e,Ln,ts),t);break}_i(e,Ln,ts);break;case 4:if(Bs(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var f=31-Ir(s);l=1<<f,f=t[f],f>o&&(o=f),s&=~l}if(s=o,s=zt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*LE(s/1960))-s,10<s){e.timeoutHandle=Eh(_i.bind(null,e,Ln,ts),s);break}_i(e,Ln,ts);break;case 5:_i(e,Ln,ts);break;default:throw Error(ce(329))}}}return Vn(e,zt()),e.callbackNode===n?ew.bind(null,e):null}function Wh(e,t){var n=hl;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=Bu(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&Hh(t)),e}function Hh(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function BE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],l=o.getSnapshot;o=o.value;try{if(!Or(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t){for(t&=~y1,t&=~xd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ir(t),s=1<<n;e[n]=-1,t&=~s}}function jm(e){if(rt&6)throw Error(ce(327));qa();var t=bu(e,0);if(!(t&1))return Vn(e,zt()),null;var n=Bu(e,t);if(e.tag!==0&&n===2){var s=mh(e);s!==0&&(t=s,n=Wh(e,s))}if(n===1)throw n=Dl,Zi(e,0),Bs(e,t),Vn(e,zt()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_i(e,Ln,ts),Vn(e,zt()),null}function b1(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(mo=zt()+500,hd&&mi())}}function ra(e){Ys!==null&&Ys.tag===0&&!(rt&6)&&qa();var t=rt;rt|=1;var n=pr.transition,s=at;try{if(pr.transition=null,at=1,e)return e()}finally{at=s,pr.transition=n,rt=t,!(rt&6)&&mi()}}function v1(){Yn=Ma.current,vt(Ma)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pE(n)),Ht!==null)for(n=Ht.return;n!==null;){var s=n;switch(t1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ku();break;case 3:ho(),vt(Fn),vt(wn),u1();break;case 5:c1(s);break;case 4:ho();break;case 13:vt(Tt);break;case 19:vt(Tt);break;case 10:i1(s.type._context);break;case 22:case 23:v1()}n=n.return}if(rn=e,Ht=e=si(e.current,null),cn=Yn=t,Zt=0,Dl=null,y1=xd=na=0,Ln=hl=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,l=n.pending;if(l!==null){var f=l.next;l.next=o,s.next=f}n.pending=s}Di=null}return e}function tw(e,t){do{var n=Ht;try{if(s1(),ru.current=ju,Pu){for(var s=Rt.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Pu=!1}if(ta=0,nn=qt=Rt=null,dl=!1,Ol=0,x1.current=null,n===null||n.return===null){Zt=1,Dl=t,Ht=null;break}e:{var l=e,f=n.return,m=n,x=t;if(t=cn,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,w=m,b=w.tag;if(!(w.mode&1)&&(b===0||b===11||b===15)){var C=w.alternate;C?(w.updateQueue=C.updateQueue,w.memoizedState=C.memoizedState,w.lanes=C.lanes):(w.updateQueue=null,w.memoizedState=null)}var S=vm(f);if(S!==null){S.flags&=-257,Cm(S,f,m,l,t),S.mode&1&&bm(l,p,t),t=S,x=p;var k=t.updateQueue;if(k===null){var _=new Set;_.add(x),t.updateQueue=_}else k.add(x);break e}else{if(!(t&1)){bm(l,p,t),C1();break e}x=Error(ce(426))}}else if(At&&m.mode&1){var j=vm(f);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Cm(j,f,m,l,t),n1(po(x,m));break e}}l=x=po(x,m),Zt!==4&&(Zt=2),hl===null?hl=[l]:hl.push(l),l=f;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var O=By(l,x,t);pm(l,O);break e;case 1:m=x;var A=l.type,N=l.stateNode;if(!(l.flags&128)&&(typeof A.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ni===null||!ni.has(N)))){l.flags|=65536,t&=-t,l.lanes|=t;var P=Fy(l,m,t);pm(l,P);break e}}l=l.return}while(l!==null)}sw(n)}catch(X){t=X,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(1)}function nw(){var e=Du.current;return Du.current=ju,e===null?ju:e}function C1(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),rn===null||!(na&268435455)&&!(xd&268435455)||Bs(rn,cn)}function Bu(e,t){var n=rt;rt|=2;var s=nw();(rn!==e||cn!==t)&&(ts=null,Zi(e,t));do try{FE();break}catch(o){tw(e,o)}while(1);if(s1(),rt=n,Du.current=s,Ht!==null)throw Error(ce(261));return rn=null,cn=0,Zt}function FE(){for(;Ht!==null;)rw(Ht)}function UE(){for(;Ht!==null&&!dC();)rw(Ht)}function rw(e){var t=aw(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?sw(e):Ht=t,x1.current=null}function sw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=PE(n,t),n!==null){n.flags&=32767,Ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zt=6,Ht=null;return}}else if(n=OE(n,t,Yn),n!==null){Ht=n;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Zt===0&&(Zt=5)}function _i(e,t,n){var s=at,o=pr.transition;try{pr.transition=null,at=1,VE(e,t,n,s)}finally{pr.transition=o,at=s}return null}function VE(e,t,n,s){do qa();while(Ys!==null);if(rt&6)throw Error(ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(vC(e,l),e===rn&&(Ht=rn=null,cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,ow(wu,function(){return qa(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=pr.transition,pr.transition=null;var f=at;at=1;var m=rt;rt|=4,x1.current=null,DE(e,n),$y(n,e),oE(vh),vu=!!bh,vh=bh=null,e.current=n,ME(n),fC(),rt=m,at=f,pr.transition=l}else e.current=n;if(Fc&&(Fc=!1,Ys=e,Lu=o),l=e.pendingLanes,l===0&&(ni=null),mC(n.stateNode),Vn(e,zt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(Mu)throw Mu=!1,e=Vh,Vh=null,e;return Lu&1&&e.tag!==0&&qa(),l=e.pendingLanes,l&1?e===zh?pl++:(pl=0,zh=e):pl=0,mi(),null}function qa(){if(Ys!==null){var e=B2(Lu),t=pr.transition,n=at;try{if(pr.transition=null,at=16>e?16:e,Ys===null)var s=!1;else{if(e=Ys,Ys=null,Lu=0,rt&6)throw Error(ce(331));var o=rt;for(rt|=4,Te=e.current;Te!==null;){var l=Te,f=l.child;if(Te.flags&16){var m=l.deletions;if(m!==null){for(var x=0;x<m.length;x++){var p=m[x];for(Te=p;Te!==null;){var w=Te;switch(w.tag){case 0:case 11:case 15:fl(8,w,l)}var b=w.child;if(b!==null)b.return=w,Te=b;else for(;Te!==null;){w=Te;var C=w.sibling,S=w.return;if(Yy(w),w===p){Te=null;break}if(C!==null){C.return=S,Te=C;break}Te=S}}}var k=l.alternate;if(k!==null){var _=k.child;if(_!==null){k.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}Te=l}}if(l.subtreeFlags&2064&&f!==null)f.return=l,Te=f;else e:for(;Te!==null;){if(l=Te,l.flags&2048)switch(l.tag){case 0:case 11:case 15:fl(9,l,l.return)}var O=l.sibling;if(O!==null){O.return=l.return,Te=O;break e}Te=l.return}}var A=e.current;for(Te=A;Te!==null;){f=Te;var N=f.child;if(f.subtreeFlags&2064&&N!==null)N.return=f,Te=N;else e:for(f=A;Te!==null;){if(m=Te,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:gd(9,m)}}catch(X){Ft(m,m.return,X)}if(m===f){Te=null;break e}var P=m.sibling;if(P!==null){P.return=m.return,Te=P;break e}Te=m.return}}if(rt=o,mi(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(ld,e)}catch{}s=!0}return s}finally{at=n,pr.transition=t}}return!1}function Dm(e,t,n){t=po(n,t),t=By(e,t,1),e=ti(e,t,1),t=Nn(),e!==null&&(nc(e,1,t),Vn(e,t))}function Ft(e,t,n){if(e.tag===3)Dm(e,e,n);else for(;t!==null;){if(t.tag===3){Dm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))){e=po(n,e),e=Fy(t,e,1),t=ti(t,e,1),e=Nn(),t!==null&&(nc(t,1,e),Vn(t,e));break}}t=t.return}}function zE(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,rn===e&&(cn&n)===n&&(Zt===4||Zt===3&&(cn&130023424)===cn&&500>zt()-w1?Zi(e,0):y1|=n),Vn(e,t)}function iw(e,t){t===0&&(e.mode&1?(t=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):t=1);var n=Nn();e=ms(e,t),e!==null&&(nc(e,t,n),Vn(e,n))}function WE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iw(e,n)}function HE(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ce(314))}s!==null&&s.delete(t),iw(e,n)}var aw;aw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,RE(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,At&&t.flags&1048576&&uy(t,Tu,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;iu(e,t),e=t.pendingProps;var o=co(t,wn.current);Ka(t,n),o=f1(null,t,s,e,o,n);var l=h1();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Un(s)?(l=!0,Nu(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o1(t),o.updater=md,t.stateNode=o,o._reactInternals=t,_h(t,s,e,n),t=Ph(null,t,s,!0,l,n)):(t.tag=0,At&&l&&e1(t),An(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(iu(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=XE(s),e=Ar(s,e),o){case 0:t=Oh(null,t,s,e,n);break e;case 1:t=km(null,t,s,e,n);break e;case 11:t=Em(null,t,s,e,n);break e;case 14:t=Am(null,t,s,Ar(s.type,e),n);break e}throw Error(ce(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ar(s,o),Oh(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ar(s,o),km(e,t,s,o,n);case 3:e:{if(Wy(t),e===null)throw Error(ce(387));s=t.pendingProps,l=t.memoizedState,o=l.element,gy(e,t),Ru(t,s,null,n);var f=t.memoizedState;if(s=f.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=po(Error(ce(423)),t),t=Nm(e,t,s,n,o);break e}else if(s!==o){o=po(Error(ce(424)),t),t=Nm(e,t,s,n,o);break e}else for(Qn=ei(t.stateNode.containerInfo.firstChild),Zn=t,At=!0,Tr=null,n=py(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),s===o){t=gs(e,t,n);break e}An(e,t,s,n)}t=t.child}return t;case 5:return xy(t),e===null&&Sh(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,f=o.children,Ch(s,o)?f=null:l!==null&&Ch(s,l)&&(t.flags|=32),zy(e,t),An(e,t,f,n),t.child;case 6:return e===null&&Sh(t),null;case 13:return Hy(e,t,n);case 4:return l1(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fo(t,null,s,n):An(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ar(s,o),Em(e,t,s,o,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,f=o.value,pt(Iu,s._currentValue),s._currentValue=f,l!==null)if(Or(l.value,f)){if(l.children===o.children&&!Fn.current){t=gs(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){f=l.child;for(var x=m.firstContext;x!==null;){if(x.context===s){if(l.tag===1){x=us(-1,n&-n),x.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?x.next=x:(x.next=w.next,w.next=x),p.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),Th(l.return,n,t),m.lanes|=n;break}x=x.next}}else if(l.tag===10)f=l.type===t.type?null:l.child;else if(l.tag===18){if(f=l.return,f===null)throw Error(ce(341));f.lanes|=n,m=f.alternate,m!==null&&(m.lanes|=n),Th(f,n,t),f=l.sibling}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===t){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}An(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Ka(t,n),o=mr(o),s=s(o),t.flags|=1,An(e,t,s,n),t.child;case 14:return s=t.type,o=Ar(s,t.pendingProps),o=Ar(s.type,o),Am(e,t,s,o,n);case 15:return Uy(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ar(s,o),iu(e,t),t.tag=1,Un(s)?(e=!0,Nu(t)):e=!1,Ka(t,n),Ly(t,s,o),_h(t,s,o,n),Ph(null,t,s,!0,e,n);case 19:return Gy(e,t,n);case 22:return Vy(e,t,n)}throw Error(ce(156,t.tag))};function ow(e,t){return j2(e,t)}function GE(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,n,s){return new GE(e,t,n,s)}function E1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XE(e){if(typeof e=="function")return E1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z0)return 11;if(e===W0)return 14}return 2}function si(e,t){var n=e.alternate;return n===null?(n=hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lu(e,t,n,s,o,l){var f=2;if(s=e,typeof e=="function")E1(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Na:return $i(n.children,o,l,t);case V0:f=8,o|=8;break;case eh:return e=hr(12,n,t,o|2),e.elementType=eh,e.lanes=l,e;case th:return e=hr(13,n,t,o),e.elementType=th,e.lanes=l,e;case nh:return e=hr(19,n,t,o),e.elementType=nh,e.lanes=l,e;case x2:return yd(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m2:f=10;break e;case g2:f=9;break e;case z0:f=11;break e;case W0:f=14;break e;case js:f=16,s=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=hr(f,n,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function $i(e,t,n,s){return e=hr(7,e,s,t),e.lanes=n,e}function yd(e,t,n,s){return e=hr(22,e,s,t),e.elementType=x2,e.lanes=n,e.stateNode={isHidden:!1},e}function Rf(e,t,n){return e=hr(6,e,null,t),e.lanes=n,e}function Of(e,t,n){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KE(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function A1(e,t,n,s,o,l,f,m,x){return e=new KE(e,t,n,m,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=hr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},o1(l),e}function qE(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function lw(e){if(!e)return ui;e=e._reactInternals;e:{if(ca(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(Un(n))return ly(e,n,t)}return t}function cw(e,t,n,s,o,l,f,m,x){return e=A1(n,s,!0,e,o,l,f,m,x),e.context=lw(null),n=e.current,s=Nn(),o=ri(n),l=us(s,o),l.callback=t??null,ti(n,l,o),e.current.lanes=o,nc(e,o,s),Vn(e,s),e}function wd(e,t,n,s){var o=t.current,l=Nn(),f=ri(o);return n=lw(n),t.context===null?t.context=n:t.pendingContext=n,t=us(l,f),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ti(o,t,f),e!==null&&(_r(e,o,f,l),nu(e,o,f)),f}function Fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function k1(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function YE(){return null}var uw=typeof reportError=="function"?reportError:function(e){console.error(e)};function N1(e){this._internalRoot=e}bd.prototype.render=N1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));wd(e,t,null,null)};bd.prototype.unmount=N1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ra(function(){wd(null,e,null,null)}),t[ps]=null}};function bd(e){this._internalRoot=e}bd.prototype.unstable_scheduleHydration=function(e){if(e){var t=V2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ls.length&&t!==0&&t<Ls[n].priority;n++);Ls.splice(n,0,e),n===0&&W2(e)}};function S1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function QE(e,t,n,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var p=Fu(f);l.call(p)}}var f=cw(t,s,e,0,null,!1,!1,"",Lm);return e._reactRootContainer=f,e[ps]=f.current,Sl(e.nodeType===8?e.parentNode:e),ra(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var m=s;s=function(){var p=Fu(x);m.call(p)}}var x=A1(e,0,!1,null,null,!1,!1,"",Lm);return e._reactRootContainer=x,e[ps]=x.current,Sl(e.nodeType===8?e.parentNode:e),ra(function(){wd(t,x,n,s)}),x}function Cd(e,t,n,s,o){var l=n._reactRootContainer;if(l){var f=l;if(typeof o=="function"){var m=o;o=function(){var x=Fu(f);m.call(x)}}wd(t,f,e,o)}else f=QE(n,t,e,o,s);return Fu(f)}F2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nl(t.pendingLanes);n!==0&&(X0(t,n|1),Vn(t,zt()),!(rt&6)&&(mo=zt()+500,mi()))}break;case 13:ra(function(){var s=ms(e,1);if(s!==null){var o=Nn();_r(s,e,1,o)}}),k1(e,1)}};K0=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=Nn();_r(t,e,134217728,n)}k1(e,134217728)}};U2=function(e){if(e.tag===13){var t=ri(e),n=ms(e,t);if(n!==null){var s=Nn();_r(n,e,t,s)}k1(e,t)}};V2=function(){return at};z2=function(e,t){var n=at;try{return at=e,t()}finally{at=n}};fh=function(e,t,n){switch(t){case"input":if(ih(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=fd(s);if(!o)throw Error(ce(90));w2(s),ih(s,o)}}}break;case"textarea":v2(e,n);break;case"select":t=n.value,t!=null&&Wa(e,!!n.multiple,t,!1)}};T2=b1;I2=ra;var ZE={usingClientEntryPoint:!1,Events:[sc,_a,fd,N2,S2,b1]},Ko={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$E={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O2(e),e===null?null:e.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||YE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ld=Uc.inject($E),Yr=Uc}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;er.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S1(t))throw Error(ce(200));return qE(e,t,null,n)};er.createRoot=function(e,t){if(!S1(e))throw Error(ce(299));var n=!1,s="",o=uw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=A1(e,1,!1,null,null,n,!1,s,o),e[ps]=t.current,Sl(e.nodeType===8?e.parentNode:e),new N1(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=O2(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return ra(e)};er.hydrate=function(e,t,n){if(!vd(t))throw Error(ce(200));return Cd(null,e,t,!0,n)};er.hydrateRoot=function(e,t,n){if(!S1(e))throw Error(ce(405));var s=n!=null&&n.hydratedSources||null,o=!1,l="",f=uw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=cw(t,null,e,1,n??null,o,!1,l,f),e[ps]=t.current,Sl(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new bd(t)};er.render=function(e,t,n){if(!vd(t))throw Error(ce(200));return Cd(null,e,t,!1,n)};er.unmountComponentAtNode=function(e){if(!vd(e))throw Error(ce(40));return e._reactRootContainer?(ra(function(){Cd(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};er.unstable_batchedUpdates=b1;er.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!vd(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Cd(e,t,n,!1,s)};er.version="18.3.1-next-f1338f8080-20240426";function dw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dw)}catch(e){console.error(e)}}dw(),d2.exports=er;var JE=d2.exports,Bm=JE;$f.createRoot=Bm.createRoot,$f.hydrateRoot=Bm.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ml.apply(this,arguments)}var Qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qs||(Qs={}));const Fm="popstate";function e4(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:f,hash:m}=s.location;return Gh("",{pathname:l,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Uu(o)}return n4(t,n,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t4(){return Math.random().toString(36).substr(2,8)}function Um(e,t){return{usr:e.state,key:e.key,idx:t}}function Gh(e,t,n,s){return n===void 0&&(n=null),Ml({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eo(t):t,{state:n,key:t&&t.key||s||t4()})}function Uu(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Eo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function n4(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,f=o.history,m=Qs.Pop,x=null,p=w();p==null&&(p=0,f.replaceState(Ml({},f.state,{idx:p}),""));function w(){return(f.state||{idx:null}).idx}function b(){m=Qs.Pop;let j=w(),O=j==null?null:j-p;p=j,x&&x({action:m,location:_.location,delta:O})}function C(j,O){m=Qs.Push;let A=Gh(_.location,j,O);n&&n(A,j),p=w()+1;let N=Um(A,p),P=_.createHref(A);try{f.pushState(N,"",P)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(P)}l&&x&&x({action:m,location:_.location,delta:1})}function S(j,O){m=Qs.Replace;let A=Gh(_.location,j,O);n&&n(A,j),p=w();let N=Um(A,p),P=_.createHref(A);f.replaceState(N,"",P),l&&x&&x({action:m,location:_.location,delta:0})}function k(j){let O=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof j=="string"?j:Uu(j);return A=A.replace(/ $/,"%20"),Ot(O,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,O)}let _={get action(){return m},get location(){return e(o,f)},listen(j){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(Fm,b),x=j,()=>{o.removeEventListener(Fm,b),x=null}},createHref(j){return t(o,j)},createURL:k,encodeLocation(j){let O=k(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:C,replace:S,go(j){return f.go(j)}};return _}var Vm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vm||(Vm={}));function r4(e,t,n){return n===void 0&&(n="/"),s4(e,t,n,!1)}function s4(e,t,n,s){let o=typeof t=="string"?Eo(t):t,l=go(o.pathname||"/",n);if(l==null)return null;let f=fw(e);i4(f);let m=null;for(let x=0;m==null&&x<f.length;++x){let p=g4(l);m=p4(f[x],p,s)}return m}function fw(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,f,m)=>{let x={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};x.relativePath.startsWith("/")&&(Ot(x.relativePath.startsWith(s),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(s.length));let p=ii([s,x.relativePath]),w=n.concat(x);l.children&&l.children.length>0&&(Ot(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),fw(l.children,t,w,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:f4(p,l.index),routesMeta:w})};return e.forEach((l,f)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,f);else for(let x of hw(l.path))o(l,f,x)}),t}function hw(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let f=hw(s.join("/")),m=[];return m.push(...f.map(x=>x===""?l:[l,x].join("/"))),o&&m.push(...f),m.map(x=>e.startsWith("/")&&x===""?"/":x)}function i4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:h4(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const a4=/^:[\w-]+$/,o4=3,l4=2,c4=1,u4=10,d4=-2,zm=e=>e==="*";function f4(e,t){let n=e.split("/"),s=n.length;return n.some(zm)&&(s+=d4),t&&(s+=l4),n.filter(o=>!zm(o)).reduce((o,l)=>o+(a4.test(l)?o4:l===""?c4:u4),s)}function h4(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function p4(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,o={},l="/",f=[];for(let m=0;m<s.length;++m){let x=s[m],p=m===s.length-1,w=l==="/"?t:t.slice(l.length)||"/",b=Vu({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},w),C=x.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Vu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},w)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ii([l,b.pathname]),pathnameBase:v4(ii([l,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(l=ii([l,b.pathnameBase]))}return f}function Vu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=m4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,w,b)=>{let{paramName:C,isOptional:S}=w;if(C==="*"){let _=m[b]||"";f=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const k=m[b];return S&&!k?p[C]=void 0:p[C]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:f,pattern:e}}function m4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),T1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,x)=>(s.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function g4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const x4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y4=e=>x4.test(e);function w4(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?Eo(e):e,l;if(n)if(y4(n))l=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),T1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+n))}n.startsWith("/")?l=Wm(n.substring(1),"/"):l=Wm(n,t)}else l=t;return{pathname:l,search:C4(s),hash:E4(o)}}function Wm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pf(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function I1(e,t){let n=b4(e);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function _1(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=Eo(e):(o=Ml({},e),Ot(!o.pathname||!o.pathname.includes("?"),Pf("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Pf("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Pf("#","search","hash",o)));let l=e===""||o.pathname==="",f=l?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?t[b]:"/"}let x=w4(o,m),p=f&&f!=="/"&&f.endsWith("/"),w=(l||f===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(p||w)&&(x.pathname+="/"),x}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),v4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,E4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pw=["post","put","patch","delete"];new Set(pw);const k4=["get",...pw];new Set(k4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ll.apply(this,arguments)}const Ed=L.createContext(null),mw=L.createContext(null),ws=L.createContext(null),Ad=L.createContext(null),gi=L.createContext({outlet:null,matches:[],isDataRoute:!1}),gw=L.createContext(null);function N4(e,t){let{relative:n}=t===void 0?{}:t;Ao()||Ot(!1);let{basename:s,navigator:o}=L.useContext(ws),{hash:l,pathname:f,search:m}=kd(e,{relative:n}),x=f;return s!=="/"&&(x=f==="/"?s:ii([s,f])),o.createHref({pathname:x,search:m,hash:l})}function Ao(){return L.useContext(Ad)!=null}function bs(){return Ao()||Ot(!1),L.useContext(Ad).location}function xw(e){L.useContext(ws).static||L.useLayoutEffect(e)}function xi(){let{isDataRoute:e}=L.useContext(gi);return e?F4():S4()}function S4(){Ao()||Ot(!1);let e=L.useContext(Ed),{basename:t,future:n,navigator:s}=L.useContext(ws),{matches:o}=L.useContext(gi),{pathname:l}=bs(),f=JSON.stringify(I1(o,n.v7_relativeSplatPath)),m=L.useRef(!1);return xw(()=>{m.current=!0}),L.useCallback(function(p,w){if(w===void 0&&(w={}),!m.current)return;if(typeof p=="number"){s.go(p);return}let b=_1(p,JSON.parse(f),l,w.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ii([t,b.pathname])),(w.replace?s.replace:s.push)(b,w.state,w)},[t,s,f,l,e])}function kd(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=L.useContext(ws),{matches:o}=L.useContext(gi),{pathname:l}=bs(),f=JSON.stringify(I1(o,s.v7_relativeSplatPath));return L.useMemo(()=>_1(e,JSON.parse(f),l,n==="path"),[e,f,l,n])}function T4(e,t){return I4(e,t)}function I4(e,t,n,s){Ao()||Ot(!1);let{navigator:o}=L.useContext(ws),{matches:l}=L.useContext(gi),f=l[l.length-1],m=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let p=bs(),w;if(t){var b;let j=typeof t=="string"?Eo(t):t;x==="/"||(b=j.pathname)!=null&&b.startsWith(x)||Ot(!1),w=j}else w=p;let C=w.pathname||"/",S=C;if(x!=="/"){let j=x.replace(/^\//,"").split("/");S="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=r4(e,{pathname:S}),_=j4(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:ii([x,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:ii([x,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s);return t&&_?L.createElement(Ad.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Qs.Pop}},_):_}function _4(){let e=B4(),t=A4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:o},n):null,l)}const R4=L.createElement(_4,null);class O4 extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?L.createElement(gi.Provider,{value:this.props.routeContext},L.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P4(e){let{routeContext:t,match:n,children:s}=e,o=L.useContext(Ed);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(gi.Provider,{value:t},s)}function j4(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,m=(o=n)==null?void 0:o.errors;if(m!=null){let w=f.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);w>=0||Ot(!1),f=f.slice(0,Math.min(f.length,w+1))}let x=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let w=0;w<f.length;w++){let b=f[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=w),b.route.id){let{loaderData:C,errors:S}=n,k=b.route.loader&&C[b.route.id]===void 0&&(!S||S[b.route.id]===void 0);if(b.route.lazy||k){x=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((w,b,C)=>{let S,k=!1,_=null,j=null;n&&(S=m&&b.route.id?m[b.route.id]:void 0,_=b.route.errorElement||R4,x&&(p<0&&C===0?(U4("route-fallback",!1),k=!0,j=null):p===C&&(k=!0,j=b.route.hydrateFallbackElement||null)));let O=t.concat(f.slice(0,C+1)),A=()=>{let N;return S?N=_:k?N=j:b.route.Component?N=L.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=w,L.createElement(P4,{match:b,routeContext:{outlet:w,matches:O,isDataRoute:n!=null},children:N})};return n&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?L.createElement(O4,{location:n.location,revalidation:n.revalidation,component:_,error:S,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}var yw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yw||{}),zu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zu||{});function D4(e){let t=L.useContext(Ed);return t||Ot(!1),t}function M4(e){let t=L.useContext(mw);return t||Ot(!1),t}function L4(e){let t=L.useContext(gi);return t||Ot(!1),t}function ww(e){let t=L4(),n=t.matches[t.matches.length-1];return n.route.id||Ot(!1),n.route.id}function B4(){var e;let t=L.useContext(gw),n=M4(zu.UseRouteError),s=ww(zu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function F4(){let{router:e}=D4(yw.UseNavigateStable),t=ww(zu.UseNavigateStable),n=L.useRef(!1);return xw(()=>{n.current=!0}),L.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Ll({fromRouteId:t},l)))},[e,t])}const Hm={};function U4(e,t,n){!t&&!Hm[e]&&(Hm[e]=!0)}function V4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ea(e){let{to:t,replace:n,state:s,relative:o}=e;Ao()||Ot(!1);let{future:l,static:f}=L.useContext(ws),{matches:m}=L.useContext(gi),{pathname:x}=bs(),p=xi(),w=_1(t,I1(m,l.v7_relativeSplatPath),x,o==="path"),b=JSON.stringify(w);return L.useEffect(()=>p(JSON.parse(b),{replace:n,state:s,relative:o}),[p,b,o,n,s]),null}function Kn(e){Ot(!1)}function z4(e){let{basename:t="/",children:n=null,location:s,navigationType:o=Qs.Pop,navigator:l,static:f=!1,future:m}=e;Ao()&&Ot(!1);let x=t.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:x,navigator:l,static:f,future:Ll({v7_relativeSplatPath:!1},m)}),[x,m,l,f]);typeof s=="string"&&(s=Eo(s));let{pathname:w="/",search:b="",hash:C="",state:S=null,key:k="default"}=s,_=L.useMemo(()=>{let j=go(w,x);return j==null?null:{location:{pathname:j,search:b,hash:C,state:S,key:k},navigationType:o}},[x,w,b,C,S,k,o]);return _==null?null:L.createElement(ws.Provider,{value:p},L.createElement(Ad.Provider,{children:n,value:_}))}function Gm(e){let{children:t,location:n}=e;return T4(Xh(t),n)}new Promise(()=>{});function Xh(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(s,o)=>{if(!L.isValidElement(s))return;let l=[...t,o];if(s.type===L.Fragment){n.push.apply(n,Xh(s.props.children,l));return}s.type!==Kn&&Ot(!1),!s.props.index||!s.props.children||Ot(!1);let f={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xh(s.props.children,l)),n.push(f)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wu.apply(this,arguments)}function bw(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function W4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H4(e,t){return e.button===0&&(!t||t==="_self")&&!W4(e)}function Kh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function G4(e,t){let n=Kh(e);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}const X4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],q4="6";try{window.__reactRouterVersion=q4}catch{}const Y4=L.createContext({isTransitioning:!1}),Q4="startTransition",Xm=z3[Q4];function Z4(e){let{basename:t,children:n,future:s,window:o}=e,l=L.useRef();l.current==null&&(l.current=e4({window:o,v5Compat:!0}));let f=l.current,[m,x]=L.useState({action:f.action,location:f.location}),{v7_startTransition:p}=s||{},w=L.useCallback(b=>{p&&Xm?Xm(()=>x(b)):x(b)},[x,p]);return L.useLayoutEffect(()=>f.listen(w),[f,w]),L.useEffect(()=>V4(s),[s]),L.createElement(z4,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const $4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eA=L.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:l,replace:f,state:m,target:x,to:p,preventScrollReset:w,viewTransition:b}=t,C=bw(t,X4),{basename:S}=L.useContext(ws),k,_=!1;if(typeof p=="string"&&J4.test(p)&&(k=p,$4))try{let N=new URL(window.location.href),P=p.startsWith("//")?new URL(N.protocol+p):new URL(p),X=go(P.pathname,S);P.origin===N.origin&&X!=null?p=X+P.search+P.hash:_=!0}catch{}let j=N4(p,{relative:o}),O=nA(p,{replace:f,state:m,target:x,preventScrollReset:w,relative:o,viewTransition:b});function A(N){s&&s(N),N.defaultPrevented||O(N)}return L.createElement("a",Wu({},C,{href:k||j,onClick:_||l?s:A,ref:n,target:x}))}),Vc=L.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:f=!1,style:m,to:x,viewTransition:p,children:w}=t,b=bw(t,K4),C=kd(x,{relative:b.relative}),S=bs(),k=L.useContext(mw),{navigator:_,basename:j}=L.useContext(ws),O=k!=null&&sA(C)&&p===!0,A=_.encodeLocation?_.encodeLocation(C).pathname:C.pathname,N=S.pathname,P=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;o||(N=N.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&j&&(P=go(P,j)||P);const X=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Y=N===A||!f&&N.startsWith(A)&&N.charAt(X)==="/",V=P!=null&&(P===A||!f&&P.startsWith(A)&&P.charAt(A.length)==="/"),z={isActive:Y,isPending:V,isTransitioning:O},H=Y?s:void 0,re;typeof l=="function"?re=l(z):re=[l,Y?"active":null,V?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let de=typeof m=="function"?m(z):m;return L.createElement(eA,Wu({},b,{"aria-current":H,className:re,ref:n,style:de,to:x,viewTransition:p}),typeof w=="function"?w(z):w)});var qh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qh||(qh={}));var Km;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Km||(Km={}));function tA(e){let t=L.useContext(Ed);return t||Ot(!1),t}function nA(e,t){let{target:n,replace:s,state:o,preventScrollReset:l,relative:f,viewTransition:m}=t===void 0?{}:t,x=xi(),p=bs(),w=kd(e,{relative:f});return L.useCallback(b=>{if(H4(b,n)){b.preventDefault();let C=s!==void 0?s:Uu(p)===Uu(w);x(e,{replace:C,state:o,preventScrollReset:l,relative:f,viewTransition:m})}},[p,x,w,s,o,n,e,l,f,m])}function rA(e){let t=L.useRef(Kh(e)),n=L.useRef(!1),s=bs(),o=L.useMemo(()=>G4(s.search,n.current?null:t.current),[s.search]),l=xi(),f=L.useCallback((m,x)=>{const p=Kh(typeof m=="function"?m(o):m);n.current=!0,l("?"+p,x)},[l,o]);return[o,f]}function sA(e,t){t===void 0&&(t={});let n=L.useContext(Y4);n==null&&Ot(!1);let{basename:s}=tA(qh.useViewTransitionState),o=kd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=go(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=go(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vu(o.pathname,f)!=null||Vu(o.pathname,l)!=null}const vw=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Nd=L.createContext({}),Sd=L.createContext(null),Td=typeof document<"u",R1=Td?L.useLayoutEffect:L.useEffect,Cw=L.createContext({strict:!1}),O1=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),iA="framerAppearId",Ew="data-"+O1(iA);function aA(e,t,n,s){const{visualElement:o}=L.useContext(Nd),l=L.useContext(Cw),f=L.useContext(Sd),m=L.useContext(vw).reducedMotion,x=L.useRef();s=s||l.renderer,!x.current&&s&&(x.current=s(e,{visualState:t,parent:o,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const p=x.current;L.useInsertionEffect(()=>{p&&p.update(n,f)});const w=L.useRef(!!(n[Ew]&&!window.HandoffComplete));return R1(()=>{p&&(p.render(),w.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(p.updateFeatures(),!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(w.current=!1,window.HandoffComplete=!0))}),p}function La(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function oA(e,t,n){return L.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):La(n)&&(n.current=s))},[t])}function Bl(e){return typeof e=="string"||Array.isArray(e)}function Id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const P1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j1=["initial",...P1];function _d(e){return Id(e.animate)||j1.some(t=>Bl(e[t]))}function Aw(e){return!!(_d(e)||e.variants)}function lA(e,t){if(_d(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(s)?s:void 0}}return e.inherit!==!1?t:{}}function cA(e){const{initial:t,animate:n}=lA(e,L.useContext(Nd));return L.useMemo(()=>({initial:t,animate:n}),[qm(t),qm(n)])}function qm(e){return Array.isArray(e)?e.join(" "):e}const Ym={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const e in Ym)Fl[e]={isEnabled:t=>Ym[e].some(n=>!!t[n])};function uA(e){for(const t in e)Fl[t]={...Fl[t],...e[t]}}const D1=L.createContext({}),kw=L.createContext({}),dA=Symbol.for("motionComponentSymbol");function fA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){e&&uA(e);function l(m,x){let p;const w={...L.useContext(vw),...m,layoutId:hA(m)},{isStatic:b}=w,C=cA(m),S=s(m,b);if(!b&&Td){C.visualElement=aA(o,S,w,t);const k=L.useContext(kw),_=L.useContext(Cw).strict;C.visualElement&&(p=C.visualElement.loadFeatures(w,_,e,k))}return L.createElement(Nd.Provider,{value:C},p&&C.visualElement?L.createElement(p,{visualElement:C.visualElement,...w}):null,n(o,m,oA(S,C.visualElement,x),S,b,C.visualElement))}const f=L.forwardRef(l);return f[dA]=o,f}function hA({layoutId:e}){const t=L.useContext(D1).id;return t&&e!==void 0?t+"-"+e:e}function pA(e){function t(s,o={}){return fA(e(s,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const mA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M1(e){return typeof e!="string"||e.includes("-")?!1:!!(mA.indexOf(e)>-1||/[A-Z]/.test(e))}const Hu={};function gA(e){Object.assign(Hu,e)}const ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ua=new Set(ac);function Nw(e,{layout:t,layoutId:n}){return ua.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hu[e]||e==="opacity")}const Wn=e=>!!(e&&e.getVelocity),xA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yA=ac.length;function wA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,o){let l="";for(let f=0;f<yA;f++){const m=ac[f];if(e[m]!==void 0){const x=xA[m]||m;l+=`${x}(${e[m]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(e,s?"":l):n&&s&&(l="none"),l}const Sw=e=>t=>typeof t=="string"&&t.startsWith(e),Tw=Sw("--"),Yh=Sw("var(--"),bA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,di=(e,t,n)=>Math.min(Math.max(n,e),t),da={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ml={...da,transform:e=>di(0,1,e)},zc={...da,default:1},gl=e=>Math.round(e*1e5)/1e5,Rd=/(-)?([\d]*\.?[\d])+/g,Iw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,CA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function oc(e){return typeof e=="string"}const lc=e=>({test:t=>oc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Os=lc("deg"),Zr=lc("%"),Me=lc("px"),EA=lc("vh"),AA=lc("vw"),Qm={...Zr,parse:e=>Zr.parse(e)/100,transform:e=>Zr.transform(e*100)},Zm={...da,transform:Math.round},_w={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:Os,skewX:Os,skewY:Os,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:ml,originX:Qm,originY:Qm,originZ:Me,zIndex:Zm,fillOpacity:ml,strokeOpacity:ml,numOctaves:Zm};function L1(e,t,n,s){const{style:o,vars:l,transform:f,transformOrigin:m}=e;let x=!1,p=!1,w=!0;for(const b in t){const C=t[b];if(Tw(b)){l[b]=C;continue}const S=_w[b],k=vA(C,S);if(ua.has(b)){if(x=!0,f[b]=k,!w)continue;C!==(S.default||0)&&(w=!1)}else b.startsWith("origin")?(p=!0,m[b]=k):o[b]=k}if(t.transform||(x||s?o.transform=wA(e.transform,n,w,s):o.transform&&(o.transform="none")),p){const{originX:b="50%",originY:C="50%",originZ:S=0}=m;o.transformOrigin=`${b} ${C} ${S}`}}const B1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rw(e,t,n){for(const s in t)!Wn(t[s])&&!Nw(s,n)&&(e[s]=t[s])}function kA({transformTemplate:e},t,n){return L.useMemo(()=>{const s=B1();return L1(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function NA(e,t,n){const s=e.style||{},o={};return Rw(o,s,e),Object.assign(o,kA(e,t,n)),e.transformValues?e.transformValues(o):o}function SA(e,t,n){const s={},o=NA(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=o,s}const TA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TA.has(e)}let Ow=e=>!Gu(e);function IA(e){e&&(Ow=t=>t.startsWith("on")?!Gu(t):e(t))}try{IA(require("@emotion/is-prop-valid").default)}catch{}function _A(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(Ow(o)||n===!0&&Gu(o)||!t&&!Gu(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function $m(e,t,n){return typeof e=="string"?e:Me.transform(t+n*e)}function RA(e,t,n){const s=$m(t,e.x,e.width),o=$m(n,e.y,e.height);return`${s} ${o}`}const OA={offset:"stroke-dashoffset",array:"stroke-dasharray"},PA={offset:"strokeDashoffset",array:"strokeDasharray"};function jA(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?OA:PA;e[l.offset]=Me.transform(-s);const f=Me.transform(t),m=Me.transform(n);e[l.array]=`${f} ${m}`}function F1(e,{attrX:t,attrY:n,attrScale:s,originX:o,originY:l,pathLength:f,pathSpacing:m=1,pathOffset:x=0,...p},w,b,C){if(L1(e,p,w,C),b){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:S,style:k,dimensions:_}=e;S.transform&&(_&&(k.transform=S.transform),delete S.transform),_&&(o!==void 0||l!==void 0||k.transform)&&(k.transformOrigin=RA(_,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(S.x=t),n!==void 0&&(S.y=n),s!==void 0&&(S.scale=s),f!==void 0&&jA(S,f,m,x,!1)}const Pw=()=>({...B1(),attrs:{}}),U1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function DA(e,t,n,s){const o=L.useMemo(()=>{const l=Pw();return F1(l,t,{enableHardwareAcceleration:!1},U1(s),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Rw(l,e.style,e),o.style={...l,...o.style}}return o}function MA(e=!1){return(n,s,o,{latestValues:l},f)=>{const x=(M1(n)?DA:SA)(s,l,f,n),w={..._A(s,typeof n=="string",e),...x,ref:o},{children:b}=s,C=L.useMemo(()=>Wn(b)?b.get():b,[b]);return L.createElement(n,{...w,children:C})}}function jw(e,{style:t,vars:n},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const l in n)e.style.setProperty(l,n[l])}const Dw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mw(e,t,n,s){jw(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(Dw.has(o)?o:O1(o),t.attrs[o])}function V1(e,t){const{style:n}=e,s={};for(const o in n)(Wn(n[o])||t.style&&Wn(t.style[o])||Nw(o,e))&&(s[o]=n[o]);return s}function Lw(e,t){const n=V1(e,t);for(const s in e)if(Wn(e[s])||Wn(t[s])){const o=ac.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}function z1(e,t,n,s={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,o)),t}function Bw(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xu=e=>Array.isArray(e),LA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),BA=e=>Xu(e)?e[e.length-1]||0:e;function cu(e){const t=Wn(e)?e.get():e;return LA(t)?t.toValue():t}function FA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,o,l){const f={latestValues:UA(s,o,l,e),renderState:t()};return n&&(f.mount=m=>n(s,m,f)),f}const Fw=e=>(t,n)=>{const s=L.useContext(Nd),o=L.useContext(Sd),l=()=>FA(e,t,s,o);return n?l():Bw(l)};function UA(e,t,n,s){const o={},l=s(e,{});for(const C in l)o[C]=cu(l[C]);let{initial:f,animate:m}=e;const x=_d(e),p=Aw(e);t&&p&&!x&&e.inherit!==!1&&(f===void 0&&(f=t.initial),m===void 0&&(m=t.animate));let w=n?n.initial===!1:!1;w=w||f===!1;const b=w?m:f;return b&&typeof b!="boolean"&&!Id(b)&&(Array.isArray(b)?b:[b]).forEach(S=>{const k=z1(e,S);if(!k)return;const{transitionEnd:_,transition:j,...O}=k;for(const A in O){let N=O[A];if(Array.isArray(N)){const P=w?N.length-1:0;N=N[P]}N!==null&&(o[A]=N)}for(const A in _)o[A]=_[A]}),o}const Ut=e=>e;class Jm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function VA(e){let t=new Jm,n=new Jm,s=0,o=!1,l=!1;const f=new WeakSet,m={schedule:(x,p=!1,w=!1)=>{const b=w&&o,C=b?t:n;return p&&f.add(x),C.add(x)&&b&&o&&(s=t.order.length),x},cancel:x=>{n.remove(x),f.delete(x)},process:x=>{if(o){l=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let p=0;p<s;p++){const w=t.order[p];w(x),f.has(w)&&(m.schedule(w),e())}o=!1,l&&(l=!1,m.process(x))}};return m}const Wc=["prepare","read","update","preRender","render","postRender"],zA=40;function WA(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=Wc.reduce((b,C)=>(b[C]=VA(()=>n=!0),b),{}),f=b=>l[b].process(o),m=()=>{const b=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(b-o.timestamp,zA),1),o.timestamp=b,o.isProcessing=!0,Wc.forEach(f),o.isProcessing=!1,n&&t&&(s=!1,e(m))},x=()=>{n=!0,s=!0,o.isProcessing||e(m)};return{schedule:Wc.reduce((b,C)=>{const S=l[C];return b[C]=(k,_=!1,j=!1)=>(n||x(),S.schedule(k,_,j)),b},{}),cancel:b=>Wc.forEach(C=>l[C].cancel(b)),state:o,steps:l}}const{schedule:mt,cancel:xs,state:gn,steps:jf}=WA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),HA={useVisualState:Fw({scrapeMotionValuesFromProps:Lw,createRenderState:Pw,onMount:(e,t,{renderState:n,latestValues:s})=>{mt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),mt.render(()=>{F1(n,s,{enableHardwareAcceleration:!1},U1(t.tagName),e.transformTemplate),Mw(t,n)})}})},GA={useVisualState:Fw({scrapeMotionValuesFromProps:V1,createRenderState:B1})};function XA(e,{forwardMotionProps:t=!1},n,s){return{...M1(e)?HA:GA,preloadedFeatures:n,useRender:MA(t),createVisualElement:s,Component:e}}function cs(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const Uw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Od(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const KA=e=>t=>Uw(t)&&e(t,Od(t));function ds(e,t,n,s){return cs(e,t,KA(n),s)}const qA=(e,t)=>n=>t(e(n)),ai=(...e)=>e.reduce(qA);function Vw(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const eg=Vw("dragHorizontal"),tg=Vw("dragVertical");function zw(e){let t=!1;if(e==="y")t=tg();else if(e==="x")t=eg();else{const n=eg(),s=tg();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function Ww(){const e=zw(!0);return e?(e(),!1):!0}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ng(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),o=(l,f)=>{if(l.pointerType==="touch"||Ww())return;const m=e.getProps();e.animationState&&m.whileHover&&e.animationState.setActive("whileHover",t),m[s]&&mt.update(()=>m[s](l,f))};return ds(e.current,n,o,{passive:!e.getProps()[s]})}class YA extends yi{mount(){this.unmount=ai(ng(this.node,!0),ng(this.node,!1))}unmount(){}}class QA extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ai(cs(this.node.current,"focus",()=>this.onFocus()),cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Hw=(e,t)=>t?e===t?!0:Hw(e,t.parentElement):!1;function Df(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Od(n))}class ZA extends yi{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=ds(window,"pointerup",(m,x)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:w,globalTapTarget:b}=this.node.getProps();mt.update(()=>{!b&&!Hw(this.node.current,m.target)?w&&w(m,x):p&&p(m,x)})},{passive:!(s.onTap||s.onPointerUp)}),f=ds(window,"pointercancel",(m,x)=>this.cancelPress(m,x),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=ai(l,f),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const f=m=>{m.key!=="Enter"||!this.checkPressEnd()||Df("up",(x,p)=>{const{onTap:w}=this.node.getProps();w&&mt.update(()=>w(x,p))})};this.removeEndListeners(),this.removeEndListeners=cs(this.node.current,"keyup",f),Df("down",(m,x)=>{this.startPress(m,x)})},n=cs(this.node.current,"keydown",t),s=()=>{this.isPressing&&Df("cancel",(l,f)=>this.cancelPress(l,f))},o=cs(this.node.current,"blur",s);this.removeAccessibleListeners=ai(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&mt.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ww()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&mt.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=ds(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=cs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ai(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qh=new WeakMap,Mf=new WeakMap,$A=e=>{const t=Qh.get(e.target);t&&t(e)},JA=e=>{e.forEach($A)};function e8({root:e,...t}){const n=e||document;Mf.has(n)||Mf.set(n,{});const s=Mf.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(JA,{root:e,...t})),s[o]}function t8(e,t,n){const s=e8(t);return Qh.set(e,n),s.observe(e),()=>{Qh.delete(e),s.unobserve(e)}}const n8={some:0,all:1};class r8 extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:n8[o]},m=x=>{const{isIntersecting:p}=x;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:w,onViewportLeave:b}=this.node.getProps(),C=p?w:b;C&&C(x)};return t8(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(s8(t,n))&&this.startObserver()}unmount(){}}function s8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const i8={inView:{Feature:r8},tap:{Feature:ZA},focus:{Feature:QA},hover:{Feature:YA}};function Gw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function a8(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function o8(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function Pd(e,t,n){const s=e.getProps();return z1(s,t,n!==void 0?n:s.custom,a8(e),o8(e))}let l8=Ut,W1=Ut;const oi=e=>e*1e3,fs=e=>e/1e3,c8={current:!1},Xw=e=>Array.isArray(e)&&typeof e[0]=="number";function Kw(e){return!!(!e||typeof e=="string"&&qw[e]||Xw(e)||Array.isArray(e)&&e.every(Kw))}const sl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function Yw(e){if(e)return Xw(e)?sl(e):Array.isArray(e)?e.map(Yw):qw[e]}function u8(e,t,n,{delay:s=0,duration:o,repeat:l=0,repeatType:f="loop",ease:m,times:x}={}){const p={[t]:n};x&&(p.offset=x);const w=Yw(m);return Array.isArray(w)&&(p.easing=w),e.animate(p,{delay:s,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:f==="reverse"?"alternate":"normal"})}function d8(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const Qw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,f8=1e-7,h8=12;function p8(e,t,n,s,o){let l,f,m=0;do f=t+(n-t)/2,l=Qw(f,s,o)-e,l>0?n=f:t=f;while(Math.abs(l)>f8&&++m<h8);return f}function cc(e,t,n,s){if(e===t&&n===s)return Ut;const o=l=>p8(l,0,1,e,n);return l=>l===0||l===1?l:Qw(o(l),t,s)}const m8=cc(.42,0,1,1),g8=cc(0,0,.58,1),Zw=cc(.42,0,.58,1),x8=e=>Array.isArray(e)&&typeof e[0]!="number",$w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jw=e=>t=>1-e(1-t),H1=e=>1-Math.sin(Math.acos(e)),eb=Jw(H1),y8=$w(H1),tb=cc(.33,1.53,.69,.99),G1=Jw(tb),w8=$w(G1),b8=e=>(e*=2)<1?.5*G1(e):.5*(2-Math.pow(2,-10*(e-1))),v8={linear:Ut,easeIn:m8,easeInOut:Zw,easeOut:g8,circIn:H1,circInOut:y8,circOut:eb,backIn:G1,backInOut:w8,backOut:tb,anticipate:b8},rg=e=>{if(Array.isArray(e)){W1(e.length===4);const[t,n,s,o]=e;return cc(t,n,s,o)}else if(typeof e=="string")return v8[e];return e},X1=(e,t)=>n=>!!(oc(n)&&CA.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),nb=(e,t,n)=>s=>{if(!oc(s))return s;const[o,l,f,m]=s.match(Rd);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},C8=e=>di(0,255,e),Lf={...da,transform:e=>Math.round(C8(e))},Li={test:X1("rgb","red"),parse:nb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Lf.transform(e)+", "+Lf.transform(t)+", "+Lf.transform(n)+", "+gl(ml.transform(s))+")"};function E8(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Zh={test:X1("#"),parse:E8,transform:Li.transform},Ba={test:X1("hsl","hue"),parse:nb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Zr.transform(gl(t))+", "+Zr.transform(gl(n))+", "+gl(ml.transform(s))+")"},En={test:e=>Li.test(e)||Zh.test(e)||Ba.test(e),parse:e=>Li.test(e)?Li.parse(e):Ba.test(e)?Ba.parse(e):Zh.parse(e),transform:e=>oc(e)?e:e.hasOwnProperty("red")?Li.transform(e):Ba.transform(e)},It=(e,t,n)=>-n*e+n*t+e;function Bf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function A8({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,f=0;if(!t)o=l=f=n;else{const m=n<.5?n*(1+t):n+t-n*t,x=2*n-m;o=Bf(x,m,e+1/3),l=Bf(x,m,e),f=Bf(x,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(f*255),alpha:s}}const Ff=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},k8=[Zh,Li,Ba],N8=e=>k8.find(t=>t.test(e));function sg(e){const t=N8(e);let n=t.parse(e);return t===Ba&&(n=A8(n)),n}const rb=(e,t)=>{const n=sg(e),s=sg(t),o={...n};return l=>(o.red=Ff(n.red,s.red,l),o.green=Ff(n.green,s.green,l),o.blue=Ff(n.blue,s.blue,l),o.alpha=It(n.alpha,s.alpha,l),Li.transform(o))};function S8(e){var t,n;return isNaN(e)&&oc(e)&&(((t=e.match(Rd))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Iw))===null||n===void 0?void 0:n.length)||0)>0}const sb={regex:bA,countKey:"Vars",token:"${v}",parse:Ut},ib={regex:Iw,countKey:"Colors",token:"${c}",parse:En.parse},ab={regex:Rd,countKey:"Numbers",token:"${n}",parse:da.parse};function Uf(e,{regex:t,countKey:n,token:s,parse:o}){const l=e.tokenised.match(t);l&&(e["num"+n]=l.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...l.map(o)))}function Ku(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Uf(n,sb),Uf(n,ib),Uf(n,ab),n}function ob(e){return Ku(e).values}function lb(e){const{values:t,numColors:n,numVars:s,tokenised:o}=Ku(e),l=t.length;return f=>{let m=o;for(let x=0;x<l;x++)x<s?m=m.replace(sb.token,f[x]):x<s+n?m=m.replace(ib.token,En.transform(f[x])):m=m.replace(ab.token,gl(f[x]));return m}}const T8=e=>typeof e=="number"?0:e;function I8(e){const t=ob(e);return lb(e)(t.map(T8))}const fi={test:S8,parse:ob,createTransformer:lb,getAnimatableNone:I8},cb=(e,t)=>n=>`${n>0?t:e}`;function ub(e,t){return typeof e=="number"?n=>It(e,t,n):En.test(e)?rb(e,t):e.startsWith("var(")?cb(e,t):fb(e,t)}const db=(e,t)=>{const n=[...e],s=n.length,o=e.map((l,f)=>ub(l,t[f]));return l=>{for(let f=0;f<s;f++)n[f]=o[f](l);return n}},_8=(e,t)=>{const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=ub(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}},fb=(e,t)=>{const n=fi.createTransformer(t),s=Ku(e),o=Ku(t);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?ai(db(s.values,o.values),n):cb(e,t)},Ul=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},ig=(e,t)=>n=>It(e,t,n);function R8(e){return typeof e=="number"?ig:typeof e=="string"?En.test(e)?rb:fb:Array.isArray(e)?db:typeof e=="object"?_8:ig}function O8(e,t,n){const s=[],o=n||R8(e[0]),l=e.length-1;for(let f=0;f<l;f++){let m=o(e[f],e[f+1]);if(t){const x=Array.isArray(t)?t[f]||Ut:t;m=ai(x,m)}s.push(m)}return s}function hb(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(W1(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=O8(t,s,o),m=f.length,x=p=>{let w=0;if(m>1)for(;w<e.length-2&&!(p<e[w+1]);w++);const b=Ul(e[w],e[w+1],p);return f[w](b)};return n?p=>x(di(e[0],e[l-1],p)):x}function P8(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Ul(0,t,s);e.push(It(n,1,o))}}function j8(e){const t=[0];return P8(t,e.length-1),t}function D8(e,t){return e.map(n=>n*t)}function M8(e,t){return e.map(()=>t||Zw).splice(0,e.length-1)}function qu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=x8(s)?s.map(rg):rg(s),l={done:!1,value:t[0]},f=D8(n&&n.length===t.length?n:j8(t),e),m=hb(f,t,{ease:Array.isArray(o)?o:M8(t,o)});return{calculatedDuration:e,next:x=>(l.value=m(x),l.done=x>=e,l)}}function pb(e,t){return t?e*(1e3/t):0}const L8=5;function mb(e,t,n){const s=Math.max(t-L8,0);return pb(n-e(s),t-s)}const Vf=.001,B8=.01,ag=10,F8=.05,U8=1;function V8({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let o,l;l8(e<=oi(ag));let f=1-t;f=di(F8,U8,f),e=di(B8,ag,fs(e)),f<1?(o=p=>{const w=p*f,b=w*e,C=w-n,S=$h(p,f),k=Math.exp(-b);return Vf-C/S*k},l=p=>{const b=p*f*e,C=b*n+n,S=Math.pow(f,2)*Math.pow(p,2)*e,k=Math.exp(-b),_=$h(Math.pow(p,2),f);return(-o(p)+Vf>0?-1:1)*((C-S)*k)/_}):(o=p=>{const w=Math.exp(-p*e),b=(p-n)*e+1;return-Vf+w*b},l=p=>{const w=Math.exp(-p*e),b=(n-p)*(e*e);return w*b});const m=5/e,x=W8(o,l,m);if(e=oi(e),isNaN(x))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(x,2)*s;return{stiffness:p,damping:f*2*Math.sqrt(s*p),duration:e}}}const z8=12;function W8(e,t,n){let s=n;for(let o=1;o<z8;o++)s=s-e(s)/t(s);return s}function $h(e,t){return e*Math.sqrt(1-t*t)}const H8=["duration","bounce"],G8=["stiffness","damping","mass"];function og(e,t){return t.some(n=>e[n]!==void 0)}function X8(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!og(e,G8)&&og(e,H8)){const n=V8(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function gb({keyframes:e,restDelta:t,restSpeed:n,...s}){const o=e[0],l=e[e.length-1],f={done:!1,value:o},{stiffness:m,damping:x,mass:p,duration:w,velocity:b,isResolvedFromDuration:C}=X8({...s,velocity:-fs(s.velocity||0)}),S=b||0,k=x/(2*Math.sqrt(m*p)),_=l-o,j=fs(Math.sqrt(m/p)),O=Math.abs(_)<5;n||(n=O?.01:2),t||(t=O?.005:.5);let A;if(k<1){const N=$h(j,k);A=P=>{const X=Math.exp(-k*j*P);return l-X*((S+k*j*_)/N*Math.sin(N*P)+_*Math.cos(N*P))}}else if(k===1)A=N=>l-Math.exp(-j*N)*(_+(S+j*_)*N);else{const N=j*Math.sqrt(k*k-1);A=P=>{const X=Math.exp(-k*j*P),Y=Math.min(N*P,300);return l-X*((S+k*j*_)*Math.sinh(Y)+N*_*Math.cosh(Y))/N}}return{calculatedDuration:C&&w||null,next:N=>{const P=A(N);if(C)f.done=N>=w;else{let X=S;N!==0&&(k<1?X=mb(A,N,P):X=0);const Y=Math.abs(X)<=n,V=Math.abs(l-P)<=t;f.done=Y&&V}return f.value=f.done?l:P,f}}}function lg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:f,min:m,max:x,restDelta:p=.5,restSpeed:w}){const b=e[0],C={done:!1,value:b},S=z=>m!==void 0&&z<m||x!==void 0&&z>x,k=z=>m===void 0?x:x===void 0||Math.abs(m-z)<Math.abs(x-z)?m:x;let _=n*t;const j=b+_,O=f===void 0?j:f(j);O!==j&&(_=O-b);const A=z=>-_*Math.exp(-z/s),N=z=>O+A(z),P=z=>{const H=A(z),re=N(z);C.done=Math.abs(H)<=p,C.value=C.done?O:re};let X,Y;const V=z=>{S(C.value)&&(X=z,Y=gb({keyframes:[C.value,k(C.value)],velocity:mb(N,z,C.value),damping:o,stiffness:l,restDelta:p,restSpeed:w}))};return V(0),{calculatedDuration:null,next:z=>{let H=!1;return!Y&&X===void 0&&(H=!0,P(z),V(z)),X!==void 0&&z>X?Y.next(z-X):(!H&&P(z),C)}}}const K8=e=>{const t=({timestamp:n})=>e(n);return{start:()=>mt.update(t,!0),stop:()=>xs(t),now:()=>gn.isProcessing?gn.timestamp:performance.now()}},cg=2e4;function ug(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<cg;)t+=n,s=e.next(t);return t>=cg?1/0:t}const q8={decay:lg,inertia:lg,tween:qu,keyframes:qu,spring:gb};function Yu({autoplay:e=!0,delay:t=0,driver:n=K8,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:f=0,repeatType:m="loop",onPlay:x,onStop:p,onComplete:w,onUpdate:b,...C}){let S=1,k=!1,_,j;const O=()=>{j=new Promise(ge=>{_=ge})};O();let A;const N=q8[o]||qu;let P;N!==qu&&typeof s[0]!="number"&&(P=hb([0,100],s,{clamp:!1}),s=[0,100]);const X=N({...C,keyframes:s});let Y;m==="mirror"&&(Y=N({...C,keyframes:[...s].reverse(),velocity:-(C.velocity||0)}));let V="idle",z=null,H=null,re=null;X.calculatedDuration===null&&l&&(X.calculatedDuration=ug(X));const{calculatedDuration:de}=X;let se=1/0,J=1/0;de!==null&&(se=de+f,J=se*(l+1)-f);let he=0;const K=ge=>{if(H===null)return;S>0&&(H=Math.min(H,ge)),S<0&&(H=Math.min(ge-J/S,H)),z!==null?he=z:he=Math.round(ge-H)*S;const $=he-t*(S>=0?1:-1),Ne=S>=0?$<0:$>J;he=Math.max($,0),V==="finished"&&z===null&&(he=J);let q=he,Ee=X;if(l){const we=Math.min(he,J)/se;let Ke=Math.floor(we),Le=we%1;!Le&&we>=1&&(Le=1),Le===1&&Ke--,Ke=Math.min(Ke,l+1),!!(Ke%2)&&(m==="reverse"?(Le=1-Le,f&&(Le-=f/se)):m==="mirror"&&(Ee=Y)),q=di(0,1,Le)*se}const ie=Ne?{done:!1,value:s[0]}:Ee.next(q);P&&(ie.value=P(ie.value));let{done:ve}=ie;!Ne&&de!==null&&(ve=S>=0?he>=J:he<=0);const B=z===null&&(V==="finished"||V==="running"&&ve);return b&&b(ie.value),B&&oe(),ie},Ce=()=>{A&&A.stop(),A=void 0},xe=()=>{V="idle",Ce(),_(),O(),H=re=null},oe=()=>{V="finished",w&&w(),Ce(),_()},me=()=>{if(k)return;A||(A=n(K));const ge=A.now();x&&x(),z!==null?H=ge-z:(!H||V==="finished")&&(H=ge),V==="finished"&&O(),re=H,z=null,V="running",A.start()};e&&me();const ye={then(ge,$){return j.then(ge,$)},get time(){return fs(he)},set time(ge){ge=oi(ge),he=ge,z!==null||!A||S===0?z=ge:H=A.now()-ge/S},get duration(){const ge=X.calculatedDuration===null?ug(X):X.calculatedDuration;return fs(ge)},get speed(){return S},set speed(ge){ge===S||!A||(S=ge,ye.time=fs(he))},get state(){return V},play:me,pause:()=>{V="paused",z=he},stop:()=>{k=!0,V!=="idle"&&(V="idle",p&&p(),xe())},cancel:()=>{re!==null&&K(re),xe()},complete:()=>{V="finished"},sample:ge=>(H=0,K(ge))};return ye}function Y8(e){let t;return()=>(t===void 0&&(t=e()),t)}const Q8=Y8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Z8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Hc=10,$8=2e4,J8=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Kw(t.ease);function ek(e,t,{onUpdate:n,onComplete:s,...o}){if(!(Q8()&&Z8.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let f=!1,m,x,p=!1;const w=()=>{x=new Promise(N=>{m=N})};w();let{keyframes:b,duration:C=300,ease:S,times:k}=o;if(J8(t,o)){const N=Yu({...o,repeat:0,delay:0});let P={done:!1,value:b[0]};const X=[];let Y=0;for(;!P.done&&Y<$8;)P=N.sample(Y),X.push(P.value),Y+=Hc;k=void 0,b=X,C=Y-Hc,S="linear"}const _=u8(e.owner.current,t,b,{...o,duration:C,ease:S,times:k}),j=()=>{p=!1,_.cancel()},O=()=>{p=!0,mt.update(j),m(),w()};return _.onfinish=()=>{p||(e.set(d8(b,o)),s&&s(),O())},{then(N,P){return x.then(N,P)},attachTimeline(N){return _.timeline=N,_.onfinish=null,Ut},get time(){return fs(_.currentTime||0)},set time(N){_.currentTime=oi(N)},get speed(){return _.playbackRate},set speed(N){_.playbackRate=N},get duration(){return fs(C)},play:()=>{f||(_.play(),xs(j))},pause:()=>_.pause(),stop:()=>{if(f=!0,_.playState==="idle")return;const{currentTime:N}=_;if(N){const P=Yu({...o,autoplay:!1});e.setWithVelocity(P.sample(N-Hc).value,P.sample(N).value,Hc)}O()},complete:()=>{p||_.finish()},cancel:O}}function tk({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const o=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Ut,pause:Ut,stop:Ut,then:l=>(l(),Promise.resolve()),cancel:Ut,complete:Ut});return t?Yu({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const nk={type:"spring",stiffness:500,damping:25,restSpeed:10},rk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sk={type:"keyframes",duration:.8},ik={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ak=(e,{keyframes:t})=>t.length>2?sk:ua.has(e)?e.startsWith("scale")?rk(t[1]):nk:ik,Jh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fi.test(t)||t==="0")&&!t.startsWith("url(")),ok=new Set(["brightness","contrast","saturate","opacity"]);function lk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Rd)||[];if(!s)return e;const o=n.replace(s,"");let l=ok.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const ck=/([a-z-]*)\(.*?\)/g,e0={...fi,getAnimatableNone:e=>{const t=e.match(ck);return t?t.map(lk).join(" "):e}},uk={..._w,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:e0,WebkitFilter:e0},K1=e=>uk[e];function xb(e,t){let n=K1(e);return n!==e0&&(n=fi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yb=e=>/^0[^.\s]+$/.test(e);function dk(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||yb(e)}function fk(e,t,n,s){const o=Jh(t,n);let l;Array.isArray(n)?l=[...n]:l=[null,n];const f=s.from!==void 0?s.from:e.get();let m;const x=[];for(let p=0;p<l.length;p++)l[p]===null&&(l[p]=p===0?f:l[p-1]),dk(l[p])&&x.push(p),typeof l[p]=="string"&&l[p]!=="none"&&l[p]!=="0"&&(m=l[p]);if(o&&x.length&&m)for(let p=0;p<x.length;p++){const w=x[p];l[w]=xb(t,m)}return l}function hk({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:f,repeatDelay:m,from:x,elapsed:p,...w}){return!!Object.keys(w).length}function q1(e,t){return e[t]||e.default||e}const pk={skipAnimations:!1},Y1=(e,t,n,s={})=>o=>{const l=q1(s,e)||{},f=l.delay||s.delay||0;let{elapsed:m=0}=s;m=m-oi(f);const x=fk(t,e,n,l),p=x[0],w=x[x.length-1],b=Jh(e,p),C=Jh(e,w);let S={keyframes:x,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-m,onUpdate:k=>{t.set(k),l.onUpdate&&l.onUpdate(k)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(hk(l)||(S={...S,...ak(e,S)}),S.duration&&(S.duration=oi(S.duration)),S.repeatDelay&&(S.repeatDelay=oi(S.repeatDelay)),!b||!C||c8.current||l.type===!1||pk.skipAnimations)return tk(S);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const k=ek(t,e,S);if(k)return k}return Yu(S)};function Qu(e){return!!(Wn(e)&&e.add)}const wb=e=>/^\-?\d*\.?\d+$/.test(e);function Q1(e,t){e.indexOf(t)===-1&&e.push(t)}function Z1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $1{constructor(){this.subscriptions=[]}add(t){return Q1(this.subscriptions,t),()=>Z1(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const f=this.subscriptions[l];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mk=e=>!isNaN(parseFloat(e));class gk{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:l,timestamp:f}=gn;this.lastUpdated!==f&&(this.timeDelta=l,this.lastUpdated=f,mt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>mt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mk(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $1);const s=this.events[t].add(n);return t==="change"?()=>{s(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(e,t){return new gk(e,t)}const bb=e=>t=>t.test(e),xk={test:e=>e==="auto",parse:e=>e},vb=[da,Me,Zr,Os,AA,EA,xk],qo=e=>vb.find(bb(e)),yk=[...vb,En,fi],wk=e=>yk.find(bb(e));function bk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xo(n))}function vk(e,t){const n=Pd(e,t);let{transitionEnd:s={},transition:o={},...l}=n?e.makeTargetAnimatable(n,!1):{};l={...l,...s};for(const f in l){const m=BA(l[f]);bk(e,f,m)}}function Ck(e,t,n){var s,o;const l=Object.keys(t).filter(m=>!e.hasValue(m)),f=l.length;if(f)for(let m=0;m<f;m++){const x=l[m],p=t[x];let w=null;Array.isArray(p)&&(w=p[0]),w===null&&(w=(o=(s=n[x])!==null&&s!==void 0?s:e.readValue(x))!==null&&o!==void 0?o:t[x]),w!=null&&(typeof w=="string"&&(wb(w)||yb(w))?w=parseFloat(w):!wk(w)&&fi.test(p)&&(w=xb(x,p)),e.addValue(x,xo(w,{owner:e})),n[x]===void 0&&(n[x]=w),w!==null&&e.setBaseTarget(x,w))}}function Ek(e,t){return t?(t[e]||t.default||t).from:void 0}function Ak(e,t,n){const s={};for(const o in e){const l=Ek(o,t);if(l!==void 0)s[o]=l;else{const f=n.getValue(o);f&&(s[o]=f.get())}}return s}function kk({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Nk(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function Cb(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:f,...m}=e.makeTargetAnimatable(t);const x=e.getValue("willChange");s&&(l=s);const p=[],w=o&&e.animationState&&e.animationState.getState()[o];for(const b in m){const C=e.getValue(b),S=m[b];if(!C||S===void 0||w&&kk(w,b))continue;const k={delay:n,elapsed:0,...q1(l||{},b)};if(window.HandoffAppearAnimations){const O=e.getProps()[Ew];if(O){const A=window.HandoffAppearAnimations(O,b,C,mt);A!==null&&(k.elapsed=A,k.isHandoff=!0)}}let _=!k.isHandoff&&!Nk(C,S);if(k.type==="spring"&&(C.getVelocity()||k.velocity)&&(_=!1),C.animation&&(_=!1),_)continue;C.start(Y1(b,C,S,e.shouldReduceMotion&&ua.has(b)?{type:!1}:k));const j=C.animation;Qu(x)&&(x.add(b),j.then(()=>x.remove(b))),p.push(j)}return f&&Promise.all(p).then(()=>{f&&vk(e,f)}),p}function t0(e,t,n={}){const s=Pd(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Cb(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(x=0)=>{const{delayChildren:p=0,staggerChildren:w,staggerDirection:b}=o;return Sk(e,t,p+x,w,b,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[x,p]=m==="beforeChildren"?[l,f]:[f,l];return x().then(()=>p())}else return Promise.all([l(),f(n.delay)])}function Sk(e,t,n=0,s=0,o=1,l){const f=[],m=(e.variantChildren.size-1)*s,x=o===1?(p=0)=>p*s:(p=0)=>m-p*s;return Array.from(e.variantChildren).sort(Tk).forEach((p,w)=>{p.notify("AnimationStart",t),f.push(t0(p,t,{...l,delay:n+x(w)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(f)}function Tk(e,t){return e.sortNodePosition(t)}function Ik(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>t0(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=t0(e,t,n);else{const o=typeof t=="function"?Pd(e,t,n.custom):t;s=Promise.all(Cb(e,o,n))}return s.then(()=>e.notify("AnimationComplete",t))}const _k=[...P1].reverse(),Rk=P1.length;function Ok(e){return t=>Promise.all(t.map(({animation:n,options:s})=>Ik(e,n,s)))}function Pk(e){let t=Ok(e);const n=Dk();let s=!0;const o=(x,p)=>{const w=Pd(e,p);if(w){const{transition:b,transitionEnd:C,...S}=w;x={...x,...S,...C}}return x};function l(x){t=x(e)}function f(x,p){const w=e.getProps(),b=e.getVariantContext(!0)||{},C=[],S=new Set;let k={},_=1/0;for(let O=0;O<Rk;O++){const A=_k[O],N=n[A],P=w[A]!==void 0?w[A]:b[A],X=Bl(P),Y=A===p?N.isActive:null;Y===!1&&(_=O);let V=P===b[A]&&P!==w[A]&&X;if(V&&s&&e.manuallyAnimateOnMount&&(V=!1),N.protectedKeys={...k},!N.isActive&&Y===null||!P&&!N.prevProp||Id(P)||typeof P=="boolean")continue;let H=jk(N.prevProp,P)||A===p&&N.isActive&&!V&&X||O>_&&X,re=!1;const de=Array.isArray(P)?P:[P];let se=de.reduce(o,{});Y===!1&&(se={});const{prevResolvedValues:J={}}=N,he={...J,...se},K=Ce=>{H=!0,S.has(Ce)&&(re=!0,S.delete(Ce)),N.needsAnimating[Ce]=!0};for(const Ce in he){const xe=se[Ce],oe=J[Ce];if(k.hasOwnProperty(Ce))continue;let me=!1;Xu(xe)&&Xu(oe)?me=!Gw(xe,oe):me=xe!==oe,me?xe!==void 0?K(Ce):S.add(Ce):xe!==void 0&&S.has(Ce)?K(Ce):N.protectedKeys[Ce]=!0}N.prevProp=P,N.prevResolvedValues=se,N.isActive&&(k={...k,...se}),s&&e.blockInitialAnimation&&(H=!1),H&&(!V||re)&&C.push(...de.map(Ce=>({animation:Ce,options:{type:A,...x}})))}if(S.size){const O={};S.forEach(A=>{const N=e.getBaseTarget(A);N!==void 0&&(O[A]=N)}),C.push({animation:O})}let j=!!C.length;return s&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(j=!1),s=!1,j?t(C):Promise.resolve()}function m(x,p,w){var b;if(n[x].isActive===p)return Promise.resolve();(b=e.variantChildren)===null||b===void 0||b.forEach(S=>{var k;return(k=S.animationState)===null||k===void 0?void 0:k.setActive(x,p)}),n[x].isActive=p;const C=f(w,x);for(const S in n)n[S].protectedKeys={};return C}return{animateChanges:f,setActive:m,setAnimateFunction:l,getState:()=>n}}function jk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Gw(t,e):!1}function Ti(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dk(){return{animate:Ti(!0),whileInView:Ti(),whileHover:Ti(),whileTap:Ti(),whileDrag:Ti(),whileFocus:Ti(),exit:Ti()}}class Mk extends yi{constructor(t){super(t),t.animationState||(t.animationState=Pk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Id(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Lk=0;class Bk extends yi{constructor(){super(...arguments),this.id=Lk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&l.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Fk={animation:{Feature:Mk},exit:{Feature:Bk}},dg=(e,t)=>Math.abs(e-t);function Uk(e,t){const n=dg(e.x,t.x),s=dg(e.y,t.y);return Math.sqrt(n**2+s**2)}class Eb{constructor(t,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Wf(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,S=Uk(b.offset,{x:0,y:0})>=3;if(!C&&!S)return;const{point:k}=b,{timestamp:_}=gn;this.history.push({...k,timestamp:_});const{onStart:j,onMove:O}=this.handlers;C||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,C)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=zf(C,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(b,C)=>{this.end();const{onEnd:S,onSessionEnd:k,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Wf(b.type==="pointercancel"?this.lastMoveEventInfo:zf(C,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,j),k&&k(b,j)},!Uw(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const f=Od(t),m=zf(f,this.transformPagePoint),{point:x}=m,{timestamp:p}=gn;this.history=[{...x,timestamp:p}];const{onSessionStart:w}=n;w&&w(t,Wf(m,this.history)),this.removeListeners=ai(ds(this.contextWindow,"pointermove",this.handlePointerMove),ds(this.contextWindow,"pointerup",this.handlePointerUp),ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function zf(e,t){return t?{point:t(e.point)}:e}function fg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wf({point:e},t){return{point:e,delta:fg(e,Ab(t)),offset:fg(e,Vk(t)),velocity:zk(t,.1)}}function Vk(e){return e[0]}function Ab(e){return e[e.length-1]}function zk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=Ab(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>oi(t)));)n--;if(!s)return{x:0,y:0};const l=fs(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const f={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Jn(e){return e.max-e.min}function n0(e,t=0,n=.01){return Math.abs(e-t)<=n}function hg(e,t,n,s=.5){e.origin=s,e.originPoint=It(t.min,t.max,e.origin),e.scale=Jn(n)/Jn(t),(n0(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=It(n.min,n.max,e.origin)-e.originPoint,(n0(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xl(e,t,n,s){hg(e.x,t.x,n.x,s?s.originX:void 0),hg(e.y,t.y,n.y,s?s.originY:void 0)}function pg(e,t,n){e.min=n.min+t.min,e.max=e.min+Jn(t)}function Wk(e,t,n){pg(e.x,t.x,n.x),pg(e.y,t.y,n.y)}function mg(e,t,n){e.min=t.min-n.min,e.max=e.min+Jn(t)}function yl(e,t,n){mg(e.x,t.x,n.x),mg(e.y,t.y,n.y)}function Hk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?It(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?It(n,e,s.max):Math.min(e,n)),e}function gg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Gk(e,{top:t,left:n,bottom:s,right:o}){return{x:gg(e.x,n,o),y:gg(e.y,t,s)}}function xg(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Xk(e,t){return{x:xg(e.x,t.x),y:xg(e.y,t.y)}}function Kk(e,t){let n=.5;const s=Jn(e),o=Jn(t);return o>s?n=Ul(t.min,t.max-s,e.min):s>o&&(n=Ul(e.min,e.max-o,t.min)),di(0,1,n)}function qk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const r0=.35;function Yk(e=r0){return e===!1?e=0:e===!0&&(e=r0),{x:yg(e,"left","right"),y:yg(e,"top","bottom")}}function yg(e,t,n){return{min:wg(e,t),max:wg(e,n)}}function wg(e,t){return typeof e=="number"?e:e[t]||0}const bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fa=()=>({x:bg(),y:bg()}),vg=()=>({min:0,max:0}),Wt=()=>({x:vg(),y:vg()});function lr(e){return[e("x"),e("y")]}function kb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Qk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Zk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Hf(e){return e===void 0||e===1}function s0({scale:e,scaleX:t,scaleY:n}){return!Hf(e)||!Hf(t)||!Hf(n)}function Ri(e){return s0(e)||Nb(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Nb(e){return Cg(e.x)||Cg(e.y)}function Cg(e){return e&&e!=="0%"}function Zu(e,t,n){const s=e-n,o=t*s;return n+o}function Eg(e,t,n,s,o){return o!==void 0&&(e=Zu(e,o,s)),Zu(e,n,s)+t}function i0(e,t=0,n=1,s,o){e.min=Eg(e.min,t,n,s,o),e.max=Eg(e.max,t,n,s,o)}function Sb(e,{x:t,y:n}){i0(e.x,t.translate,t.scale,t.originPoint),i0(e.y,n.translate,n.scale,n.originPoint)}function $k(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,f;for(let m=0;m<o;m++){l=n[m],f=l.projectionDelta;const x=l.instance;x&&x.style&&x.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ua(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,Sb(e,f)),s&&Ri(l.latestValues)&&Ua(e,l.latestValues))}t.x=Ag(t.x),t.y=Ag(t.y)}function Ag(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ms(e,t){e.min=e.min+t,e.max=e.max+t}function kg(e,t,[n,s,o]){const l=t[o]!==void 0?t[o]:.5,f=It(e.min,e.max,l);i0(e,t[n],t[s],f,t.scale)}const Jk=["x","scaleX","originX"],eN=["y","scaleY","originY"];function Ua(e,t){kg(e.x,t,Jk),kg(e.y,t,eN)}function Tb(e,t){return kb(Zk(e.getBoundingClientRect(),t))}function tN(e,t,n){const s=Tb(e,n),{scroll:o}=t;return o&&(Ms(s.x,o.offset.x),Ms(s.y,o.offset.y)),s}const Ib=({current:e})=>e?e.ownerDocument.defaultView:null,nN=new WeakMap;class rN{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=w=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Od(w,"page").point)},l=(w,b)=>{const{drag:C,dragPropagation:S,onDragStart:k}=this.getProps();if(C&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zw(C),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),lr(j=>{let O=this.getAxisMotionValue(j).get()||0;if(Zr.test(O)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[j];N&&(O=Jn(N)*(parseFloat(O)/100))}}this.originPoint[j]=O}),k&&mt.update(()=>k(w,b),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},f=(w,b)=>{const{dragPropagation:C,dragDirectionLock:S,onDirectionLock:k,onDrag:_}=this.getProps();if(!C&&!this.openGlobalLock)return;const{offset:j}=b;if(S&&this.currentDirection===null){this.currentDirection=sN(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),_&&_(w,b)},m=(w,b)=>this.stop(w,b),x=()=>lr(w=>{var b;return this.getAnimationState(w)==="paused"&&((b=this.getAxisMotionValue(w).animation)===null||b===void 0?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Eb(t,{onSessionStart:o,onStart:l,onMove:f,onSessionEnd:m,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Ib(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&mt.update(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Gc(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=Hk(f,this.constraints[t],this.elastic[t])),l.set(f)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&La(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Gk(o.layoutBox,n):this.constraints=!1,this.elastic=Yk(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&lr(f=>{this.getAxisMotionValue(f)&&(this.constraints[f]=qk(o.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!La(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=tN(s,o.root,this.visualElement.getTransformPagePoint());let f=Xk(o.layout.layoutBox,l);if(n){const m=n(Qk(f));this.hasMutatedConstraints=!!m,m&&(f=kb(m))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),x=this.constraints||{},p=lr(w=>{if(!Gc(w,n,this.currentDirection))return;let b=x&&x[w]||{};f&&(b={min:0,max:0});const C=o?200:1e6,S=o?40:1e7,k={type:"inertia",velocity:s?t[w]:0,bounceStiffness:C,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(w,k)});return Promise.all(p).then(m)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Y1(t,s,0,n))}stopAnimation(){lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){lr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){lr(n=>{const{drag:s}=this.getProps();if(!Gc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:m}=o.layout.layoutBox[n];l.set(t[n]-It(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!La(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};lr(f=>{const m=this.getAxisMotionValue(f);if(m){const x=m.get();o[f]=Kk({min:x,max:x},this.constraints[f])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),lr(f=>{if(!Gc(f,t,null))return;const m=this.getAxisMotionValue(f),{min:x,max:p}=this.constraints[f];m.set(It(x,p,o[f]))})}addListeners(){if(!this.visualElement.current)return;nN.set(this.visualElement,this);const t=this.visualElement.current,n=ds(t,"pointerdown",x=>{const{drag:p,dragListener:w=!0}=this.getProps();p&&w&&this.start(x)}),s=()=>{const{dragConstraints:x}=this.getProps();La(x)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const f=cs(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:x,hasLayoutChanged:p})=>{this.isDragging&&p&&(lr(w=>{const b=this.getAxisMotionValue(w);b&&(this.originPoint[w]+=x[w].translate,b.set(b.get()+x[w].translate))}),this.visualElement.render())});return()=>{f(),n(),l(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:f=r0,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:f,dragMomentum:m}}}function Gc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function sN(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class iN extends yi{constructor(t){super(t),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new rN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ng=e=>(t,n)=>{e&&mt.update(()=>e(t,n))};class aN extends yi{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(t){this.session=new Eb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ib(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ng(t),onStart:Ng(n),onMove:s,onEnd:(l,f)=>{delete this.session,o&&mt.update(()=>o(l,f))}}}mount(){this.removePointerDownListener=ds(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function oN(){const e=L.useContext(Sd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,o=L.useId();return L.useEffect(()=>s(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const n=Sg(e,t.target.x),s=Sg(e,t.target.y);return`${n}% ${s}%`}},lN={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=fi.parse(e);if(o.length>5)return s;const l=fi.createTransformer(e),f=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,x=n.y.scale*t.y;o[0+f]/=m,o[1+f]/=x;const p=It(m,x,.5);return typeof o[2+f]=="number"&&(o[2+f]/=p),typeof o[3+f]=="number"&&(o[3+f]/=p),l(o)}};class cN extends ht.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;gA(uN),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,f=s.projection;return f&&(f.isPresent=l,o||t.layoutDependency!==n||n===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?f.promote():f.relegate()||mt.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _b(e){const[t,n]=oN(),s=L.useContext(D1);return ht.createElement(cN,{...e,layoutGroup:s,switchLayoutGroup:L.useContext(kw),isPresent:t,safeToRemove:n})}const uN={borderRadius:{...Yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yo,borderTopRightRadius:Yo,borderBottomLeftRadius:Yo,borderBottomRightRadius:Yo,boxShadow:lN},Rb=["TopLeft","TopRight","BottomLeft","BottomRight"],dN=Rb.length,Tg=e=>typeof e=="string"?parseFloat(e):e,Ig=e=>typeof e=="number"||Me.test(e);function fN(e,t,n,s,o,l){o?(e.opacity=It(0,n.opacity!==void 0?n.opacity:1,hN(s)),e.opacityExit=It(t.opacity!==void 0?t.opacity:1,0,pN(s))):l&&(e.opacity=It(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let f=0;f<dN;f++){const m=`border${Rb[f]}Radius`;let x=_g(t,m),p=_g(n,m);if(x===void 0&&p===void 0)continue;x||(x=0),p||(p=0),x===0||p===0||Ig(x)===Ig(p)?(e[m]=Math.max(It(Tg(x),Tg(p),s),0),(Zr.test(p)||Zr.test(x))&&(e[m]+="%")):e[m]=p}(t.rotate||n.rotate)&&(e.rotate=It(t.rotate||0,n.rotate||0,s))}function _g(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hN=Ob(0,.5,eb),pN=Ob(.5,.95,Ut);function Ob(e,t,n){return s=>s<e?0:s>t?1:n(Ul(e,t,s))}function Rg(e,t){e.min=t.min,e.max=t.max}function or(e,t){Rg(e.x,t.x),Rg(e.y,t.y)}function Og(e,t,n,s,o){return e-=t,e=Zu(e,1/n,s),o!==void 0&&(e=Zu(e,1/o,s)),e}function mN(e,t=0,n=1,s=.5,o,l=e,f=e){if(Zr.test(t)&&(t=parseFloat(t),t=It(f.min,f.max,t/100)-f.min),typeof t!="number")return;let m=It(l.min,l.max,s);e===l&&(m-=t),e.min=Og(e.min,t,n,m,o),e.max=Og(e.max,t,n,m,o)}function Pg(e,t,[n,s,o],l,f){mN(e,t[n],t[s],t[o],t.scale,l,f)}const gN=["x","scaleX","originX"],xN=["y","scaleY","originY"];function jg(e,t,n,s){Pg(e.x,t,gN,n?n.x:void 0,s?s.x:void 0),Pg(e.y,t,xN,n?n.y:void 0,s?s.y:void 0)}function Dg(e){return e.translate===0&&e.scale===1}function Pb(e){return Dg(e.x)&&Dg(e.y)}function yN(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function jb(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Mg(e){return Jn(e.x)/Jn(e.y)}class wN{constructor(){this.members=[]}add(t){Q1(this.members,t),t.scheduleRender()}remove(t){if(Z1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lg(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:x,rotateX:p,rotateY:w}=n;x&&(s+=`rotate(${x}deg) `),p&&(s+=`rotateX(${p}deg) `),w&&(s+=`rotateY(${w}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const bN=(e,t)=>e.depth-t.depth;class vN{constructor(){this.children=[],this.isDirty=!1}add(t){Q1(this.children,t),this.isDirty=!0}remove(t){Z1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bN),this.isDirty=!1,this.children.forEach(t)}}function CN(e,t){const n=performance.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(xs(s),e(l-t))};return mt.read(s,!0),()=>xs(s)}function EN(e){window.MotionDebug&&window.MotionDebug.record(e)}function AN(e){return e instanceof SVGElement&&e.tagName!=="svg"}function kN(e,t,n){const s=Wn(e)?e:xo(e);return s.start(Y1("",s,t,n)),s.animation}const Bg=["","X","Y","Z"],NN={visibility:"hidden"},Fg=1e3;let SN=0;const Oi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Db({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},m=t==null?void 0:t()){this.id=SN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oi.totalNodes=Oi.resolvedTargetDeltas=Oi.recalculatedProjection=0,this.nodes.forEach(_N),this.nodes.forEach(DN),this.nodes.forEach(MN),this.nodes.forEach(RN),EN(Oi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new vN)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new $1),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const x=this.eventHandlers.get(f);x&&x.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AN(f),this.instance=f;const{layoutId:x,layout:p,visualElement:w}=this.options;if(w&&!w.current&&w.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(p||x)&&(this.isLayoutDirty=!0),e){let b;const C=()=>this.root.updateBlockedByResize=!1;e(f,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=CN(C,250),uu.hasAnimatedSinceResize&&(uu.hasAnimatedSinceResize=!1,this.nodes.forEach(Vg))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&w&&(x||p)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:C,hasRelativeTargetChanged:S,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||w.getDefaultTransition()||VN,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=w.getProps(),A=!this.targetLayout||!jb(this.targetLayout,k)||S,N=!C&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||C&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,N);const P={...q1(_,"layout"),onPlay:j,onComplete:O};(w.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else C||Vg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LN),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const b=this.path[w];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:x}=this.options;if(m===void 0&&!x)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ug);return}this.isUpdating||this.nodes.forEach(PN),this.isUpdating=!1,this.nodes.forEach(jN),this.nodes.forEach(TN),this.nodes.forEach(IN),this.clearAllSnapshots();const m=performance.now();gn.delta=di(0,1e3/60,m-gn.timestamp),gn.timestamp=m,gn.isProcessing=!0,jf.update.process(gn),jf.preRender.process(gn),jf.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ON),this.sharedNodes.forEach(BN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform,m=this.projectionDelta&&!Pb(this.projectionDelta),x=this.getTransformTemplate(),p=x?x(this.latestValues,""):void 0,w=p!==this.prevTransformTemplateValue;f&&(m||Ri(this.latestValues)||w)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let x=this.removeElementScroll(m);return f&&(x=this.removeTransform(x)),zN(x),{animationId:this.root.animationId,measuredBox:m,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Wt();const m=f.measureViewportBox(),{scroll:x}=this.root;return x&&(Ms(m.x,x.offset.x),Ms(m.y,x.offset.y)),m}removeElementScroll(f){const m=Wt();or(m,f);for(let x=0;x<this.path.length;x++){const p=this.path[x],{scroll:w,options:b}=p;if(p!==this.root&&w&&b.layoutScroll){if(w.isRoot){or(m,f);const{scroll:C}=this.root;C&&(Ms(m.x,-C.offset.x),Ms(m.y,-C.offset.y))}Ms(m.x,w.offset.x),Ms(m.y,w.offset.y)}}return m}applyTransform(f,m=!1){const x=Wt();or(x,f);for(let p=0;p<this.path.length;p++){const w=this.path[p];!m&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Ua(x,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),Ri(w.latestValues)&&Ua(x,w.latestValues)}return Ri(this.latestValues)&&Ua(x,this.latestValues),x}removeTransform(f){const m=Wt();or(m,f);for(let x=0;x<this.path.length;x++){const p=this.path[x];if(!p.instance||!Ri(p.latestValues))continue;s0(p.latestValues)&&p.updateSnapshot();const w=Wt(),b=p.measurePageBox();or(w,b),jg(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,w)}return Ri(this.latestValues)&&jg(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var m;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==x;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:b,layoutId:C}=this.options;if(!(!this.layout||!(b||C))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),yl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),Sb(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),yl(this.relativeTargetOrigin,this.target,S.target),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||s0(this.parent.latestValues)||Nb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const m=this.getLead(),x=!!this.resumingFrom||this!==m;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(p=!1),p)return;const{layout:w,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||b))return;or(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,S=this.treeScale.y;$k(this.layoutCorrected,this.treeScale,this.path,x),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox);const{target:k}=m;if(!k){this.projectionTransform&&(this.projectionDelta=Fa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fa(),this.projectionDeltaWithTransform=Fa());const _=this.projectionTransform;xl(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=Lg(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==C||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Oi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,m=!1){const x=this.snapshot,p=x?x.latestValues:{},w={...this.latestValues},b=Fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const C=Wt(),S=x?x.source:void 0,k=this.layout?this.layout.source:void 0,_=S!==k,j=this.getStack(),O=!j||j.members.length<=1,A=!!(_&&!O&&this.options.crossfade===!0&&!this.path.some(UN));this.animationProgress=0;let N;this.mixTargetDelta=P=>{const X=P/1e3;zg(b.x,f.x,X),zg(b.y,f.y,X),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FN(this.relativeTarget,this.relativeTargetOrigin,C,X),N&&yN(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Wt()),or(N,this.relativeTarget)),_&&(this.animationValues=w,fN(w,p,this.latestValues,X,A,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{uu.hasAnimatedSinceResize=!0,this.currentAnimation=kN(0,Fg,{...f,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:x,layout:p,latestValues:w}=f;if(!(!m||!x||!p)){if(this!==f&&this.layout&&p&&Mb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){x=this.target||Wt();const b=Jn(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+b;const C=Jn(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+C}or(m,x),Ua(m,w),xl(this.projectionDeltaWithTransform,this.layoutCorrected,m,w)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new wN),this.sharedNodes.get(f).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:m}=this.options;return m?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:m}=this.options;return m?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:x}={}){const p=this.getStack();p&&p.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:x}=f;if((x.rotate||x.rotateX||x.rotateY||x.rotateZ)&&(m=!0),!m)return;const p={};for(let w=0;w<Bg.length;w++){const b="rotate"+Bg[w];x[b]&&(p[b]=x[b],f.setStaticValue(b,0))}f.render();for(const w in p)f.setStaticValue(w,p[w]);f.scheduleRender()}getProjectionStyles(f){var m,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return NN;const p={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=cu(f==null?void 0:f.pointerEvents)||"",p.transform=w?w(this.latestValues,""):"none",p;const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=cu(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(_.transform=w?w({},""):"none",this.hasProjected=!1),_}const C=b.animationValues||b.latestValues;this.applyTransformsToTarget(),p.transform=Lg(this.projectionDeltaWithTransform,this.treeScale,C),w&&(p.transform=w(C,p.transform));const{x:S,y:k}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${k.origin*100}% 0`,b.animationValues?p.opacity=b===this?(x=(m=C.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:p.opacity=b===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const _ in Hu){if(C[_]===void 0)continue;const{correct:j,applyTo:O}=Hu[_],A=p.transform==="none"?C[_]:j(C[_],b);if(O){const N=O.length;for(let P=0;P<N;P++)p[O[P]]=A}else p[_]=A}return this.options.layoutId&&(p.pointerEvents=b===this?cu(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var m;return(m=f.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(Ug),this.root.sharedNodes.clear()}}}function TN(e){e.updateLayout()}function IN(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,f=n.source!==e.layout.source;l==="size"?lr(b=>{const C=f?n.measuredBox[b]:n.layoutBox[b],S=Jn(C);C.min=s[b].min,C.max=C.min+S}):Mb(l,n.layoutBox,s)&&lr(b=>{const C=f?n.measuredBox[b]:n.layoutBox[b],S=Jn(s[b]);C.max=C.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[b].max=e.relativeTarget[b].min+S)});const m=Fa();xl(m,s,n.layoutBox);const x=Fa();f?xl(x,e.applyTransform(o,!0),n.measuredBox):xl(x,s,n.layoutBox);const p=!Pb(m);let w=!1;if(!e.resumeFrom){const b=e.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:C,layout:S}=b;if(C&&S){const k=Wt();yl(k,n.layoutBox,C.layoutBox);const _=Wt();yl(_,s,S.layoutBox),jb(k,_)||(w=!0),b.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=k,e.relativeParent=b)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:x,layoutDelta:m,hasLayoutChanged:p,hasRelativeTargetChanged:w})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function _N(e){Oi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ON(e){e.clearSnapshot()}function Ug(e){e.clearMeasurements()}function PN(e){e.isLayoutDirty=!1}function jN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Vg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function DN(e){e.resolveTargetDelta()}function MN(e){e.calcProjection()}function LN(e){e.resetRotation()}function BN(e){e.removeLeadSnapshot()}function zg(e,t,n){e.translate=It(t.translate,0,n),e.scale=It(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wg(e,t,n,s){e.min=It(t.min,n.min,s),e.max=It(t.max,n.max,s)}function FN(e,t,n,s){Wg(e.x,t.x,n.x,s),Wg(e.y,t.y,n.y,s)}function UN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const VN={duration:.45,ease:[.4,0,.1,1]},Hg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Gg=Hg("applewebkit/")&&!Hg("chrome/")?Math.round:Ut;function Xg(e){e.min=Gg(e.min),e.max=Gg(e.max)}function zN(e){Xg(e.x),Xg(e.y)}function Mb(e,t,n){return e==="position"||e==="preserve-aspect"&&!n0(Mg(t),Mg(n),.2)}const WN=Db({attachResizeListener:(e,t)=>cs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gf={current:void 0},Lb=Db({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gf.current){const e=new WN({});e.mount(window),e.setOptions({layoutScroll:!0}),Gf.current=e}return Gf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HN={pan:{Feature:aN},drag:{Feature:iN,ProjectionNode:Lb,MeasureLayout:_b}},GN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XN(e){const t=GN.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function a0(e,t,n=1){const[s,o]=XN(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const f=l.trim();return wb(f)?parseFloat(f):f}else return Yh(o)?a0(o,t,n+1):o}function KN(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const l=o.get();if(!Yh(l))return;const f=a0(l,s);f&&o.set(f)});for(const o in t){const l=t[o];if(!Yh(l))continue;const f=a0(l,s);f&&(t[o]=f,n||(n={}),n[o]===void 0&&(n[o]=l))}return{target:t,transitionEnd:n}}const qN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bb=e=>qN.has(e),YN=e=>Object.keys(e).some(Bb),Kg=e=>e===da||e===Me,qg=(e,t)=>parseFloat(e.split(", ")[t]),Yg=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return qg(o[1],t);{const l=s.match(/^matrix\((.+)\)$/);return l?qg(l[1],e):0}},QN=new Set(["x","y","z"]),ZN=ac.filter(e=>!QN.has(e));function $N(e){const t=[];return ZN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const yo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Yg(4,13),y:Yg(5,14)};yo.translateX=yo.x;yo.translateY=yo.y;const JN=(e,t,n)=>{const s=t.measureViewportBox(),o=t.current,l=getComputedStyle(o),{display:f}=l,m={};f==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(p=>{m[p]=yo[p](s,l)}),t.render();const x=t.measureViewportBox();return n.forEach(p=>{const w=t.getValue(p);w&&w.jump(m[p]),e[p]=yo[p](x,l)}),e},eS=(e,t,n={},s={})=>{t={...t},s={...s};const o=Object.keys(t).filter(Bb);let l=[],f=!1;const m=[];if(o.forEach(x=>{const p=e.getValue(x);if(!e.hasValue(x))return;let w=n[x],b=qo(w);const C=t[x];let S;if(Xu(C)){const k=C.length,_=C[0]===null?1:0;w=C[_],b=qo(w);for(let j=_;j<k&&C[j]!==null;j++)S?W1(qo(C[j])===S):S=qo(C[j])}else S=qo(C);if(b!==S)if(Kg(b)&&Kg(S)){const k=p.get();typeof k=="string"&&p.set(parseFloat(k)),typeof C=="string"?t[x]=parseFloat(C):Array.isArray(C)&&S===Me&&(t[x]=C.map(parseFloat))}else b!=null&&b.transform&&(S!=null&&S.transform)&&(w===0||C===0)?w===0?p.set(S.transform(w)):t[x]=b.transform(C):(f||(l=$N(e),f=!0),m.push(x),s[x]=s[x]!==void 0?s[x]:t[x],p.jump(C))}),m.length){const x=m.indexOf("height")>=0?window.pageYOffset:null,p=JN(t,e,m);return l.length&&l.forEach(([w,b])=>{e.getValue(w).set(b)}),e.render(),Td&&x!==null&&window.scrollTo({top:x}),{target:p,transitionEnd:s}}else return{target:t,transitionEnd:s}};function tS(e,t,n,s){return YN(t)?eS(e,t,n,s):{target:t,transitionEnd:s}}const nS=(e,t,n,s)=>{const o=KN(e,t,s);return t=o.target,s=o.transitionEnd,tS(e,t,n,s)},o0={current:null},Fb={current:!1};function rS(){if(Fb.current=!0,!!Td)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>o0.current=e.matches;e.addListener(t),t()}else o0.current=!1}function sS(e,t,n){const{willChange:s}=t;for(const o in t){const l=t[o],f=n[o];if(Wn(l))e.addValue(o,l),Qu(s)&&s.add(o);else if(Wn(f))e.addValue(o,xo(l,{owner:e})),Qu(s)&&s.remove(o);else if(f!==l)if(e.hasValue(o)){const m=e.getValue(o);!m.hasAnimated&&m.set(l)}else{const m=e.getStaticValue(o);e.addValue(o,xo(m!==void 0?m:l,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Qg=new WeakMap,Ub=Object.keys(Fl),iS=Ub.length,Zg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aS=j1.length;class oS{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,visualState:l},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>mt.render(this.render,!1,!0);const{latestValues:m,renderState:x}=l;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=x,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.isControllingVariants=_d(n),this.isVariantNode=Aw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...w}=this.scrapeMotionValuesFromProps(n,{});for(const b in w){const C=w[b];m[b]!==void 0&&Wn(C)&&(C.set(m[b],!1),Qu(p)&&p.add(b))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Qg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Fb.current||rS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:o0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Qg.delete(this.current),this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=ua.has(t),o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&mt.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,o,l){let f,m;for(let x=0;x<iS;x++){const p=Ub[x],{isEnabled:w,Feature:b,ProjectionNode:C,MeasureLayout:S}=Fl[p];C&&(f=C),w(n)&&(!this.features[p]&&b&&(this.features[p]=new b(this)),S&&(m=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,this.parent&&this.parent.projection);const{layoutId:x,layout:p,drag:w,dragConstraints:b,layoutScroll:C,layoutRoot:S}=n;this.projection.setOptions({layoutId:x,layout:p,alwaysMeasureLayout:!!w||b&&La(b),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:l,layoutScroll:C,layoutRoot:S})}return m}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Zg.length;s++){const o=Zg[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=t["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=sS(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<aS;s++){const o=j1[s],l=this.props[o];(Bl(l)||l===!1)&&(n[o]=l)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=xo(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(n=z1(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Wn(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vb extends oS{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:o},l){let f=Ak(s,t||{},this);if(o&&(n&&(n=o(n)),s&&(s=o(s)),f&&(f=o(f))),l){Ck(this,s,f);const m=nS(this,s,f,n);n=m.transitionEnd,s=m.target}return{transition:t,transitionEnd:n,...s}}}function lS(e){return window.getComputedStyle(e)}class cS extends Vb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ua.has(n)){const s=K1(n);return s&&s.default||0}else{const s=lS(t),o=(Tw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Tb(t,n)}build(t,n,s,o){L1(t,n,s,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return V1(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,o){jw(t,n,s,o)}}class uS extends Vb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ua.has(n)){const s=K1(n);return s&&s.default||0}return n=Dw.has(n)?n:O1(n),t.getAttribute(n)}measureInstanceViewportBox(){return Wt()}scrapeMotionValuesFromProps(t,n){return Lw(t,n)}build(t,n,s,o){F1(t,n,s,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,s,o){Mw(t,n,s,o)}mount(t){this.isSVGTag=U1(t.tagName),super.mount(t)}}const dS=(e,t)=>M1(e)?new uS(t,{enableHardwareAcceleration:!1}):new cS(t,{enableHardwareAcceleration:!0}),fS={layout:{ProjectionNode:Lb,MeasureLayout:_b}},hS={...Fk,...i8,...HN,...fS},Ct=pA((e,t)=>XA(e,t,hS,dS));function zb(){const e=L.useRef(!1);return R1(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function pS(){const e=zb(),[t,n]=L.useState(0),s=L.useCallback(()=>{e.current&&n(t+1)},[t]);return[L.useCallback(()=>mt.postRender(s),[s]),t]}class mS extends L.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gS({children:e,isPresent:t}){const n=L.useId(),s=L.useRef(null),o=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:l,height:f,top:m,left:x}=o.current;if(t||!s.current||!l||!f)return;s.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${f}px !important;
            top: ${m}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),L.createElement(mS,{isPresent:t,childRef:s,sizeRef:o},L.cloneElement(e,{ref:s}))}const Xf=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:f})=>{const m=Bw(xS),x=L.useId(),p=L.useMemo(()=>({id:x,initial:t,isPresent:n,custom:o,onExitComplete:w=>{m.set(w,!0);for(const b of m.values())if(!b)return;s&&s()},register:w=>(m.set(w,!1),()=>m.delete(w))}),l?void 0:[n]);return L.useMemo(()=>{m.forEach((w,b)=>m.set(b,!1))},[n]),L.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),f==="popLayout"&&(e=L.createElement(gS,{isPresent:n},e)),L.createElement(Sd.Provider,{value:p},e)};function xS(){return new Map}function yS(e){return L.useEffect(()=>()=>e(),[])}const Pi=e=>e.key||"";function wS(e,t){e.forEach(n=>{const s=Pi(n);t.set(s,n)})}function bS(e){const t=[];return L.Children.forEach(e,n=>{L.isValidElement(n)&&t.push(n)}),t}const jd=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:f="sync"})=>{const m=L.useContext(D1).forceRender||pS()[0],x=zb(),p=bS(e);let w=p;const b=L.useRef(new Map).current,C=L.useRef(w),S=L.useRef(new Map).current,k=L.useRef(!0);if(R1(()=>{k.current=!1,wS(p,S),C.current=w}),yS(()=>{k.current=!0,S.clear(),b.clear()}),k.current)return L.createElement(L.Fragment,null,w.map(A=>L.createElement(Xf,{key:Pi(A),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:l,mode:f},A)));w=[...w];const _=C.current.map(Pi),j=p.map(Pi),O=_.length;for(let A=0;A<O;A++){const N=_[A];j.indexOf(N)===-1&&!b.has(N)&&b.set(N,void 0)}return f==="wait"&&b.size&&(w=[]),b.forEach((A,N)=>{if(j.indexOf(N)!==-1)return;const P=S.get(N);if(!P)return;const X=_.indexOf(N);let Y=A;if(!Y){const V=()=>{b.delete(N);const z=Array.from(S.keys()).filter(H=>!j.includes(H));if(z.forEach(H=>S.delete(H)),C.current=p.filter(H=>{const re=Pi(H);return re===N||z.includes(re)}),!b.size){if(x.current===!1)return;m(),s&&s()}};Y=L.createElement(Xf,{key:Pi(P),isPresent:!1,onExitComplete:V,custom:t,presenceAffectsLayout:l,mode:f},P),b.set(N,Y)}w.splice(X,0,Y)}),w=w.map(A=>{const N=A.key;return b.has(N)?A:L.createElement(Xf,{key:Pi(A),isPresent:!0,presenceAffectsLayout:l,mode:f},A)}),L.createElement(L.Fragment,null,b.size?w:w.map(A=>L.cloneElement(A)))},vS="modulepreload",CS=function(e){return"/"+e},$g={},Xc=function(t,n,s){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=CS(l),l in $g)return;$g[l]=!0;const f=l.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!s)for(let w=o.length-1;w>=0;w--){const b=o[w];if(b.href===l&&(!f||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":vS,f||(p.as="script",p.crossOrigin=""),p.href=l,document.head.appendChild(p),f)return new Promise((w,b)=>{p.addEventListener("load",w),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=l,window.dispatchEvent(f),!f.defaultPrevented)throw l})},Jg={users:[{user_id:"admin-1",google_uid:"admin-1",email:"admin@ioda.academy",display_name:"Super Admin",role:"admin",theme_pref:"system",photo_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin"},{user_id:"admin-ihza",google_uid:"pending",email:"ihza@iodacademy.id",display_name:"Ihza Admin",role:"admin",theme_pref:"system",photo_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=ihza"},{user_id:"admin-heldi",google_uid:"pending",email:"heldi@iodacademy.id",display_name:"Heldi Admin",role:"admin",theme_pref:"system",photo_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=heldi"},{user_id:"admin-nabila",google_uid:"pending",email:"nabila@iodacademy.id",display_name:"Nabila Admin",role:"admin",theme_pref:"system",photo_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=nabila"}],inventory:[{item_id:"item-1",name:"MacBook Pro M3",sku:"MBP-001-ELK",category:"Elektronik",stock_qty:15,unit:"Unit",condition:"Good",location:"Gudang Utama",image_url:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&q=80&w=200",last_updated_by:"admin-1",updated_at:new Date().toISOString()}],categories:[{category_id:"cat-1",name:"Elektronik"},{category_id:"cat-2",name:"Furniture"},{category_id:"cat-3",name:"Alat Tulis"}],transactions:[],reservations:[],systemSettings:{id:"system_config",company_name:"IODA Academy (Offline)",pt_name:"PT. Ioda Academy Indonesia",company_address:"Jakarta, Indonesia",company_logo:"https://api.dicebear.com/7.x/initials/svg?seed=IA",report_number_format:"IODA/INV/2026",pic_email:"admin@ioda.academy",company_phone:"628123456789",platform_icons:"{}",login_bg_video_url:null,login_logo:null}},Kc=()=>{const e=localStorage.getItem("inventory_app_data");return e?JSON.parse(e):(localStorage.setItem("inventory_app_data",JSON.stringify(Jg)),Jg)},zr=e=>{localStorage.setItem("inventory_app_data",JSON.stringify(e))},je={get:async e=>{console.log("Mock GET:",e);const t=Kc();if(e==="/api/dashboard/stats")return{data:{totalItems:t.inventory.length,totalStock:t.inventory.reduce((n,s)=>n+s.stock_qty,0),activeBorrowers:new Set(t.transactions.filter(n=>n.type==="OUT"&&!n.is_returned).map(n=>n.user_id)).size,pendingRequests:t.transactions.filter(n=>n.status==="PENDING").length}};if(e==="/api/inventory")return{data:t.inventory};if(e==="/api/categories")return{data:t.categories};if(e==="/api/transactions")return{data:t.transactions};if(e==="/api/reservations")return{data:t.reservations};if(e==="/api/users")return{data:t.users};if(e==="/api/system-settings")return{data:t.systemSettings};if(e.startsWith("/api/inventory/")){const n=e.split("/").pop();return{data:t.inventory.find(s=>s.item_id===n)}}return{data:null}},post:async(e,t)=>{console.log("Mock POST:",e,t);const n=Kc();if(e==="/api/users"){const s=["ihza@iodacademy.id","heldi@iodacademy.id","nabila@iodacademy.id","admin@ioda.academy"],o=n.users.find(m=>m.email===t.email||t.google_uid&&m.google_uid===t.google_uid);if(o)return t.google_uid&&o.google_uid!==t.google_uid&&(o.google_uid=t.google_uid,zr(n)),{data:o};const l=s.includes(t.email.toLowerCase())?"admin":"user",f={...t,user_id:"user-"+Date.now(),role:l};return n.users.push(f),zr(n),{data:f}}if(e==="/api/inventory"){const s={...t,item_id:"item-"+Date.now(),updated_at:new Date().toISOString()};return n.inventory.push(s),zr(n),{data:s}}if(e==="/api/transactions"){const s={...t,trx_id:"trx-"+Date.now(),timestamp:new Date().toISOString()};n.transactions.push(s);const o=n.inventory.find(l=>l.item_id===t.item_id);return o&&(o.stock_qty+=t.qty_change),zr(n),{data:s}}if(e==="/api/categories"){const s={...t,category_id:"cat-"+Date.now()};return n.categories.push(s),zr(n),{data:s}}return{data:t}},put:async(e,t)=>{console.log("Mock PUT:",e,t);const n=Kc();if(e==="/api/system-settings")return n.systemSettings={...n.systemSettings,...t},zr(n),{data:n.systemSettings};if(e.startsWith("/api/inventory/")){const s=e.split("/").pop(),o=n.inventory.findIndex(l=>l.item_id===s);if(o!==-1)return n.inventory[o]={...n.inventory[o],...t,updated_at:new Date().toISOString()},zr(n),{data:n.inventory[o]}}if(e.startsWith("/api/transactions/")){const s=e.split("/").pop(),o=n.transactions.findIndex(l=>l.trx_id===s);if(o!==-1)return n.transactions[o]={...n.transactions[o],...t},zr(n),{data:n.transactions[o]}}return{data:t}},delete:async e=>{console.log("Mock DELETE:",e);const t=Kc();if(e.startsWith("/api/inventory/")){const n=e.split("/").pop();t.inventory=t.inventory.filter(s=>s.item_id!==n),zr(t)}if(e.startsWith("/api/categories/")){const n=e.split("/").pop();t.categories=t.categories.filter(s=>s.category_id!==n),zr(t)}return{data:{success:!0}}}},Wb=L.createContext(),ES=({children:e})=>{const[t,n]=L.useState(null),[s,o]=L.useState(!0);L.useEffect(()=>{(async()=>{const w=localStorage.getItem("inventory_user");w&&n(JSON.parse(w));try{const{getAuth:b,getRedirectResult:C}=await Xc(()=>import("./index.esm-c1a0f00e.js"),["assets/index.esm-c1a0f00e.js","assets/index.esm-f43520fd.js"]),{initializeApp:S,getApps:k}=await Xc(()=>import("./index.esm-6de661af.js"),["assets/index.esm-6de661af.js","assets/index.esm-f43520fd.js"]),_={apiKey:"AIzaSyAOlNYGm0WtBaF_X6Ji-eER2_A9ziG3AtY",authDomain:"posdc-febdf.firebaseapp.com",projectId:"posdc-febdf",storageBucket:"posdc-febdf.firebasestorage.app",messagingSenderId:"770724794830",appId:"1:770724794830:web:176ce7675c2c84fbc79b9f",measurementId:"G-Y6CTRRV0JH"};k().length===0&&S(_);const j=b(),O=await C(j);if(O){const A=O.user,P=(await je.post("/api/users",{google_uid:A.uid,email:A.email,display_name:A.displayName,photo_url:A.photoURL})).data;n(P),localStorage.setItem("inventory_user",JSON.stringify(P)),window.location.href="/"}}catch(b){console.error("Error handling redirect result:",b)}o(!1)})()},[]);const l=async(p,w)=>{if(["ihza@iodacademy.id","heldi@iodacademy.id"].includes(p.toLowerCase())&&w!=="12345670")return{success:!1,error:"Password salah untuk akun admin."};try{const S=(await je.post("/api/users",{email:p,google_uid:"manual-"+Math.random().toString(36).substr(2,9),display_name:p.split("@")[0],photo_url:`https://api.dicebear.com/7.x/avataaars/svg?seed=${p}`})).data;return n(S),localStorage.setItem("inventory_user",JSON.stringify(S)),{success:!0}}catch(C){return{success:!1,error:C.message}}},f=async()=>{try{const{getAuth:p,signInWithRedirect:w,GoogleAuthProvider:b}=await Xc(()=>import("./index.esm-c1a0f00e.js"),["assets/index.esm-c1a0f00e.js","assets/index.esm-f43520fd.js"]),{initializeApp:C,getApps:S}=await Xc(()=>import("./index.esm-6de661af.js"),["assets/index.esm-6de661af.js","assets/index.esm-f43520fd.js"]),k={apiKey:"AIzaSyAOlNYGm0WtBaF_X6Ji-eER2_A9ziG3AtY",authDomain:"posdc-febdf.firebaseapp.com",projectId:"posdc-febdf",storageBucket:"posdc-febdf.firebasestorage.app",messagingSenderId:"770724794830",appId:"1:770724794830:web:176ce7675c2c84fbc79b9f",measurementId:"G-Y6CTRRV0JH"};S().length===0&&C(k);const _=p(),j=new b;return j.setCustomParameters({prompt:"select_account"}),await w(_,j),{success:!0}}catch(p){return console.error("Google login error:",p),{success:!1,error:p.message}}},m=async()=>{if(t)try{const w=(await je.get(`/api/users/${t.user_id}`)).data;n(w),localStorage.setItem("inventory_user",JSON.stringify(w))}catch(p){console.error("Failed to refresh user:",p)}},x=()=>{n(null),localStorage.removeItem("inventory_user")};return h.jsx(Wb.Provider,{value:{user:t,loading:s,login:l,loginWithGoogle:f,logout:x,refreshUser:m},children:e})},vs=()=>L.useContext(Wb),Hb=L.createContext(),AS=({children:e})=>{const[t,n]=L.useState(()=>localStorage.getItem("inventory_theme")||"light");L.useEffect(()=>{const o=window.document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("inventory_theme",t)},[t]);const s=()=>{n(o=>o==="light"?"dark":"light")};return h.jsx(Hb.Provider,{value:{theme:t,toggleTheme:s,setTheme:n},children:e})},J1=()=>L.useContext(Hb);var ko=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Fs,P0,Vx,NS=(Vx=class{constructor(){Ie(this,Fs,kS);Ie(this,P0,!1)}setTimeoutProvider(e){be(this,Fs,e)}setTimeout(e,t){return F(this,Fs).setTimeout(e,t)}clearTimeout(e){F(this,Fs).clearTimeout(e)}setInterval(e,t){return F(this,Fs).setInterval(e,t)}clearInterval(e){F(this,Fs).clearInterval(e)}},Fs=new WeakMap,P0=new WeakMap,Vx),Bi=new NS;function SS(e){setTimeout(e,0)}var sa=typeof window>"u"||"Deno"in globalThis;function kn(){}function TS(e,t){return typeof e=="function"?e(t):e}function l0(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function li(e,t){return typeof e=="function"?e(t):e}function ur(e,t){return typeof e=="function"?e(t):e}function ex(e,t){const{type:n="all",exact:s,fetchStatus:o,predicate:l,queryKey:f,stale:m}=e;if(f){if(s){if(t.queryHash!==ep(f,t.options))return!1}else if(!Vl(t.queryKey,f))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||o&&o!==t.state.fetchStatus||l&&!l(t))}function tx(e,t){const{exact:n,status:s,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(ia(t.options.mutationKey)!==ia(l))return!1}else if(!Vl(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function ep(e,t){return((t==null?void 0:t.queryKeyHashFn)||ia)(e)}function ia(e){return JSON.stringify(e,(t,n)=>c0(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function Vl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Vl(e[n],t[n])):!1}var IS=Object.prototype.hasOwnProperty;function Xb(e,t){if(e===t)return e;const n=nx(e)&&nx(t);if(!n&&!(c0(e)&&c0(t)))return t;const o=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),f=l.length,m=n?new Array(f):{};let x=0;for(let p=0;p<f;p++){const w=n?p:l[p],b=e[w],C=t[w];if(b===C){m[w]=b,(n?p<o:IS.call(e,w))&&x++;continue}if(b===null||C===null||typeof b!="object"||typeof C!="object"){m[w]=C;continue}const S=Xb(b,C);m[w]=S,S===b&&x++}return o===f&&x===o?e:m}function $u(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function c0(e){if(!rx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rx(e){return Object.prototype.toString.call(e)==="[object Object]"}function _S(e){return new Promise(t=>{Bi.setTimeout(t,e)})}function u0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Xb(e,t):t}function RS(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function OS(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var tp=Symbol();function Kb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function np(e,t){return typeof e=="function"?e(...t):!!e}function PS(e,t,n){let s=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??(o=t()),s||(s=!0,o.aborted?n():o.addEventListener("abort",n,{once:!0})),o)}),e}var Vi,Us,Ya,zx,jS=(zx=class extends ko{constructor(){super();Ie(this,Vi,void 0);Ie(this,Us,void 0);Ie(this,Ya,void 0);be(this,Ya,t=>{if(!sa&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Us)||this.setEventListener(F(this,Ya))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Us))==null||t.call(this),be(this,Us,void 0))}setEventListener(t){var n;be(this,Ya,t),(n=F(this,Us))==null||n.call(this),be(this,Us,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){F(this,Vi)!==t&&(be(this,Vi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,Vi)=="boolean"?F(this,Vi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vi=new WeakMap,Us=new WeakMap,Ya=new WeakMap,zx),rp=new jS;function d0(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),e(o)},n.reject=o=>{s({status:"rejected",reason:o}),t(o)},n}var DS=SS;function MS(){let e=[],t=0,n=m=>{m()},s=m=>{m()},o=DS;const l=m=>{t?e.push(m):o(()=>{n(m)})},f=()=>{const m=e;e=[],m.length&&o(()=>{s(()=>{m.forEach(x=>{n(x)})})})};return{batch:m=>{let x;t++;try{x=m()}finally{t--,t||f()}return x},batchCalls:m=>(...x)=>{l(()=>{m(...x)})},schedule:l,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{o=m}}}var Yt=MS(),Qa,Vs,Za,Wx,LS=(Wx=class extends ko{constructor(){super();Ie(this,Qa,!0);Ie(this,Vs,void 0);Ie(this,Za,void 0);be(this,Za,t=>{if(!sa&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){F(this,Vs)||this.setEventListener(F(this,Za))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Vs))==null||t.call(this),be(this,Vs,void 0))}setEventListener(t){var n;be(this,Za,t),(n=F(this,Vs))==null||n.call(this),be(this,Vs,t(this.setOnline.bind(this)))}setOnline(t){F(this,Qa)!==t&&(be(this,Qa,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return F(this,Qa)}},Qa=new WeakMap,Vs=new WeakMap,Za=new WeakMap,Wx),Ju=new LS;function BS(e){return Math.min(1e3*2**e,3e4)}function qb(e){return(e??"online")==="online"?Ju.isOnline():!0}var f0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yb(e){let t=!1,n=0,s;const o=d0(),l=()=>o.status!=="pending",f=_=>{var j;if(!l()){const O=new f0(_);C(O),(j=e.onCancel)==null||j.call(e,O)}},m=()=>{t=!0},x=()=>{t=!1},p=()=>rp.isFocused()&&(e.networkMode==="always"||Ju.isOnline())&&e.canRun(),w=()=>qb(e.networkMode)&&e.canRun(),b=_=>{l()||(s==null||s(),o.resolve(_))},C=_=>{l()||(s==null||s(),o.reject(_))},S=()=>new Promise(_=>{var j;s=O=>{(l()||p())&&_(O)},(j=e.onPause)==null||j.call(e)}).then(()=>{var _;s=void 0,l()||(_=e.onContinue)==null||_.call(e)}),k=()=>{if(l())return;let _;const j=n===0?e.initialPromise:void 0;try{_=j??e.fn()}catch(O){_=Promise.reject(O)}Promise.resolve(_).then(b).catch(O=>{var Y;if(l())return;const A=e.retry??(sa?0:3),N=e.retryDelay??BS,P=typeof N=="function"?N(n,O):N,X=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,O);if(t||!X){C(O);return}n++,(Y=e.onFail)==null||Y.call(e,n,O),_S(P).then(()=>p()?void 0:S()).then(()=>{t?C(O):k()})})};return{promise:o,status:()=>o.status,cancel:f,continue:()=>(s==null||s(),o),cancelRetry:m,continueRetry:x,canStart:w,start:()=>(w()?k():S().then(k),o)}}var zi,Hx,Qb=(Hx=class{constructor(){Ie(this,zi,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l0(this.gcTime)&&be(this,zi,Bi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sa?1/0:5*60*1e3))}clearGcTimeout(){F(this,zi)&&(Bi.clearTimeout(F(this,zi)),be(this,zi,void 0))}},zi=new WeakMap,Hx),Wi,$a,cr,Hi,tn,zl,Gi,kr,Jr,Gx,FS=(Gx=class extends Qb{constructor(t){super();Ie(this,kr);Ie(this,Wi,void 0);Ie(this,$a,void 0);Ie(this,cr,void 0);Ie(this,Hi,void 0);Ie(this,tn,void 0);Ie(this,zl,void 0);Ie(this,Gi,void 0);be(this,Gi,!1),be(this,zl,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Hi,t.client),be(this,cr,F(this,Hi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,Wi,ix(this.options)),this.state=t.state??F(this,Wi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,tn))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,zl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ix(this.options);n.data!==void 0&&(this.setState(sx(n.data,n.dataUpdatedAt)),be(this,Wi,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,cr).remove(this)}setData(t,n){const s=u0(this.state.data,t,this.options);return He(this,kr,Jr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){He(this,kr,Jr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,o;const n=(s=F(this,tn))==null?void 0:s.promise;return(o=F(this,tn))==null||o.cancel(t),n?n.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Wi))}isActive(){return this.observers.some(t=>ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>li(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Gb(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(F(this,tn)&&(F(this,Gi)?F(this,tn).cancel({revert:!0}):F(this,tn).cancelRetry()),this.scheduleGc()),F(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||He(this,kr,Jr).call(this,{type:"invalidate"})}async fetch(t,n){var x,p,w,b,C,S,k,_,j,O,A,N;if(this.state.fetchStatus!=="idle"&&((x=F(this,tn))==null?void 0:x.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,tn))return F(this,tn).continueRetry(),F(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const P=this.observers.find(X=>X.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,o=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(be(this,Gi,!0),s.signal)})},l=()=>{const P=Kb(this.options,n),Y=(()=>{const V={client:F(this,Hi),queryKey:this.queryKey,meta:this.meta};return o(V),V})();return be(this,Gi,!1),this.options.persister?this.options.persister(P,Y,this):P(Y)},m=(()=>{const P={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,Hi),state:this.state,fetchFn:l};return o(P),P})();(p=this.options.behavior)==null||p.onFetch(m,this),be(this,$a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=m.fetchOptions)==null?void 0:w.meta))&&He(this,kr,Jr).call(this,{type:"fetch",meta:(b=m.fetchOptions)==null?void 0:b.meta}),be(this,tn,Yb({initialPromise:n==null?void 0:n.initialPromise,fn:m.fetchFn,onCancel:P=>{P instanceof f0&&P.revert&&this.setState({...F(this,$a),fetchStatus:"idle"}),s.abort()},onFail:(P,X)=>{He(this,kr,Jr).call(this,{type:"failed",failureCount:P,error:X})},onPause:()=>{He(this,kr,Jr).call(this,{type:"pause"})},onContinue:()=>{He(this,kr,Jr).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0}));try{const P=await F(this,tn).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(S=(C=F(this,cr).config).onSuccess)==null||S.call(C,P,this),(_=(k=F(this,cr).config).onSettled)==null||_.call(k,P,this.state.error,this),P}catch(P){if(P instanceof f0){if(P.silent)return F(this,tn).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw He(this,kr,Jr).call(this,{type:"error",error:P}),(O=(j=F(this,cr).config).onError)==null||O.call(j,P,this),(N=(A=F(this,cr).config).onSettled)==null||N.call(A,this.state.data,P,this),P}finally{this.scheduleGc()}}},Wi=new WeakMap,$a=new WeakMap,cr=new WeakMap,Hi=new WeakMap,tn=new WeakMap,zl=new WeakMap,Gi=new WeakMap,kr=new WeakSet,Jr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Zb(s.data,this.options),fetchMeta:t.meta??null};case"success":const o={...s,...sx(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,$a,t.manual?o:void 0),o;case"error":const l=t.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Yt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,cr).notify({query:this,type:"updated",action:t})})},Gx);function Zb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ix(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dn,et,Wl,vn,Xi,Ja,rs,zs,Hl,eo,to,Ki,qi,Ws,no,Yi,il,Gl,h0,Xl,p0,Kl,m0,ql,g0,Yl,x0,Ql,y0,Zl,w0,ad,$b,Xx,US=(Xx=class extends ko{constructor(t,n){super();Ie(this,Yi);Ie(this,Gl);Ie(this,Xl);Ie(this,Kl);Ie(this,ql);Ie(this,Yl);Ie(this,Ql);Ie(this,Zl);Ie(this,ad);Ie(this,Dn,void 0);Ie(this,et,void 0);Ie(this,Wl,void 0);Ie(this,vn,void 0);Ie(this,Xi,void 0);Ie(this,Ja,void 0);Ie(this,rs,void 0);Ie(this,zs,void 0);Ie(this,Hl,void 0);Ie(this,eo,void 0);Ie(this,to,void 0);Ie(this,Ki,void 0);Ie(this,qi,void 0);Ie(this,Ws,void 0);Ie(this,no,new Set);this.options=n,be(this,Dn,t),be(this,zs,null),be(this,rs,d0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,et).addObserver(this),ax(F(this,et),this.options)?He(this,Yi,il).call(this):this.updateResult(),He(this,ql,g0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b0(F(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b0(F(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,He(this,Yl,x0).call(this),He(this,Ql,y0).call(this),F(this,et).removeObserver(this)}setOptions(t){const n=this.options,s=F(this,et);if(this.options=F(this,Dn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,F(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");He(this,Zl,w0).call(this),F(this,et).setOptions(this.options),n._defaulted&&!$u(this.options,n)&&F(this,Dn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,et),observer:this});const o=this.hasListeners();o&&ox(F(this,et),s,this.options,n)&&He(this,Yi,il).call(this),this.updateResult(),o&&(F(this,et)!==s||ur(this.options.enabled,F(this,et))!==ur(n.enabled,F(this,et))||li(this.options.staleTime,F(this,et))!==li(n.staleTime,F(this,et)))&&He(this,Gl,h0).call(this);const l=He(this,Xl,p0).call(this);o&&(F(this,et)!==s||ur(this.options.enabled,F(this,et))!==ur(n.enabled,F(this,et))||l!==F(this,Ws))&&He(this,Kl,m0).call(this,l)}getOptimisticResult(t){const n=F(this,Dn).getQueryCache().build(F(this,Dn),t),s=this.createResult(n,t);return zS(this,s)&&(be(this,vn,s),be(this,Ja,this.options),be(this,Xi,F(this,et).state)),s}getCurrentResult(){return F(this,vn)}trackResult(t,n){return new Proxy(t,{get:(s,o)=>(this.trackProp(o),n==null||n(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,rs).status==="pending"&&F(this,rs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,o))})}trackProp(t){F(this,no).add(t)}getCurrentQuery(){return F(this,et)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,Dn).defaultQueryOptions(t),s=F(this,Dn).getQueryCache().build(F(this,Dn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return He(this,Yi,il).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,vn)))}createResult(t,n){var H;const s=F(this,et),o=this.options,l=F(this,vn),f=F(this,Xi),m=F(this,Ja),p=t!==s?t.state:F(this,Wl),{state:w}=t;let b={...w},C=!1,S;if(n._optimisticResults){const re=this.hasListeners(),de=!re&&ax(t,n),se=re&&ox(t,s,n,o);(de||se)&&(b={...b,...Zb(w.data,t.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:k,errorUpdatedAt:_,status:j}=b;S=b.data;let O=!1;if(n.placeholderData!==void 0&&S===void 0&&j==="pending"){let re;l!=null&&l.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData)?(re=l.data,O=!0):re=typeof n.placeholderData=="function"?n.placeholderData((H=F(this,to))==null?void 0:H.state.data,F(this,to)):n.placeholderData,re!==void 0&&(j="success",S=u0(l==null?void 0:l.data,re,n),C=!0)}if(n.select&&S!==void 0&&!O)if(l&&S===(f==null?void 0:f.data)&&n.select===F(this,Hl))S=F(this,eo);else try{be(this,Hl,n.select),S=n.select(S),S=u0(l==null?void 0:l.data,S,n),be(this,eo,S),be(this,zs,null)}catch(re){be(this,zs,re)}F(this,zs)&&(k=F(this,zs),S=F(this,eo),_=Date.now(),j="error");const A=b.fetchStatus==="fetching",N=j==="pending",P=j==="error",X=N&&A,Y=S!==void 0,z={status:j,fetchStatus:b.fetchStatus,isPending:N,isSuccess:j==="success",isError:P,isInitialLoading:X,isLoading:X,data:S,dataUpdatedAt:b.dataUpdatedAt,error:k,errorUpdatedAt:_,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:A,isRefetching:A&&!N,isLoadingError:P&&!Y,isPaused:b.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:P&&Y,isStale:sp(t,n),refetch:this.refetch,promise:F(this,rs),isEnabled:ur(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const re=J=>{z.status==="error"?J.reject(z.error):z.data!==void 0&&J.resolve(z.data)},de=()=>{const J=be(this,rs,z.promise=d0());re(J)},se=F(this,rs);switch(se.status){case"pending":t.queryHash===s.queryHash&&re(se);break;case"fulfilled":(z.status==="error"||z.data!==se.value)&&de();break;case"rejected":(z.status!=="error"||z.error!==se.reason)&&de();break}}return z}updateResult(){const t=F(this,vn),n=this.createResult(F(this,et),this.options);if(be(this,Xi,F(this,et).state),be(this,Ja,this.options),F(this,Xi).data!==void 0&&be(this,to,F(this,et)),$u(n,t))return;be(this,vn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!F(this,no).size)return!0;const f=new Set(l??F(this,no));return this.options.throwOnError&&f.add("error"),Object.keys(F(this,vn)).some(m=>{const x=m;return F(this,vn)[x]!==t[x]&&f.has(x)})};He(this,ad,$b).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&He(this,ql,g0).call(this)}},Dn=new WeakMap,et=new WeakMap,Wl=new WeakMap,vn=new WeakMap,Xi=new WeakMap,Ja=new WeakMap,rs=new WeakMap,zs=new WeakMap,Hl=new WeakMap,eo=new WeakMap,to=new WeakMap,Ki=new WeakMap,qi=new WeakMap,Ws=new WeakMap,no=new WeakMap,Yi=new WeakSet,il=function(t){He(this,Zl,w0).call(this);let n=F(this,et).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(kn)),n},Gl=new WeakSet,h0=function(){He(this,Yl,x0).call(this);const t=li(this.options.staleTime,F(this,et));if(sa||F(this,vn).isStale||!l0(t))return;const s=Gb(F(this,vn).dataUpdatedAt,t)+1;be(this,Ki,Bi.setTimeout(()=>{F(this,vn).isStale||this.updateResult()},s))},Xl=new WeakSet,p0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,et)):this.options.refetchInterval)??!1},Kl=new WeakSet,m0=function(t){He(this,Ql,y0).call(this),be(this,Ws,t),!(sa||ur(this.options.enabled,F(this,et))===!1||!l0(F(this,Ws))||F(this,Ws)===0)&&be(this,qi,Bi.setInterval(()=>{(this.options.refetchIntervalInBackground||rp.isFocused())&&He(this,Yi,il).call(this)},F(this,Ws)))},ql=new WeakSet,g0=function(){He(this,Gl,h0).call(this),He(this,Kl,m0).call(this,He(this,Xl,p0).call(this))},Yl=new WeakSet,x0=function(){F(this,Ki)&&(Bi.clearTimeout(F(this,Ki)),be(this,Ki,void 0))},Ql=new WeakSet,y0=function(){F(this,qi)&&(Bi.clearInterval(F(this,qi)),be(this,qi,void 0))},Zl=new WeakSet,w0=function(){const t=F(this,Dn).getQueryCache().build(F(this,Dn),this.options);if(t===F(this,et))return;const n=F(this,et);be(this,et,t),be(this,Wl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ad=new WeakSet,$b=function(t){Yt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,vn))}),F(this,Dn).getQueryCache().notify({query:F(this,et),type:"observerResultsUpdated"})})},Xx);function VS(e,t){return ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ax(e,t){return VS(e,t)||e.state.data!==void 0&&b0(e,t,t.refetchOnMount)}function b0(e,t,n){if(ur(t.enabled,e)!==!1&&li(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&sp(e,t)}return!1}function ox(e,t,n,s){return(e!==t||ur(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&sp(e,n)}function sp(e,t){return ur(t.enabled,e)!==!1&&e.isStaleByTime(li(t.staleTime,e))}function zS(e,t){return!$u(e.getCurrentResult(),t)}function lx(e){return{onFetch:(t,n)=>{var w,b,C,S,k;const s=t.options,o=(C=(b=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:b.fetchMore)==null?void 0:C.direction,l=((S=t.state.data)==null?void 0:S.pages)||[],f=((k=t.state.data)==null?void 0:k.pageParams)||[];let m={pages:[],pageParams:[]},x=0;const p=async()=>{let _=!1;const j=N=>{PS(N,()=>t.signal,()=>_=!0)},O=Kb(t.options,t.fetchOptions),A=async(N,P,X)=>{if(_)return Promise.reject();if(P==null&&N.pages.length)return Promise.resolve(N);const V=(()=>{const de={client:t.client,queryKey:t.queryKey,pageParam:P,direction:X?"backward":"forward",meta:t.options.meta};return j(de),de})(),z=await O(V),{maxPages:H}=t.options,re=X?OS:RS;return{pages:re(N.pages,z,H),pageParams:re(N.pageParams,P,H)}};if(o&&l.length){const N=o==="backward",P=N?WS:cx,X={pages:l,pageParams:f},Y=P(s,X);m=await A(X,Y,N)}else{const N=e??l.length;do{const P=x===0?f[0]??s.initialPageParam:cx(s,m);if(x>0&&P==null)break;m=await A(m,P),x++}while(x<N)}return m};t.options.persister?t.fetchFn=()=>{var _,j;return(j=(_=t.options).persister)==null?void 0:j.call(_,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function cx(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function WS(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var $l,Gr,Cn,Qi,Xr,Ps,Kx,HS=(Kx=class extends Qb{constructor(t){super();Ie(this,Xr);Ie(this,$l,void 0);Ie(this,Gr,void 0);Ie(this,Cn,void 0);Ie(this,Qi,void 0);be(this,$l,t.client),this.mutationId=t.mutationId,be(this,Cn,t.mutationCache),be(this,Gr,[]),this.state=t.state||Jb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Gr).includes(t)||(F(this,Gr).push(t),this.clearGcTimeout(),F(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Gr,F(this,Gr).filter(n=>n!==t)),this.scheduleGc(),F(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Gr).length||(this.state.status==="pending"?this.scheduleGc():F(this,Cn).remove(this))}continue(){var t;return((t=F(this,Qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var f,m,x,p,w,b,C,S,k,_,j,O,A,N,P,X,Y,V,z,H;const n=()=>{He(this,Xr,Ps).call(this,{type:"continue"})},s={client:F(this,$l),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,Qi,Yb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(re,de)=>{He(this,Xr,Ps).call(this,{type:"failed",failureCount:re,error:de})},onPause:()=>{He(this,Xr,Ps).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Cn).canRun(this)}));const o=this.state.status==="pending",l=!F(this,Qi).canStart();try{if(o)n();else{He(this,Xr,Ps).call(this,{type:"pending",variables:t,isPaused:l}),await((m=(f=F(this,Cn).config).onMutate)==null?void 0:m.call(f,t,this,s));const de=await((p=(x=this.options).onMutate)==null?void 0:p.call(x,t,s));de!==this.state.context&&He(this,Xr,Ps).call(this,{type:"pending",context:de,variables:t,isPaused:l})}const re=await F(this,Qi).start();return await((b=(w=F(this,Cn).config).onSuccess)==null?void 0:b.call(w,re,t,this.state.context,this,s)),await((S=(C=this.options).onSuccess)==null?void 0:S.call(C,re,t,this.state.context,s)),await((_=(k=F(this,Cn).config).onSettled)==null?void 0:_.call(k,re,null,this.state.variables,this.state.context,this,s)),await((O=(j=this.options).onSettled)==null?void 0:O.call(j,re,null,t,this.state.context,s)),He(this,Xr,Ps).call(this,{type:"success",data:re}),re}catch(re){try{await((N=(A=F(this,Cn).config).onError)==null?void 0:N.call(A,re,t,this.state.context,this,s))}catch(de){Promise.reject(de)}try{await((X=(P=this.options).onError)==null?void 0:X.call(P,re,t,this.state.context,s))}catch(de){Promise.reject(de)}try{await((V=(Y=F(this,Cn).config).onSettled)==null?void 0:V.call(Y,void 0,re,this.state.variables,this.state.context,this,s))}catch(de){Promise.reject(de)}try{await((H=(z=this.options).onSettled)==null?void 0:H.call(z,void 0,re,t,this.state.context,s))}catch(de){Promise.reject(de)}throw He(this,Xr,Ps).call(this,{type:"error",error:re}),re}finally{F(this,Cn).runNext(this)}}},$l=new WeakMap,Gr=new WeakMap,Cn=new WeakMap,Qi=new WeakMap,Xr=new WeakSet,Ps=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yt.batch(()=>{F(this,Gr).forEach(s=>{s.onMutationUpdate(t)}),F(this,Cn).notify({mutation:this,type:"updated",action:t})})},Kx);function Jb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ss,Nr,Jl,qx,GS=(qx=class extends ko{constructor(t={}){super();Ie(this,ss,void 0);Ie(this,Nr,void 0);Ie(this,Jl,void 0);this.config=t,be(this,ss,new Set),be(this,Nr,new Map),be(this,Jl,0)}build(t,n,s){const o=new HS({client:t,mutationCache:this,mutationId:++Ec(this,Jl)._,options:t.defaultMutationOptions(n),state:s});return this.add(o),o}add(t){F(this,ss).add(t);const n=qc(t);if(typeof n=="string"){const s=F(this,Nr).get(n);s?s.push(t):F(this,Nr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,ss).delete(t)){const n=qc(t);if(typeof n=="string"){const s=F(this,Nr).get(n);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&F(this,Nr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qc(t);if(typeof n=="string"){const s=F(this,Nr).get(n),o=s==null?void 0:s.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const n=qc(t);if(typeof n=="string"){const o=(s=F(this,Nr).get(n))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yt.batch(()=>{F(this,ss).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,ss).clear(),F(this,Nr).clear()})}getAll(){return Array.from(F(this,ss))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>tx(n,s))}findAll(t={}){return this.getAll().filter(n=>tx(t,n))}notify(t){Yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(t.map(n=>n.continue().catch(kn))))}},ss=new WeakMap,Nr=new WeakMap,Jl=new WeakMap,qx);function qc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var is,Hs,Mn,as,ro,du,ec,v0,Yx,XS=(Yx=class extends ko{constructor(n,s){super();Ie(this,ro);Ie(this,ec);Ie(this,is,void 0);Ie(this,Hs,void 0);Ie(this,Mn,void 0);Ie(this,as,void 0);be(this,is,n),this.setOptions(s),this.bindMethods(),He(this,ro,du).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const s=this.options;this.options=F(this,is).defaultMutationOptions(n),$u(this.options,s)||F(this,is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Mn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ia(s.mutationKey)!==ia(this.options.mutationKey)?this.reset():((o=F(this,Mn))==null?void 0:o.state.status)==="pending"&&F(this,Mn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,Mn))==null||n.removeObserver(this)}onMutationUpdate(n){He(this,ro,du).call(this),He(this,ec,v0).call(this,n)}getCurrentResult(){return F(this,Hs)}reset(){var n;(n=F(this,Mn))==null||n.removeObserver(this),be(this,Mn,void 0),He(this,ro,du).call(this),He(this,ec,v0).call(this)}mutate(n,s){var o;return be(this,as,s),(o=F(this,Mn))==null||o.removeObserver(this),be(this,Mn,F(this,is).getMutationCache().build(F(this,is),this.options)),F(this,Mn).addObserver(this),F(this,Mn).execute(n)}},is=new WeakMap,Hs=new WeakMap,Mn=new WeakMap,as=new WeakMap,ro=new WeakSet,du=function(){var s;const n=((s=F(this,Mn))==null?void 0:s.state)??Jb();be(this,Hs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ec=new WeakSet,v0=function(n){Yt.batch(()=>{var s,o,l,f,m,x,p,w;if(F(this,as)&&this.hasListeners()){const b=F(this,Hs).variables,C=F(this,Hs).context,S={client:F(this,is),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(o=(s=F(this,as)).onSuccess)==null||o.call(s,n.data,b,C,S)}catch(k){Promise.reject(k)}try{(f=(l=F(this,as)).onSettled)==null||f.call(l,n.data,null,b,C,S)}catch(k){Promise.reject(k)}}else if((n==null?void 0:n.type)==="error"){try{(x=(m=F(this,as)).onError)==null||x.call(m,n.error,b,C,S)}catch(k){Promise.reject(k)}try{(w=(p=F(this,as)).onSettled)==null||w.call(p,void 0,n.error,b,C,S)}catch(k){Promise.reject(k)}}}this.listeners.forEach(b=>{b(F(this,Hs))})})},Yx),Kr,Qx,KS=(Qx=class extends ko{constructor(t={}){super();Ie(this,Kr,void 0);this.config=t,be(this,Kr,new Map)}build(t,n,s){const o=n.queryKey,l=n.queryHash??ep(o,n);let f=this.get(l);return f||(f=new FS({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){F(this,Kr).has(t.queryHash)||(F(this,Kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,Kr).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,Kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Kr).get(t)}getAll(){return[...F(this,Kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>ex(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>ex(t,s)):n}notify(t){Yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kr=new WeakMap,Qx),Lt,Gs,Xs,so,io,Ks,ao,oo,Zx,qS=(Zx=class{constructor(e={}){Ie(this,Lt,void 0);Ie(this,Gs,void 0);Ie(this,Xs,void 0);Ie(this,so,void 0);Ie(this,io,void 0);Ie(this,Ks,void 0);Ie(this,ao,void 0);Ie(this,oo,void 0);be(this,Lt,e.queryCache||new KS),be(this,Gs,e.mutationCache||new GS),be(this,Xs,e.defaultOptions||{}),be(this,so,new Map),be(this,io,new Map),be(this,Ks,0)}mount(){Ec(this,Ks)._++,F(this,Ks)===1&&(be(this,ao,rp.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Lt).onFocus())})),be(this,oo,Ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Lt).onOnline())})))}unmount(){var e,t;Ec(this,Ks)._--,F(this,Ks)===0&&((e=F(this,ao))==null||e.call(this),be(this,ao,void 0),(t=F(this,oo))==null||t.call(this),be(this,oo,void 0))}isFetching(e){return F(this,Lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,Gs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Lt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=F(this,Lt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(li(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return F(this,Lt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),o=F(this,Lt).get(s.queryHash),l=o==null?void 0:o.state.data,f=TS(t,l);if(f!==void 0)return F(this,Lt).build(this,s).setData(f,{...n,manual:!0})}setQueriesData(e,t,n){return Yt.batch(()=>F(this,Lt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,Lt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,Lt);Yt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,Lt);return Yt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Yt.batch(()=>F(this,Lt).findAll(e).map(o=>o.cancel(n)));return Promise.all(s).then(kn).catch(kn)}invalidateQueries(e,t={}){return Yt.batch(()=>(F(this,Lt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Yt.batch(()=>F(this,Lt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(kn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,Lt).build(this,t);return n.isStaleByTime(li(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kn).catch(kn)}fetchInfiniteQuery(e){return e.behavior=lx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kn).catch(kn)}ensureInfiniteQueryData(e){return e.behavior=lx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ju.isOnline()?F(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Lt)}getMutationCache(){return F(this,Gs)}getDefaultOptions(){return F(this,Xs)}setDefaultOptions(e){be(this,Xs,e)}setQueryDefaults(e,t){F(this,so).set(ia(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,so).values()],n={};return t.forEach(s=>{Vl(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){F(this,io).set(ia(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,io).values()],n={};return t.forEach(s=>{Vl(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ep(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Lt).clear(),F(this,Gs).clear()}},Lt=new WeakMap,Gs=new WeakMap,Xs=new WeakMap,so=new WeakMap,io=new WeakMap,Ks=new WeakMap,ao=new WeakMap,oo=new WeakMap,Zx),ev=L.createContext(void 0),No=e=>{const t=L.useContext(ev);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},YS=({client:e,children:t})=>(L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(ev.Provider,{value:e,children:t})),tv=L.createContext(!1),QS=()=>L.useContext(tv);tv.Provider;function ZS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $S=L.createContext(ZS()),JS=()=>L.useContext($S),e6=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?np(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},t6=e=>{L.useEffect(()=>{e.clearReset()},[e])},n6=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(o&&e.data===void 0||np(n,[e.error,s])),r6=e=>{if(e.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...o)=>n(s(...o)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},s6=(e,t)=>e.isLoading&&e.isFetching&&!t,i6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ux=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function a6(e,t,n){var C,S,k,_;const s=QS(),o=JS(),l=No(n),f=l.defaultQueryOptions(e);(S=(C=l.getDefaultOptions().queries)==null?void 0:C._experimental_beforeQuery)==null||S.call(C,f);const m=l.getQueryCache().get(f.queryHash);f._optimisticResults=s?"isRestoring":"optimistic",r6(f),e6(f,o,m),t6(o);const x=!l.getQueryCache().get(f.queryHash),[p]=L.useState(()=>new t(l,f)),w=p.getOptimisticResult(f),b=!s&&e.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(j=>{const O=b?p.subscribe(Yt.batchCalls(j)):kn;return p.updateResult(),O},[p,b]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),L.useEffect(()=>{p.setOptions(f)},[f,p]),i6(f,w))throw ux(f,p,o);if(n6({result:w,errorResetBoundary:o,throwOnError:f.throwOnError,query:m,suspense:f.suspense}))throw w.error;if((_=(k=l.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||_.call(k,f,w),f.experimental_prefetchInRender&&!sa&&s6(w,s)){const j=x?ux(f,p,o):m==null?void 0:m.promise;j==null||j.catch(kn).finally(()=>{p.updateResult()})}return f.notifyOnChangeProps?w:p.trackResult(w)}function _t(e,t){return a6(e,US,t)}function Qt(e,t){const n=No(t),[s]=L.useState(()=>new XS(n,e));L.useEffect(()=>{s.setOptions(e)},[s,e]);const o=L.useSyncExternalStore(L.useCallback(f=>s.subscribe(Yt.batchCalls(f)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=L.useCallback((f,m)=>{s.mutate(f,m).catch(kn)},[s]);if(o.error&&np(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function nv(e,t){return function(){return e.apply(t,arguments)}}const{toString:o6}=Object.prototype,{getPrototypeOf:ip}=Object,{iterator:Dd,toStringTag:rv}=Symbol,Md=(e=>t=>{const n=o6.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pr=e=>(e=e.toLowerCase(),t=>Md(t)===e),Ld=e=>t=>typeof t===e,{isArray:So}=Array,wo=Ld("undefined");function uc(e){return e!==null&&!wo(e)&&e.constructor!==null&&!wo(e.constructor)&&zn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sv=Pr("ArrayBuffer");function l6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sv(e.buffer),t}const c6=Ld("string"),zn=Ld("function"),iv=Ld("number"),dc=e=>e!==null&&typeof e=="object",u6=e=>e===!0||e===!1,fu=e=>{if(Md(e)!=="object")return!1;const t=ip(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rv in e)&&!(Dd in e)},d6=e=>{if(!dc(e)||uc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},f6=Pr("Date"),h6=Pr("File"),p6=Pr("Blob"),m6=Pr("FileList"),g6=e=>dc(e)&&zn(e.pipe),x6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||zn(e.append)&&((t=Md(e))==="formdata"||t==="object"&&zn(e.toString)&&e.toString()==="[object FormData]"))},y6=Pr("URLSearchParams"),[w6,b6,v6,C6]=["ReadableStream","Request","Response","Headers"].map(Pr),E6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),So(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(uc(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),f=l.length;let m;for(s=0;s<f;s++)m=l[s],t.call(null,e[m],m,e)}}function av(e,t){if(uc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const Fi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ov=e=>!wo(e)&&e!==Fi;function C0(){const{caseless:e,skipUndefined:t}=ov(this)&&this||{},n={},s=(o,l)=>{const f=e&&av(n,l)||l;fu(n[f])&&fu(o)?n[f]=C0(n[f],o):fu(o)?n[f]=C0({},o):So(o)?n[f]=o.slice():(!t||!wo(o))&&(n[f]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&fc(arguments[o],s);return n}const A6=(e,t,n,{allOwnKeys:s}={})=>(fc(t,(o,l)=>{n&&zn(o)?e[l]=nv(o,n):e[l]=o},{allOwnKeys:s}),e),k6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),N6=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},S6=(e,t,n,s)=>{let o,l,f;const m={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)f=o[l],(!s||s(f,e,t))&&!m[f]&&(t[f]=e[f],m[f]=!0);e=n!==!1&&ip(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},T6=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},I6=e=>{if(!e)return null;if(So(e))return e;let t=e.length;if(!iv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ip(Uint8Array)),R6=(e,t)=>{const s=(e&&e[Dd]).call(e);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},O6=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},P6=Pr("HTMLFormElement"),j6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),dx=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D6=Pr("RegExp"),lv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};fc(n,(o,l)=>{let f;(f=t(o,l,e))!==!1&&(s[l]=f||o)}),Object.defineProperties(e,s)},M6=e=>{lv(e,(t,n)=>{if(zn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(zn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},L6=(e,t)=>{const n={},s=o=>{o.forEach(l=>{n[l]=!0})};return So(e)?s(e):s(String(e).split(t)),n},B6=()=>{},F6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function U6(e){return!!(e&&zn(e.append)&&e[rv]==="FormData"&&e[Dd])}const V6=e=>{const t=new Array(10),n=(s,o)=>{if(dc(s)){if(t.indexOf(s)>=0)return;if(uc(s))return s;if(!("toJSON"in s)){t[o]=s;const l=So(s)?[]:{};return fc(s,(f,m)=>{const x=n(f,o+1);!wo(x)&&(l[m]=x)}),t[o]=void 0,l}}return s};return n(e,0)},z6=Pr("AsyncFunction"),W6=e=>e&&(dc(e)||zn(e))&&zn(e.then)&&zn(e.catch),cv=((e,t)=>e?setImmediate:t?((n,s)=>(Fi.addEventListener("message",({source:o,data:l})=>{o===Fi&&l===n&&s.length&&s.shift()()},!1),o=>{s.push(o),Fi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",zn(Fi.postMessage)),H6=typeof queueMicrotask<"u"?queueMicrotask.bind(Fi):typeof process<"u"&&process.nextTick||cv,G6=e=>e!=null&&zn(e[Dd]),te={isArray:So,isArrayBuffer:sv,isBuffer:uc,isFormData:x6,isArrayBufferView:l6,isString:c6,isNumber:iv,isBoolean:u6,isObject:dc,isPlainObject:fu,isEmptyObject:d6,isReadableStream:w6,isRequest:b6,isResponse:v6,isHeaders:C6,isUndefined:wo,isDate:f6,isFile:h6,isBlob:p6,isRegExp:D6,isFunction:zn,isStream:g6,isURLSearchParams:y6,isTypedArray:_6,isFileList:m6,forEach:fc,merge:C0,extend:A6,trim:E6,stripBOM:k6,inherits:N6,toFlatObject:S6,kindOf:Md,kindOfTest:Pr,endsWith:T6,toArray:I6,forEachEntry:R6,matchAll:O6,isHTMLForm:P6,hasOwnProperty:dx,hasOwnProp:dx,reduceDescriptors:lv,freezeMethods:M6,toObjectSet:L6,toCamelCase:j6,noop:B6,toFiniteNumber:F6,findKey:av,global:Fi,isContextDefined:ov,isSpecCompliantForm:U6,toJSONObject:V6,isAsyncFn:z6,isThenable:W6,setImmediate:cv,asap:H6,isIterable:G6};function Ue(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}te.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const uv=Ue.prototype,dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dv[e]={value:e}});Object.defineProperties(Ue,dv);Object.defineProperty(uv,"isAxiosError",{value:!0});Ue.from=(e,t,n,s,o,l)=>{const f=Object.create(uv);te.toFlatObject(e,f,function(w){return w!==Error.prototype},p=>p!=="isAxiosError");const m=e&&e.message?e.message:"Error",x=t==null&&e?e.code:t;return Ue.call(f,m,x,n,s,o),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",l&&Object.assign(f,l),f};const X6=null;function E0(e){return te.isPlainObject(e)||te.isArray(e)}function fv(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function fx(e,t,n){return e?e.concat(t).map(function(o,l){return o=fv(o),!n&&l?"["+o+"]":o}).join(n?".":""):t}function K6(e){return te.isArray(e)&&!e.some(E0)}const q6=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function Bd(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,j){return!te.isUndefined(j[_])});const s=n.metaTokens,o=n.visitor||w,l=n.dots,f=n.indexes,x=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(o))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(te.isDate(k))return k.toISOString();if(te.isBoolean(k))return k.toString();if(!x&&te.isBlob(k))throw new Ue("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(k)||te.isTypedArray(k)?x&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function w(k,_,j){let O=k;if(k&&!j&&typeof k=="object"){if(te.endsWith(_,"{}"))_=s?_:_.slice(0,-2),k=JSON.stringify(k);else if(te.isArray(k)&&K6(k)||(te.isFileList(k)||te.endsWith(_,"[]"))&&(O=te.toArray(k)))return _=fv(_),O.forEach(function(N,P){!(te.isUndefined(N)||N===null)&&t.append(f===!0?fx([_],P,l):f===null?_:_+"[]",p(N))}),!1}return E0(k)?!0:(t.append(fx(j,_,l),p(k)),!1)}const b=[],C=Object.assign(q6,{defaultVisitor:w,convertValue:p,isVisitable:E0});function S(k,_){if(!te.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+_.join("."));b.push(k),te.forEach(k,function(O,A){(!(te.isUndefined(O)||O===null)&&o.call(t,O,te.isString(A)?A.trim():A,_,C))===!0&&S(O,_?_.concat(A):[A])}),b.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return S(e),t}function hx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ap(e,t){this._pairs=[],e&&Bd(e,this,t)}const hv=ap.prototype;hv.append=function(t,n){this._pairs.push([t,n])};hv.toString=function(t){const n=t?function(s){return t.call(this,s,hx)}:hx;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Y6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pv(e,t,n){if(!t)return e;const s=n&&n.encode||Y6;te.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(t,n):l=te.isURLSearchParams(t)?t.toString():new ap(t,n).toString(s),l){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Q6{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(s){s!==null&&t(s)})}}const px=Q6,mv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z6=typeof URLSearchParams<"u"?URLSearchParams:ap,$6=typeof FormData<"u"?FormData:null,J6=typeof Blob<"u"?Blob:null,eT={isBrowser:!0,classes:{URLSearchParams:Z6,FormData:$6,Blob:J6},protocols:["http","https","file","blob","url","data"]},op=typeof window<"u"&&typeof document<"u",A0=typeof navigator=="object"&&navigator||void 0,tT=op&&(!A0||["ReactNative","NativeScript","NS"].indexOf(A0.product)<0),nT=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),rT=op&&window.location.href||"http://localhost",sT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:op,hasStandardBrowserEnv:tT,hasStandardBrowserWebWorkerEnv:nT,navigator:A0,origin:rT},Symbol.toStringTag,{value:"Module"})),yn={...sT,...eT};function iT(e,t){return Bd(e,new yn.classes.URLSearchParams,{visitor:function(n,s,o,l){return yn.isNode&&te.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function aT(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oT(e){const t={},n=Object.keys(e);let s;const o=n.length;let l;for(s=0;s<o;s++)l=n[s],t[l]=e[l];return t}function gv(e){function t(n,s,o,l){let f=n[l++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),x=l>=n.length;return f=!f&&te.isArray(o)?o.length:f,x?(te.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!m):((!o[f]||!te.isObject(o[f]))&&(o[f]=[]),t(n,s,o[f],l)&&te.isArray(o[f])&&(o[f]=oT(o[f])),!m)}if(te.isFormData(e)&&te.isFunction(e.entries)){const n={};return te.forEachEntry(e,(s,o)=>{t(aT(s),o,n,0)}),n}return null}function lT(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const lp={transitional:mv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,l=te.isObject(t);if(l&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return o?JSON.stringify(gv(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return iT(t,this.formSerializer).toString();if((m=te.isFileList(t))||s.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Bd(m?{"files[]":t}:t,x&&new x,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),lT(t)):t}],transformResponse:[function(t){const n=this.transitional||lp.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(s&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?Ue.from(m,Ue.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{lp.headers[e]={}});const cp=lp,cT=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uT=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!n||t[n]&&cT[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},mx=Symbol("internals");function Qo(e){return e&&String(e).trim().toLowerCase()}function hu(e){return e===!1||e==null?e:te.isArray(e)?e.map(hu):String(e)}function dT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const fT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kf(e,t,n,s,o){if(te.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!te.isString(t)){if(te.isString(s))return t.indexOf(s)!==-1;if(te.isRegExp(s))return s.test(t)}}function hT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function pT(e,t){const n=te.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,l,f){return this[s].call(this,t,o,l,f)},configurable:!0})})}class Fd{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function l(m,x,p){const w=Qo(x);if(!w)throw new Error("header name must be a non-empty string");const b=te.findKey(o,w);(!b||o[b]===void 0||p===!0||p===void 0&&o[b]!==!1)&&(o[b||x]=hu(m))}const f=(m,x)=>te.forEach(m,(p,w)=>l(p,w,x));if(te.isPlainObject(t)||t instanceof this.constructor)f(t,n);else if(te.isString(t)&&(t=t.trim())&&!fT(t))f(uT(t),n);else if(te.isObject(t)&&te.isIterable(t)){let m={},x,p;for(const w of t){if(!te.isArray(w))throw TypeError("Object iterator must return a key-value pair");m[p=w[0]]=(x=m[p])?te.isArray(x)?[...x,w[1]]:[x,w[1]]:w[1]}f(m,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Qo(t),t){const s=te.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return dT(o);if(te.isFunction(n))return n.call(this,o,s);if(te.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qo(t),t){const s=te.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Kf(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function l(f){if(f=Qo(f),f){const m=te.findKey(s,f);m&&(!n||Kf(s,s[m],m,n))&&(delete s[m],o=!0)}}return te.isArray(t)?t.forEach(l):l(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const l=n[s];(!t||Kf(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const n=this,s={};return te.forEach(this,(o,l)=>{const f=te.findKey(s,l);if(f){n[f]=hu(o),delete n[l];return}const m=t?hT(l):String(l).trim();m!==l&&delete n[l],n[m]=hu(o),s[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return te.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&te.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[mx]=this[mx]={accessors:{}}).accessors,o=this.prototype;function l(f){const m=Qo(f);s[m]||(pT(o,f),s[m]=!0)}return te.isArray(t)?t.forEach(l):l(t),this}}Fd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Fd.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});te.freezeMethods(Fd);const Rr=Fd;function qf(e,t){const n=this||cp,s=t||n,o=Rr.from(s.headers);let l=s.data;return te.forEach(e,function(m){l=m.call(n,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function xv(e){return!!(e&&e.__CANCEL__)}function To(e,t,n){Ue.call(this,e??"canceled",Ue.ERR_CANCELED,t,n),this.name="CanceledError"}te.inherits(To,Ue,{__CANCEL__:!0});function yv(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gT(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,l=0,f;return t=t!==void 0?t:1e3,function(x){const p=Date.now(),w=s[l];f||(f=p),n[o]=x,s[o]=p;let b=l,C=0;for(;b!==o;)C+=n[b++],b=b%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),p-f<t)return;const S=w&&p-w;return S?Math.round(C*1e3/S):void 0}}function xT(e,t){let n=0,s=1e3/t,o,l;const f=(p,w=Date.now())=>{n=w,o=null,l&&(clearTimeout(l),l=null),e(...p)};return[(...p)=>{const w=Date.now(),b=w-n;b>=s?f(p,w):(o=p,l||(l=setTimeout(()=>{l=null,f(o)},s-b)))},()=>o&&f(o)]}const ed=(e,t,n=3)=>{let s=0;const o=gT(50,250);return xT(l=>{const f=l.loaded,m=l.lengthComputable?l.total:void 0,x=f-s,p=o(x),w=f<=m;s=f;const b={loaded:f,total:m,progress:m?f/m:void 0,bytes:x,rate:p||void 0,estimated:p&&m&&w?(m-f)/p:void 0,event:l,lengthComputable:m!=null,[t?"download":"upload"]:!0};e(b)},n)},gx=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},xx=e=>(...t)=>te.asap(()=>e(...t)),yT=yn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,yn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,wT=yn.hasStandardBrowserEnv?{write(e,t,n,s,o,l,f){if(typeof document>"u")return;const m=[`${e}=${encodeURIComponent(t)}`];te.isNumber(n)&&m.push(`expires=${new Date(n).toUTCString()}`),te.isString(s)&&m.push(`path=${s}`),te.isString(o)&&m.push(`domain=${o}`),l===!0&&m.push("secure"),te.isString(f)&&m.push(`SameSite=${f}`),document.cookie=m.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wv(e,t,n){let s=!bT(t);return e&&(s||n==!1)?vT(e,t):t}const yx=e=>e instanceof Rr?{...e}:e;function aa(e,t){t=t||{};const n={};function s(p,w,b,C){return te.isPlainObject(p)&&te.isPlainObject(w)?te.merge.call({caseless:C},p,w):te.isPlainObject(w)?te.merge({},w):te.isArray(w)?w.slice():w}function o(p,w,b,C){if(te.isUndefined(w)){if(!te.isUndefined(p))return s(void 0,p,b,C)}else return s(p,w,b,C)}function l(p,w){if(!te.isUndefined(w))return s(void 0,w)}function f(p,w){if(te.isUndefined(w)){if(!te.isUndefined(p))return s(void 0,p)}else return s(void 0,w)}function m(p,w,b){if(b in t)return s(p,w);if(b in e)return s(void 0,p)}const x={url:l,method:l,data:l,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(p,w,b)=>o(yx(p),yx(w),b,!0)};return te.forEach(Object.keys({...e,...t}),function(w){const b=x[w]||o,C=b(e[w],t[w],w);te.isUndefined(C)&&b!==m||(n[w]=C)}),n}const bv=e=>{const t=aa({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:f,auth:m}=t;if(t.headers=f=Rr.from(f),t.url=pv(wv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),te.isFormData(n)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(te.isFunction(n.getHeaders)){const x=n.getHeaders(),p=["content-type","content-length"];Object.entries(x).forEach(([w,b])=>{p.includes(w.toLowerCase())&&f.set(w,b)})}}if(yn.hasStandardBrowserEnv&&(s&&te.isFunction(s)&&(s=s(t)),s||s!==!1&&yT(t.url))){const x=o&&l&&wT.read(l);x&&f.set(o,x)}return t},CT=typeof XMLHttpRequest<"u",ET=CT&&function(e){return new Promise(function(n,s){const o=bv(e);let l=o.data;const f=Rr.from(o.headers).normalize();let{responseType:m,onUploadProgress:x,onDownloadProgress:p}=o,w,b,C,S,k;function _(){S&&S(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}let j=new XMLHttpRequest;j.open(o.method.toUpperCase(),o.url,!0),j.timeout=o.timeout;function O(){if(!j)return;const N=Rr.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),X={data:!m||m==="text"||m==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:N,config:e,request:j};yv(function(V){n(V),_()},function(V){s(V),_()},X),j=null}"onloadend"in j?j.onloadend=O:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(O)},j.onabort=function(){j&&(s(new Ue("Request aborted",Ue.ECONNABORTED,e,j)),j=null)},j.onerror=function(P){const X=P&&P.message?P.message:"Network Error",Y=new Ue(X,Ue.ERR_NETWORK,e,j);Y.event=P||null,s(Y),j=null},j.ontimeout=function(){let P=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const X=o.transitional||mv;o.timeoutErrorMessage&&(P=o.timeoutErrorMessage),s(new Ue(P,X.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,e,j)),j=null},l===void 0&&f.setContentType(null),"setRequestHeader"in j&&te.forEach(f.toJSON(),function(P,X){j.setRequestHeader(X,P)}),te.isUndefined(o.withCredentials)||(j.withCredentials=!!o.withCredentials),m&&m!=="json"&&(j.responseType=o.responseType),p&&([C,k]=ed(p,!0),j.addEventListener("progress",C)),x&&j.upload&&([b,S]=ed(x),j.upload.addEventListener("progress",b),j.upload.addEventListener("loadend",S)),(o.cancelToken||o.signal)&&(w=N=>{j&&(s(!N||N.type?new To(null,e,j):N),j.abort(),j=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const A=mT(o.url);if(A&&yn.protocols.indexOf(A)===-1){s(new Ue("Unsupported protocol "+A+":",Ue.ERR_BAD_REQUEST,e));return}j.send(l||null)})},AT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,o;const l=function(p){if(!o){o=!0,m();const w=p instanceof Error?p:this.reason;s.abort(w instanceof Ue?w:new To(w instanceof Error?w.message:w))}};let f=t&&setTimeout(()=>{f=null,l(new Ue(`timeout ${t} of ms exceeded`,Ue.ETIMEDOUT))},t);const m=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),e=null)};e.forEach(p=>p.addEventListener("abort",l));const{signal:x}=s;return x.unsubscribe=()=>te.asap(m),x}},kT=AT,NT=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,o;for(;s<n;)o=s+t,yield e.slice(s,o),s=o},ST=async function*(e,t){for await(const n of TT(e))yield*NT(n,t)},TT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},wx=(e,t,n,s)=>{const o=ST(e,t);let l=0,f,m=x=>{f||(f=!0,s&&s(x))};return new ReadableStream({async pull(x){try{const{done:p,value:w}=await o.next();if(p){m(),x.close();return}let b=w.byteLength;if(n){let C=l+=b;n(C)}x.enqueue(new Uint8Array(w))}catch(p){throw m(p),p}},cancel(x){return m(x),o.return()}},{highWaterMark:2})},bx=64*1024,{isFunction:Yc}=te,IT=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:vx,TextEncoder:Cx}=te.global,Ex=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_T=e=>{e=te.merge.call({skipUndefined:!0},IT,e);const{fetch:t,Request:n,Response:s}=e,o=t?Yc(t):typeof fetch=="function",l=Yc(n),f=Yc(s);if(!o)return!1;const m=o&&Yc(vx),x=o&&(typeof Cx=="function"?(k=>_=>k.encode(_))(new Cx):async k=>new Uint8Array(await new n(k).arrayBuffer())),p=l&&m&&Ex(()=>{let k=!1;const _=new n(yn.origin,{body:new vx,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!_}),w=f&&m&&Ex(()=>te.isReadableStream(new s("").body)),b={stream:w&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!b[k]&&(b[k]=(_,j)=>{let O=_&&_[k];if(O)return O.call(_);throw new Ue(`Response type '${k}' is not supported`,Ue.ERR_NOT_SUPPORT,j)})});const C=async k=>{if(k==null)return 0;if(te.isBlob(k))return k.size;if(te.isSpecCompliantForm(k))return(await new n(yn.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(te.isArrayBufferView(k)||te.isArrayBuffer(k))return k.byteLength;if(te.isURLSearchParams(k)&&(k=k+""),te.isString(k))return(await x(k)).byteLength},S=async(k,_)=>{const j=te.toFiniteNumber(k.getContentLength());return j??C(_)};return async k=>{let{url:_,method:j,data:O,signal:A,cancelToken:N,timeout:P,onDownloadProgress:X,onUploadProgress:Y,responseType:V,headers:z,withCredentials:H="same-origin",fetchOptions:re}=bv(k),de=t||fetch;V=V?(V+"").toLowerCase():"text";let se=kT([A,N&&N.toAbortSignal()],P),J=null;const he=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let K;try{if(Y&&p&&j!=="get"&&j!=="head"&&(K=await S(z,O))!==0){let ge=new n(_,{method:"POST",body:O,duplex:"half"}),$;if(te.isFormData(O)&&($=ge.headers.get("content-type"))&&z.setContentType($),ge.body){const[Ne,q]=gx(K,ed(xx(Y)));O=wx(ge.body,bx,Ne,q)}}te.isString(H)||(H=H?"include":"omit");const Ce=l&&"credentials"in n.prototype,xe={...re,signal:se,method:j.toUpperCase(),headers:z.normalize().toJSON(),body:O,duplex:"half",credentials:Ce?H:void 0};J=l&&new n(_,xe);let oe=await(l?de(J,re):de(_,xe));const me=w&&(V==="stream"||V==="response");if(w&&(X||me&&he)){const ge={};["status","statusText","headers"].forEach(Ee=>{ge[Ee]=oe[Ee]});const $=te.toFiniteNumber(oe.headers.get("content-length")),[Ne,q]=X&&gx($,ed(xx(X),!0))||[];oe=new s(wx(oe.body,bx,Ne,()=>{q&&q(),he&&he()}),ge)}V=V||"text";let ye=await b[te.findKey(b,V)||"text"](oe,k);return!me&&he&&he(),await new Promise((ge,$)=>{yv(ge,$,{data:ye,headers:Rr.from(oe.headers),status:oe.status,statusText:oe.statusText,config:k,request:J})})}catch(Ce){throw he&&he(),Ce&&Ce.name==="TypeError"&&/Load failed|fetch/i.test(Ce.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,k,J),{cause:Ce.cause||Ce}):Ue.from(Ce,Ce&&Ce.code,k,J)}}},RT=new Map,vv=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:o}=t,l=[s,o,n];let f=l.length,m=f,x,p,w=RT;for(;m--;)x=l[m],p=w.get(x),p===void 0&&w.set(x,p=m?new Map:_T(t)),w=p;return p};vv();const up={http:X6,xhr:ET,fetch:{get:vv}};te.forEach(up,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ax=e=>`- ${e}`,OT=e=>te.isFunction(e)||e===null||e===!1;function PT(e,t){e=te.isArray(e)?e:[e];const{length:n}=e;let s,o;const l={};for(let f=0;f<n;f++){s=e[f];let m;if(o=s,!OT(s)&&(o=up[(m=String(s)).toLowerCase()],o===void 0))throw new Ue(`Unknown adapter '${m}'`);if(o&&(te.isFunction(o)||(o=o.get(t))))break;l[m||"#"+f]=o}if(!o){const f=Object.entries(l).map(([x,p])=>`adapter ${x} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=n?f.length>1?`since :
`+f.map(Ax).join(`
`):" "+Ax(f[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const Cv={getAdapter:PT,adapters:up};function Yf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new To(null,e)}function kx(e){return Yf(e),e.headers=Rr.from(e.headers),e.data=qf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cv.getAdapter(e.adapter||cp.adapter,e)(e).then(function(s){return Yf(e),s.data=qf.call(e,e.transformResponse,s),s.headers=Rr.from(s.headers),s},function(s){return xv(s)||(Yf(e),s&&s.response&&(s.response.data=qf.call(e,e.transformResponse,s.response),s.response.headers=Rr.from(s.response.headers))),Promise.reject(s)})}const Ev="1.13.2",Ud={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ud[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Nx={};Ud.transitional=function(t,n,s){function o(l,f){return"[Axios v"+Ev+"] Transitional option '"+l+"'"+f+(s?". "+s:"")}return(l,f,m)=>{if(t===!1)throw new Ue(o(f," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!Nx[f]&&(Nx[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,f,m):!0}};Ud.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function jT(e,t,n){if(typeof e!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const l=s[o],f=t[l];if(f){const m=e[l],x=m===void 0||f(m,l,e);if(x!==!0)throw new Ue("option "+l+" must be "+x,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+l,Ue.ERR_BAD_OPTION)}}const pu={assertOptions:jT,validators:Ud},Wr=pu.validators;class td{constructor(t){this.defaults=t||{},this.interceptors={request:new px,response:new px}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=aa(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:l}=n;s!==void 0&&pu.assertOptions(s,{silentJSONParsing:Wr.transitional(Wr.boolean),forcedJSONParsing:Wr.transitional(Wr.boolean),clarifyTimeoutError:Wr.transitional(Wr.boolean)},!1),o!=null&&(te.isFunction(o)?n.paramsSerializer={serialize:o}:pu.assertOptions(o,{encode:Wr.function,serialize:Wr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pu.assertOptions(n,{baseUrl:Wr.spelling("baseURL"),withXsrfToken:Wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=l&&te.merge(l.common,l[n.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),n.headers=Rr.concat(f,l);const m=[];let x=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(x=x&&_.synchronous,m.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let w,b=0,C;if(!x){const k=[kx.bind(this),void 0];for(k.unshift(...m),k.push(...p),C=k.length,w=Promise.resolve(n);b<C;)w=w.then(k[b++],k[b++]);return w}C=m.length;let S=n;for(;b<C;){const k=m[b++],_=m[b++];try{S=k(S)}catch(j){_.call(this,j);break}}try{w=kx.call(this,S)}catch(k){return Promise.reject(k)}for(b=0,C=p.length;b<C;)w=w.then(p[b++],p[b++]);return w}getUri(t){t=aa(this.defaults,t);const n=wv(t.baseURL,t.url,t.allowAbsoluteUrls);return pv(n,t.params,t.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(t){td.prototype[t]=function(n,s){return this.request(aa(s||{},{method:t,url:n,data:(s||{}).data}))}});te.forEach(["post","put","patch"],function(t){function n(s){return function(l,f,m){return this.request(aa(m||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:f}))}}td.prototype[t]=n(),td.prototype[t+"Form"]=n(!0)});const mu=td;class dp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const f=new Promise(m=>{s.subscribe(m),l=m}).then(o);return f.cancel=function(){s.unsubscribe(l)},f},t(function(l,f,m){s.reason||(s.reason=new To(l,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new dp(function(o){t=o}),cancel:t}}}const DT=dp;function MT(e){return function(n){return e.apply(null,n)}}function LT(e){return te.isObject(e)&&e.isAxiosError===!0}const k0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(k0).forEach(([e,t])=>{k0[t]=e});const BT=k0;function Av(e){const t=new mu(e),n=nv(mu.prototype.request,t);return te.extend(n,mu.prototype,t,{allOwnKeys:!0}),te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Av(aa(e,o))},n}const Gt=Av(cp);Gt.Axios=mu;Gt.CanceledError=To;Gt.CancelToken=DT;Gt.isCancel=xv;Gt.VERSION=Ev;Gt.toFormData=Bd;Gt.AxiosError=Ue;Gt.Cancel=Gt.CanceledError;Gt.all=function(t){return Promise.all(t)};Gt.spread=MT;Gt.isAxiosError=LT;Gt.mergeConfig=aa;Gt.AxiosHeaders=Rr;Gt.formToJSON=e=>gv(te.isHTMLForm(e)?new FormData(e):e);Gt.getAdapter=Cv.getAdapter;Gt.HttpStatusCode=BT;Gt.default=Gt;const fp=Gt;function kv(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=kv(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Nv(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=kv(e))&&(s&&(s+=" "),s+=t);return s}function FT(){for(var e=0,t,n,s="";e<arguments.length;)(t=arguments[e++])&&(n=Sv(t))&&(s&&(s+=" "),s+=n);return s}function Sv(e){if(typeof e=="string")return e;for(var t,n="",s=0;s<e.length;s++)e[s]&&(t=Sv(e[s]))&&(n&&(n+=" "),n+=t);return n}var hp="-";function UT(e){var t=zT(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,o=s===void 0?{}:s;function l(m){var x=m.split(hp);return x[0]===""&&x.length!==1&&x.shift(),Tv(x,t)||VT(m)}function f(m,x){var p=n[m]||[];return x&&o[m]?[].concat(p,o[m]):p}return{getClassGroupId:l,getConflictingClassGroupIds:f}}function Tv(e,t){var f;if(e.length===0)return t.classGroupId;var n=e[0],s=t.nextPart.get(n),o=s?Tv(e.slice(1),s):void 0;if(o)return o;if(t.validators.length!==0){var l=e.join(hp);return(f=t.validators.find(function(m){var x=m.validator;return x(l)}))==null?void 0:f.classGroupId}}var Sx=/^\[(.+)\]$/;function VT(e){if(Sx.test(e)){var t=Sx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function zT(e){var t=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},o=HT(Object.entries(e.classGroups),n);return o.forEach(function(l){var f=l[0],m=l[1];N0(m,s,f,t)}),s}function N0(e,t,n,s){e.forEach(function(o){if(typeof o=="string"){var l=o===""?t:Tx(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(WT(o)){N0(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(f){var m=f[0],x=f[1];N0(x,Tx(t,m),n,s)})})}function Tx(e,t){var n=e;return t.split(hp).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function WT(e){return e.isThemeGetter}function HT(e,t){return t?e.map(function(n){var s=n[0],o=n[1],l=o.map(function(f){return typeof f=="string"?t+f:typeof f=="object"?Object.fromEntries(Object.entries(f).map(function(m){var x=m[0],p=m[1];return[t+x,p]})):f});return[s,l]}):e}function GT(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,s=new Map;function o(l,f){n.set(l,f),t++,t>e&&(t=0,s=n,n=new Map)}return{get:function(f){var m=n.get(f);if(m!==void 0)return m;if((m=s.get(f))!==void 0)return o(f,m),m},set:function(f,m){n.has(f)?n.set(f,m):o(f,m)}}}var Iv="!";function XT(e){var t=e.separator||":",n=t.length===1,s=t[0],o=t.length;return function(f){for(var m=[],x=0,p=0,w,b=0;b<f.length;b++){var C=f[b];if(x===0){if(C===s&&(n||f.slice(b,b+o)===t)){m.push(f.slice(p,b)),p=b+o;continue}if(C==="/"){w=b;continue}}C==="["?x++:C==="]"&&x--}var S=m.length===0?f:f.substring(p),k=S.startsWith(Iv),_=k?S.substring(1):S,j=w&&w>p?w-p:void 0;return{modifiers:m,hasImportantModifier:k,baseClassName:_,maybePostfixModifierPosition:j}}}function KT(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(s){var o=s[0]==="[";o?(t.push.apply(t,n.sort().concat([s])),n=[]):n.push(s)}),t.push.apply(t,n.sort()),t}function qT(e){return{cache:GT(e.cacheSize),splitModifiers:XT(e),...UT(e)}}var YT=/\s+/;function QT(e,t){var n=t.splitModifiers,s=t.getClassGroupId,o=t.getConflictingClassGroupIds,l=new Set;return e.trim().split(YT).map(function(f){var m=n(f),x=m.modifiers,p=m.hasImportantModifier,w=m.baseClassName,b=m.maybePostfixModifierPosition,C=s(b?w.substring(0,b):w),S=!!b;if(!C){if(!b)return{isTailwindClass:!1,originalClassName:f};if(C=s(w),!C)return{isTailwindClass:!1,originalClassName:f};S=!1}var k=KT(x).join(":"),_=p?k+Iv:k;return{isTailwindClass:!0,modifierId:_,classGroupId:C,originalClassName:f,hasPostfixModifier:S}}).reverse().filter(function(f){if(!f.isTailwindClass)return!0;var m=f.modifierId,x=f.classGroupId,p=f.hasPostfixModifier,w=m+x;return l.has(w)?!1:(l.add(w),o(x,p).forEach(function(b){return l.add(m+b)}),!0)}).reverse().map(function(f){return f.originalClassName}).join(" ")}function ZT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s,o,l,f=m;function m(p){var w=t[0],b=t.slice(1),C=b.reduce(function(S,k){return k(S)},w());return s=qT(C),o=s.cache.get,l=s.cache.set,f=x,x(p)}function x(p){var w=o(p);if(w)return w;var b=QT(p,s);return l(p,b),b}return function(){return f(FT.apply(null,arguments))}}function yt(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var _v=/^\[(?:([a-z-]+):)?(.+)\]$/i,$T=/^\d+\/\d+$/,JT=new Set(["px","full","screen"]),eI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nI=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Er(e){return Ui(e)||JT.has(e)||$T.test(e)||S0(e)}function S0(e){return fa(e,"length",lI)}function rI(e){return fa(e,"size",Rv)}function sI(e){return fa(e,"position",Rv)}function iI(e){return fa(e,"url",cI)}function Qc(e){return fa(e,"number",Ui)}function Ui(e){return!Number.isNaN(Number(e))}function aI(e){return e.endsWith("%")&&Ui(e.slice(0,-1))}function Zo(e){return Ix(e)||fa(e,"number",Ix)}function $e(e){return _v.test(e)}function $o(){return!0}function Rs(e){return eI.test(e)}function oI(e){return fa(e,"",uI)}function fa(e,t,n){var s=_v.exec(e);return s?s[1]?s[1]===t:n(s[2]):!1}function lI(e){return tI.test(e)}function Rv(){return!1}function cI(e){return e.startsWith("url(")}function Ix(e){return Number.isInteger(Number(e))}function uI(e){return nI.test(e)}function dI(){var e=yt("colors"),t=yt("spacing"),n=yt("blur"),s=yt("brightness"),o=yt("borderColor"),l=yt("borderRadius"),f=yt("borderSpacing"),m=yt("borderWidth"),x=yt("contrast"),p=yt("grayscale"),w=yt("hueRotate"),b=yt("invert"),C=yt("gap"),S=yt("gradientColorStops"),k=yt("gradientColorStopPositions"),_=yt("inset"),j=yt("margin"),O=yt("opacity"),A=yt("padding"),N=yt("saturate"),P=yt("scale"),X=yt("sepia"),Y=yt("skew"),V=yt("space"),z=yt("translate"),H=function(){return["auto","contain","none"]},re=function(){return["auto","hidden","clip","visible","scroll"]},de=function(){return["auto",$e,t]},se=function(){return[$e,t]},J=function(){return["",Er]},he=function(){return["auto",Ui,$e]},K=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Ce=function(){return["solid","dashed","dotted","double","none"]},xe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},oe=function(){return["start","end","center","between","around","evenly","stretch"]},me=function(){return["","0",$e]},ye=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ge=function(){return[Ui,Qc]},$=function(){return[Ui,$e]};return{cacheSize:500,theme:{colors:[$o],spacing:[Er],blur:["none","",Rs,$e],brightness:ge(),borderColor:[e],borderRadius:["none","","full",Rs,$e],borderSpacing:se(),borderWidth:J(),contrast:ge(),grayscale:me(),hueRotate:$(),invert:me(),gap:se(),gradientColorStops:[e],gradientColorStopPositions:[aI,S0],inset:de(),margin:de(),opacity:ge(),padding:se(),saturate:ge(),scale:ge(),sepia:me(),skew:$(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(K(),[$e])}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zo]}],basis:[{basis:de()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Zo]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",Zo]},$e]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[Zo]},$e]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal"].concat(oe())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(oe(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(oe(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$e,t]}],"min-w":[{"min-w":["min","max","fit",$e,Er]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Rs]},Rs,$e]}],h:[{h:[$e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$e,Er]}],"max-h":[{"max-h":[$e,t,"min","max","fit"]}],"font-size":[{text:["base",Rs,S0]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qc]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Ui,Qc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$e,Er]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Ce(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Er]}],"underline-offset":[{"underline-offset":["auto",$e,Er]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(K(),[sI])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[].concat(Ce(),["hidden"])}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(Ce())}],"outline-offset":[{"outline-offset":[$e,Er]}],"outline-w":[{outline:[Er]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Er]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rs,oI]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":xe()}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Rs,$e]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[b]}],saturate:[{saturate:[N]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Zo,$e]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Er,Qc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Ov=ZT(dI);function Jo(...e){return Ov(Nv(e))}const fI=()=>{const{logout:e,user:t}=vs(),{theme:n,toggleTheme:s}=J1(),{data:o}=_t({queryKey:["system-settings"],queryFn:async()=>(await fp.get("/api/system-settings")).data});o!=null&&o.company_logo;const l=(t==null?void 0:t.role)==="admin",f=[{name:"Dasbor",icon:"dashboard",path:"/"},{name:"Aset",icon:"inventory_2",path:"/inventory"},{name:"Pinjaman",icon:"assignment_return",path:"/transactions"},...l?[{name:"Peminjam",icon:"groups",path:"/borrowers"},{name:"Laporan",icon:"bar_chart",path:"/reports"}]:[],{name:"Akun Terbagi",icon:"key",path:"/shared-accounts"}],m=h.jsxs("aside",{className:"hidden lg:flex w-64 flex-col bg-surface-light dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 transition-colors duration-300 h-screen fixed left-0 top-0",children:[h.jsx("div",{className:"h-16 flex items-center px-4 border-b border-slate-100 dark:border-slate-800/50",children:h.jsxs("div",{className:"flex items-center gap-3 w-full p-1.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer group",children:[h.jsx("div",{className:"size-8 rounded-full bg-cover bg-center border border-white dark:border-slate-700 shadow-sm shrink-0",style:{backgroundImage:`url(${(t==null?void 0:t.photo_url)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"})`}}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-xs font-black text-slate-900 dark:text-white truncate group-hover:text-primary transition-colors",children:(t==null?void 0:t.display_name)||"User"}),h.jsx("p",{className:"text-[9px] font-bold text-slate-500 dark:text-slate-400 truncate uppercase tracking-wider",children:(t==null?void 0:t.role)||"Viewer"})]})]})}),h.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 px-4 flex flex-col gap-2 custom-scrollbar",children:[f.map(p=>h.jsxs(Vc,{to:p.path,className:({isActive:w})=>Jo("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group",w?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"),children:[h.jsx("span",{className:Jo("material-symbols-outlined","group-hover:text-primary transition-colors"),children:p.icon}),h.jsx("span",{className:"text-sm font-semibold",children:p.name})]},p.path)),l&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-800",children:[h.jsx("p",{className:"px-3 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Sistem"}),h.jsxs(Vc,{to:"/settings",className:({isActive:p})=>Jo("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group",p?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"),children:[h.jsx("span",{className:"material-symbols-outlined group-hover:text-primary transition-colors",children:"settings"}),h.jsx("span",{className:"text-sm font-medium",children:"Pengaturan"})]})]})]}),h.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800",children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("button",{onClick:s,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors w-full",children:[h.jsx("span",{className:"material-symbols-outlined",children:n==="light"?"dark_mode":"light_mode"}),h.jsx("span",{className:"text-sm font-medium",children:n==="light"?"Mode Gelap":"Mode Terang"})]}),h.jsxs("button",{onClick:e,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors w-full",children:[h.jsx("span",{className:"material-symbols-outlined",children:"logout"}),h.jsx("span",{className:"text-sm font-medium",children:"Keluar"})]})]})})]}),x=h.jsxs("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-surface-light dark:bg-surface-dark border-t border-slate-200 dark:border-slate-800 flex justify-around items-center h-16 px-2 z-[100]",children:[f.filter(p=>["/","/inventory","/transactions","/shared-accounts"].includes(p.path)).map(p=>h.jsxs(Vc,{to:p.path,className:({isActive:w})=>Jo("flex flex-col items-center justify-center gap-1 flex-1",w?"text-primary":"text-slate-500 dark:text-slate-400"),children:[h.jsx("span",{className:"material-symbols-outlined",children:p.icon}),h.jsx("span",{className:"text-[10px] font-bold text-center leading-none",children:p.name==="Akun Terbagi"?"Akun":p.name})]},p.path)),l&&h.jsxs(Vc,{to:"/settings",className:({isActive:p})=>Jo("flex flex-col items-center justify-center gap-1 flex-1",p?"text-primary":"text-slate-500 dark:text-slate-400"),children:[h.jsx("span",{className:"material-symbols-outlined",children:"settings"}),h.jsx("span",{className:"text-[10px] font-bold",children:"Menu"})]})]});return h.jsxs(h.Fragment,{children:[m,x]})},hI=({title:e})=>{vs();const{theme:t}=J1(),n=xi(),[s,o]=L.useState(""),[l,f]=L.useState(!1),{data:m}=_t({queryKey:["system-settings"],queryFn:async()=>(await fp.get("/api/system-settings")).data}),x=(m==null?void 0:m.company_logo)||"https://api.dicebear.com/7.x/initials/svg?seed=IA",p=w=>{w.key==="Enter"&&s.trim()&&(n(`/inventory?q=${encodeURIComponent(s.trim())}`),o(""),f(!1))};return h.jsxs("header",{className:"h-16 flex items-center justify-between px-6 bg-surface-light dark:bg-surface-dark border-b border-slate-200 dark:border-slate-800 z-50 sticky top-0 transition-colors duration-300",children:[l&&h.jsxs("div",{className:"absolute inset-x-0 top-0 h-16 bg-surface-light dark:bg-surface-dark flex items-center px-4 gap-3 z-50 transition-all duration-300 ease-out",children:[h.jsx("button",{onClick:()=>f(!1),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("span",{className:"absolute inset-y-0 left-3 flex items-center text-slate-400",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),h.jsx("input",{autoFocus:!0,className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-sm text-slate-900 dark:text-white placeholder-slate-500 focus:ring-2 focus:ring-primary/50 transition-all outline-none",placeholder:"Cari aset...",type:"text",value:s,onChange:w=>o(w.target.value),onKeyDown:p})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:x,alt:"Logo",className:`h-7 w-auto object-contain transition-all duration-300 ${t==="dark"?"brightness-0 invert":""}`}),h.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 hidden sm:block mx-1"}),h.jsx("h2",{className:"hidden sm:block text-xl font-bold text-slate-900 dark:text-white capitalize",children:e}),h.jsxs("div",{className:"hidden lg:flex items-center gap-2 pl-4 border-l border-slate-200 dark:border-slate-700",children:[h.jsx("div",{className:"size-2 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),h.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Cloud Aktif"})]})]}),h.jsxs("div",{className:"flex items-center gap-4 text-slate-500 dark:text-slate-400",children:[h.jsxs("div",{className:"relative hidden md:block group",children:[h.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400 group-focus-within:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),h.jsx("input",{className:"pl-10 pr-4 py-2 w-64 bg-slate-100 dark:bg-slate-800 border-none rounded-lg text-sm text-slate-900 dark:text-white placeholder-slate-500 focus:ring-2 focus:ring-primary/50 transition-all outline-none",placeholder:"Cari aset & tekan Enter...",type:"text",value:s,onChange:w=>o(w.target.value),onKeyDown:p})]}),h.jsx("div",{className:"flex items-center gap-1 sm:gap-4",children:h.jsx("button",{onClick:()=>f(!0),className:"md:hidden p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:h.jsx("span",{className:"material-symbols-outlined",children:"search"})})})]})]})},T0=({size:e="default"})=>{const{data:t}=_t({queryKey:["system-settings"],queryFn:async()=>(await fp.get("/api/system-settings")).data,staleTime:3e5}),n={small:{container:"w-12 h-12",logo:"w-8 h-8",border:"border-2"},default:{container:"w-20 h-20",logo:"w-14 h-14",border:"border-4"},large:{container:"w-32 h-32",logo:"w-24 h-24",border:"border-[6px]"}},s=n[e]||n.default;return h.jsxs("div",{className:"relative flex items-center justify-center",children:[h.jsx(Ct.div,{className:`${s.container} rounded-full ${s.border} border-transparent bg-gradient-to-tr from-blue-500 via-indigo-500 to-purple-500 bg-clip-border`,style:{background:"linear-gradient(white, white) padding-box, linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6) border-box"},animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),h.jsx(Ct.div,{className:`absolute ${s.container} rounded-full bg-blue-500/20`,animate:{scale:[1,1.2,1],opacity:[.5,.2,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),h.jsx(Ct.div,{className:`absolute ${s.logo} rounded-full bg-white dark:bg-slate-900 flex items-center justify-center overflow-hidden shadow-lg`,animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:t!=null&&t.login_logo?h.jsx("img",{src:t.login_logo,alt:"Logo",className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-lg",children:"IODA"})})})]})};var pI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$r=(e,t)=>{const n=L.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:f,children:m,...x},p)=>L.createElement("svg",{ref:p,...pI,width:o,height:o,stroke:s,strokeWidth:f?Number(l)*24/Number(o):l,className:`lucide lucide-${mI(e)}`,...x},[...t.map(([w,b])=>L.createElement(w,b)),...(Array.isArray(m)?m:[m])||[]]));return n.displayName=`${e}`,n},gI=$r("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xI=$r("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),yI=$r("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),wI=$r("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bI=$r("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),vI=$r("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),CI=$r("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),EI=$r("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),AI=$r("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Pv=$r("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),St=({isOpen:e,onClose:t,title:n,children:s})=>h.jsx(jd,{children:e&&h.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-hidden",children:[h.jsx(Ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm pt-4 pb-4"}),h.jsxs(Ct.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-lg bg-white dark:bg-surface-dark rounded-[2rem] shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-800 transition-colors duration-300 flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-50 dark:border-slate-800",children:[h.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:n}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors",children:h.jsx(Pv,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-8 overflow-y-auto overflow-x-hidden custom-scrollbar flex-1",children:s})]})]})});var ke;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var _x=new Map([[ke.QR_CODE,"QR_CODE"],[ke.AZTEC,"AZTEC"],[ke.CODABAR,"CODABAR"],[ke.CODE_39,"CODE_39"],[ke.CODE_93,"CODE_93"],[ke.CODE_128,"CODE_128"],[ke.DATA_MATRIX,"DATA_MATRIX"],[ke.MAXICODE,"MAXICODE"],[ke.ITF,"ITF"],[ke.EAN_13,"EAN_13"],[ke.EAN_8,"EAN_8"],[ke.PDF_417,"PDF_417"],[ke.RSS_14,"RSS_14"],[ke.RSS_EXPANDED,"RSS_EXPANDED"],[ke.UPC_A,"UPC_A"],[ke.UPC_E,"UPC_E"],[ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Rx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Rx||(Rx={}));function kI(e){return Object.values(ke).includes(e)}var nd;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nd||(nd={}));var NI=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[nd.SCAN_TYPE_CAMERA,nd.SCAN_TYPE_FILE],e}(),jv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!_x.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,_x.get(t))},e}(),Ox=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),I0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(I0||(I0={}));var SI=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:I0.UNKWOWN_ERROR}},e}(),TI=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function es(e){return typeof e>"u"||e===null}var Va=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Dv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),f=Object.keys(t),m=0,x=f;m<x.length;m++){var p=x[m];if(l.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),_0={exports:{}};(function(e,t){(function(n,s){s(t)})(Fo,function(n){function s(T){return T==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,r){T.__proto__=r}||function(T,r){for(var i in r)r.hasOwnProperty(i)&&(T[i]=r[i])};function l(T,r){o(T,r);function i(){this.constructor=T}T.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function f(T,r){var i=Object.setPrototypeOf;i?i(T,r):T.__proto__=r}function m(T,r){r===void 0&&(r=T.constructor);var i=Error.captureStackTrace;i&&i(T,r)}var x=function(T){l(r,T);function r(i){var a=this.constructor,c=T.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),f(c,a.prototype),m(c),c}return r}(Error);class p extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class b extends p{}b.kind="IllegalArgumentException";class C{constructor(r){if(this.binarizer=r,r===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,a,c){const u=this.binarizer.getLuminanceSource().crop(r,i,a,c);return new C(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends p{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class k{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(r,i,a,c,u){for(;u--;)a[c++]=r[i++]}static currentTimeMillis(){return Date.now()}}class j extends p{}j.kind="IndexOutOfBoundsException";class O extends j{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class A{static fill(r,i){for(let a=0,c=r.length;a<c;a++)r[a]=i}static fillWithin(r,i,a,c){A.rangeCheck(r.length,i,a);for(let u=i;u<a;u++)r[u]=c}static rangeCheck(r,i,a){if(i>a)throw new b("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new O(i);if(a>r)throw new O(a)}static asList(...r){return r}static create(r,i,a){return Array.from({length:r}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(r,i,a){return Array.from({length:r}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let a=0,c=r.length;a<c;a++)if(r[a]!==i[a])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const a of r)i=31*i+a;return i}static fillUint8Array(r,i){for(let a=0;a!==r.length;a++)r[a]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const a=new Uint8Array(i);return a.set(r),a}return r.slice(0,i)}static copyOfRange(r,i,a){const c=a-i,u=new Int32Array(c);return _.arraycopy(r,i,u,0,c),u}static binarySearch(r,i,a){a===void 0&&(a=A.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const d=u+c>>1,g=a(i,r[d]);if(g>0)c=d+1;else if(g<0)u=d-1;else return d}return-c-1}static numberComparator(r,i){return r-i}}class N{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let a=31;return i=r<<16,i!==0&&(a-=16,r=i),i=r<<8,i!==0&&(a-=8,r=i),i=r<<4,i!==0&&(a-=4,r=i),i=r<<2,i!==0&&(a-=2,r=i),a-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=P.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=P.makeArray(r);_.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const a=this.bits;let c=Math.floor(r/32),u=a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=a[c]}const g=c*32+N.numberOfTrailingZeros(u);return g>i?i:g}getNextUnset(r){const i=this.size;if(r>=i)return i;const a=this.bits;let c=Math.floor(r/32),u=~a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=~a[c]}const g=c*32+N.numberOfTrailingZeros(u);return g>i?i:g}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new b;if(i===r)return;i--;const a=Math.floor(r/32),c=Math.floor(i/32),u=this.bits;for(let d=a;d<=c;d++){const g=d>a?0:r&31,v=(2<<(d<c?31:i&31))-(1<<g);u[d]|=v}}clear(){const r=this.bits.length,i=this.bits;for(let a=0;a<r;a++)i[a]=0}isRange(r,i,a){if(i<r||r<0||i>this.size)throw new b;if(i===r)return!0;i--;const c=Math.floor(r/32),u=Math.floor(i/32),d=this.bits;for(let g=c;g<=u;g++){const y=g>c?0:r&31,E=(2<<(g<u?31:i&31))-(1<<y)&4294967295;if((d[g]&E)!==(a?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((r>>a-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(r.get(a))}xor(r){if(this.size!==r.size)throw new b("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=r.bits[a]}toBytes(r,i,a,c){for(let u=0;u<c;u++){let d=0;for(let g=0;g<8;g++)this.get(r)&&(d|=1<<7-g),r++;i[a+u]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[i-u]=d}if(this.size!==a*32){const u=a*32-this.size;let d=r[0]>>>u;for(let g=1;g<a;g++){const y=r[g];d|=y<<32-u,r[g-1]=d,d=y>>>u}r[a-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof P))return!1;const i=r;return this.size===i.size&&A.equals(this.bits,i.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let r="";for(let i=0,a=this.size;i<a;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new P(this.size,this.bits.slice())}}var X;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var Y=X;class V extends p{static getFormatInstance(){return new V}}V.kind="FormatException";var z;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(z||(z={}));class H{constructor(r,i,a,...c){this.valueIdentifier=r,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,H.VALUE_IDENTIFIER_TO_ECI.set(r,this),H.NAME_TO_ECI.set(a,this);const u=this.values;for(let d=0,g=u.length;d!==g;d++){const y=u[d];H.VALUES_TO_ECI.set(y,this)}for(const d of c)H.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new V("incorect value");const i=H.VALUES_TO_ECI.get(r);if(i===void 0)throw new V("incorect value");return i}static getCharacterSetECIByName(r){const i=H.NAME_TO_ECI.get(r);if(i===void 0)throw new V("incorect value");return i}equals(r){if(!(r instanceof H))return!1;const i=r;return this.getName()===i.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(z.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(z.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(z.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(z.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(z.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(z.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(z.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(z.Big5,28,"Big5"),H.GB18030=new H(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(z.EUC_KR,30,"EUC_KR","EUC-KR");class re extends p{}re.kind="UnsupportedOperationException";class de{static decode(r,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(r,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(r,a):new TextDecoder(a).decode(r)}static shouldDecodeOnFallback(r){return!de.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(r,a):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof H?r:H.getCharacterSetECIByName(r)}static decodeFallback(r,i){const a=this.encodingCharacterSet(i);if(de.isDecodeFallbackSupported(a)){let c="";for(let u=0,d=r.length;u<d;u++){let g=r[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(a.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new re(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(H.UTF8)||r.equals(H.ISO8859_1)||r.equals(H.ASCII)}static encodeFallback(r){const a=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class se{static castAsNonUtf8Char(r,i=null){const a=i?i.getName():this.ISO88591;return de.decode(new Uint8Array([r]),a)}static guessEncoding(r,i){if(i!=null&&i.get(Y.CHARACTER_SET)!==void 0)return i.get(Y.CHARACTER_SET).toString();const a=r.length;let c=!0,u=!0,d=!0,g=0,y=0,v=0,E=0,I=0,R=0,M=0,U=0,W=0,Q=0,ne=0;const ue=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let fe=0;fe<a&&(c||u||d);fe++){const le=r[fe]&255;d&&(g>0?le&128?g--:d=!1:le&128&&(le&64?(g++,le&32?(g++,le&16?(g++,le&8?d=!1:E++):v++):y++):d=!1)),c&&(le>127&&le<160?c=!1:le>159&&(le<192||le===215||le===247)&&ne++),u&&(I>0?le<64||le===127||le>252?u=!1:I--:le===128||le===160||le>239?u=!1:le>160&&le<224?(R++,U=0,M++,M>W&&(W=M)):le>127?(I++,M=0,U++,U>Q&&(Q=U)):(M=0,U=0))}return d&&g>0&&(d=!1),u&&I>0&&(u=!1),d&&(ue||y+v+E>0)?se.UTF8:u&&(se.ASSUME_SHIFT_JIS||W>=3||Q>=3)?se.SHIFT_JIS:c&&u?W===2&&R===2||ne*10>=a?se.SHIFT_JIS:se.ISO88591:c?se.ISO88591:u?se.SHIFT_JIS:d?se.UTF8:se.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let a=-1;function c(d,g,y,v,E,I){if(d==="%%")return"%";if(i[++a]===void 0)return;d=v?parseInt(v.substr(1)):void 0;let R=E?parseInt(E.substr(1)):void 0,M;switch(I){case"s":M=i[a];break;case"c":M=i[a][0];break;case"f":M=parseFloat(i[a]).toFixed(d);break;case"p":M=parseFloat(i[a]).toPrecision(d);break;case"e":M=parseFloat(i[a]).toExponential(d);break;case"x":M=parseInt(i[a]).toString(R||16);break;case"d":M=parseFloat(parseInt(i[a],R||10).toPrecision(d)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(R);let U=parseInt(y),W=y&&y[0]+""=="0"?"0":" ";for(;M.length<U;)M=g!==void 0?M+W:W+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,i){return de.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}se.SHIFT_JIS=H.SJIS.getName(),se.GB2312="GB2312",se.ISO88591=H.ISO8859_1.getName(),se.EUC_JP="EUC_JP",se.UTF8=H.UTF8.getName(),se.PLATFORM_DEFAULT_ENCODING=se.UTF8,se.ASSUME_SHIFT_JIS=!1;class J{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=se.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,a){for(let c=i;i<i+a;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class he{constructor(r,i,a,c){if(this.width=r,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=r),this.height=i,r<1||i<1)throw new b("Both dimensions must be greater than 0");a==null&&(a=Math.floor((r+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,a=r[0].length,c=new he(a,i);for(let u=0;u<i;u++){const d=r[u];for(let g=0;g<a;g++)d[g]&&c.set(g,u)}return c}static parseFromString(r,i,a){if(r===null)throw new b("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,d=0,g=-1,y=0,v=0;for(;v<r.length;)if(r.charAt(v)===`
`||r.charAt(v)==="\r"){if(u>d){if(g===-1)g=u-d;else if(u-d!==g)throw new b("row lengths do not match");d=u,y++}v++}else if(r.substring(v,v+i.length)===i)v+=i.length,c[u]=!0,u++;else if(r.substring(v,v+a.length)===a)v+=a.length,c[u]=!1,u++;else throw new b("illegal character encountered: "+r.substring(v));if(u>d){if(g===-1)g=u-d;else if(u-d!==g)throw new b("row lengths do not match");y++}const E=new he(g,y);for(let I=0;I<u;I++)c[I]&&E.set(Math.floor(I%g),Math.floor(I/g));return E}get(r,i){const a=i*this.rowSize+Math.floor(r/32);return(this.bits[a]>>>(r&31)&1)!==0}set(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]|=1<<(r&31)&4294967295}unset(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]&=~(1<<(r&31)&4294967295)}flip(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new b("input matrix dimensions do not match");const i=new P(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){const g=u*a,y=r.getRow(u,i).getBitArray();for(let v=0;v<a;v++)c[g+v]^=y[v]}}clear(){const r=this.bits,i=r.length;for(let a=0;a<i;a++)r[a]=0}setRegion(r,i,a,c){if(i<0||r<0)throw new b("Left and top must be nonnegative");if(c<1||a<1)throw new b("Height and width must be at least 1");const u=r+a,d=i+c;if(d>this.height||u>this.width)throw new b("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let v=i;v<d;v++){const E=v*g;for(let I=r;I<u;I++)y[E+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new P(this.width):i.clear();const a=this.rowSize,c=this.bits,u=r*a;for(let d=0;d<a;d++)i.setBulk(d*32,c[u+d]);return i}setRow(r,i){_.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let a=new P(r),c=new P(r);for(let u=0,d=Math.floor((i+1)/2);u<d;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const r=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=r,d=i,g=-1,y=-1;for(let v=0;v<i;v++)for(let E=0;E<a;E++){const I=c[v*a+E];if(I!==0){if(v<d&&(d=v),v>y&&(y=v),E*32<u){let R=0;for(;!(I<<31-R&4294967295);)R++;E*32+R<u&&(u=E*32+R)}if(E*32+31>g){let R=31;for(;!(I>>>R);)R--;E*32+R>g&&(g=E*32+R)}}}return g<u||y<d?null:Int32Array.from([u,d,g-u+1,y-d+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/r;let u=a%r*32;const d=i[a];let g=0;for(;!(d<<31-g&4294967295);)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/r);let u=Math.floor(a%r)*32;const d=i[a];let g=31;for(;!(d>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof he))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&A.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+A.hashCode(this.bits),r}toString(r="X ",i="  ",a=`
`){return this.buildToString(r,i,a)}buildToString(r,i,a){let c=new J;for(let u=0,d=this.height;u<d;u++){for(let g=0,y=this.width;g<y;g++)c.append(this.get(g,u)?r:i);c.append(a)}return c.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends p{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class Ce extends k{constructor(r){super(r),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(r,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new P(c):i.clear(),this.initArrays(c);const u=a.getRow(r,this.luminances),d=this.buckets;for(let y=0;y<c;y++)d[(u[y]&255)>>Ce.LUMINANCE_SHIFT]++;const g=Ce.estimateBlackPoint(d);if(c<3)for(let y=0;y<c;y++)(u[y]&255)<g&&i.set(y);else{let y=u[0]&255,v=u[1]&255;for(let E=1;E<c-1;E++){const I=u[E+1]&255;(v*4-y-I)/2<g&&i.set(E),y=v,v=I}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),a=r.getHeight(),c=new he(i,a);this.initArrays(i);const u=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(a*y/5),E=r.getRow(v,this.luminances),I=Math.floor(i*4/5);for(let R=Math.floor(i/5);R<I;R++){const M=E[R]&255;u[M>>Ce.LUMINANCE_SHIFT]++}}const d=Ce.estimateBlackPoint(u),g=r.getMatrix();for(let y=0;y<a;y++){const v=y*i;for(let E=0;E<i;E++)(g[v+E]&255)<d&&c.set(E,y)}return c}createBinarizer(r){return new Ce(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let a=0;a<Ce.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(r){const i=r.length;let a=0,c=0,u=0;for(let E=0;E<i;E++)r[E]>u&&(c=E,u=r[E]),r[E]>a&&(a=r[E]);let d=0,g=0;for(let E=0;E<i;E++){const I=E-c,R=r[E]*I*I;R>g&&(d=E,g=R)}if(c>d){const E=c;c=d,d=E}if(d-c<=i/16)throw new K;let y=d-1,v=-1;for(let E=d-1;E>c;E--){const I=E-c,R=I*I*(d-E)*(a-r[E]);R>v&&(y=E,v=R)}return y<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class xe extends Ce{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),a=r.getHeight();if(i>=xe.MINIMUM_DIMENSION&&a>=xe.MINIMUM_DIMENSION){const c=r.getMatrix();let u=i>>xe.BLOCK_SIZE_POWER;i&xe.BLOCK_SIZE_MASK&&u++;let d=a>>xe.BLOCK_SIZE_POWER;a&xe.BLOCK_SIZE_MASK&&d++;const g=xe.calculateBlackPoints(c,u,d,i,a),y=new he(i,a);xe.calculateThresholdForBlock(c,u,d,i,a,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new xe(r)}static calculateThresholdForBlock(r,i,a,c,u,d,g){const y=u-xe.BLOCK_SIZE,v=c-xe.BLOCK_SIZE;for(let E=0;E<a;E++){let I=E<<xe.BLOCK_SIZE_POWER;I>y&&(I=y);const R=xe.cap(E,2,a-3);for(let M=0;M<i;M++){let U=M<<xe.BLOCK_SIZE_POWER;U>v&&(U=v);const W=xe.cap(M,2,i-3);let Q=0;for(let ue=-2;ue<=2;ue++){const fe=d[R+ue];Q+=fe[W-2]+fe[W-1]+fe[W]+fe[W+1]+fe[W+2]}const ne=Q/25;xe.thresholdBlock(r,U,I,ne,c,g)}}}static cap(r,i,a){return r<i?i:r>a?a:r}static thresholdBlock(r,i,a,c,u,d){for(let g=0,y=a*u+i;g<xe.BLOCK_SIZE;g++,y+=u)for(let v=0;v<xe.BLOCK_SIZE;v++)(r[y+v]&255)<=c&&d.set(i+v,a+g)}static calculateBlackPoints(r,i,a,c,u){const d=u-xe.BLOCK_SIZE,g=c-xe.BLOCK_SIZE,y=new Array(a);for(let v=0;v<a;v++){y[v]=new Int32Array(i);let E=v<<xe.BLOCK_SIZE_POWER;E>d&&(E=d);for(let I=0;I<i;I++){let R=I<<xe.BLOCK_SIZE_POWER;R>g&&(R=g);let M=0,U=255,W=0;for(let ne=0,ue=E*c+R;ne<xe.BLOCK_SIZE;ne++,ue+=c){for(let fe=0;fe<xe.BLOCK_SIZE;fe++){const le=r[ue+fe]&255;M+=le,le<U&&(U=le),le>W&&(W=le)}if(W-U>xe.MIN_DYNAMIC_RANGE)for(ne++,ue+=c;ne<xe.BLOCK_SIZE;ne++,ue+=c)for(let fe=0;fe<xe.BLOCK_SIZE;fe++)M+=r[ue+fe]&255}let Q=M>>xe.BLOCK_SIZE_POWER*2;if(W-U<=xe.MIN_DYNAMIC_RANGE&&(Q=U/2,v>0&&I>0)){const ne=(y[v-1][I]+2*y[v][I-1]+y[v-1][I-1])/4;U<ne&&(Q=ne)}y[v][I]=Q}}return y}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class oe{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,a,c){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new J;for(let a=0;a<this.height;a++){const c=this.getRow(a,r);for(let u=0;u<this.width;u++){const d=c[u]&255;let g;d<64?g="#":d<128?g="+":d<192?g=".":g=" ",i.append(g)}i.append(`
`)}return i.toString()}}class me extends oe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const a=this.delegate.getRow(r,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(r[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,a,c){return new me(this.delegate.crop(r,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new me(this.delegate.rotateCounterClockwise45())}}class ye extends oe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ye.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,d=0,g=r.length;u<g;u+=4,d++){let y;if(r[u+3]===0)y=255;else{const E=r[u],I=r[u+1],R=r[u+2];y=306*E+601*I+117*R+512>>10}c[d]=y}return c}getRow(r,i){if(r<0||r>=this.getHeight())throw new b("Requested row is outside the image: "+r);const a=this.getWidth(),c=r*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,a,c){return super.crop(r,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=r*ye.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),y=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return i.width=g,i.height=y,a.translate(g/2,y/2),a.rotate(c),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=ye.makeBufferFromCanvasImageData(i),this}invert(){return new me(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class ge{constructor(r,i,a){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var $=(globalThis||Fo||self||window||void 0)&&(globalThis||Fo||self||window||void 0).__awaiter||function(T,r,i,a){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function g(E){try{v(a.next(E))}catch(I){d(I)}}function y(E){try{v(a.throw(E))}catch(I){d(I)}}function v(E){E.done?u(E.value):c(E.value).then(g,y)}v((a=a.apply(T,r||[])).next())})};class Ne{constructor(r,i=500,a){this.reader=r,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return $(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of r){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,d=a.label||`Video device ${i.length+1}`,g=a.groupId,y={deviceId:u,label:d,kind:c,groupId:g};i.push(y)}return i})}getVideoInputDevices(){return $(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ge(i.deviceId,i.label))})}findDeviceById(r){return $(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return $(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return $(this,void 0,void 0,function*(){this.reset();let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(r,i){return $(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(r,i){return $(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(r,i,a){return $(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,a)})}decodeFromVideoDevice(r,i,a){return $(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(r,i,a){return $(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(r,i,a){return $(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return $(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,r),this.videoElement=a,this.stream=r,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(r){return new Promise((i,a)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return $(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const a=document.getElementById(r);if(!a)throw new w(`element with id '${r}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new w(`element with id '${r}' must be an ${i} element`);return a}decodeFromImage(r,i){if(!r&&!i)throw new w("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,a){if(r===void 0&&i===void 0)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(r,a)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=r,a}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=r,a}decodeFromVideoUrlContinuously(r,i){if(!r)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=r,c}_decodeOnLoadImage(r){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,a),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return $(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return $(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,d)=>{if(this._stopAsyncDecode){d(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(r);u(g)}catch(g){const y=i&&g instanceof K,E=(g instanceof S||g instanceof V)&&a;if(y||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(g)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof S||c instanceof V,d=c instanceof K;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,a){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),a=new ye(i),c=new xe(a);return new C(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(a=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(a=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class q{constructor(r,i,a=i==null?0:8*i.length,c,u,d=_.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=r,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=_.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const a=new Array(i.length+r.length);_.arraycopy(i,0,a,0,i.length),_.arraycopy(r,0,a,i.length,r.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ee;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var ie=Ee,ve;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ve||(ve={}));var B=ve;class we{constructor(r,i,a,c,u=-1,d=-1){this.rawBytes=r,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ke{exp(r){return this.expTable[r]}log(r){if(r===0)throw new b;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class Le{constructor(r,i){if(i.length===0)throw new b;this.field=r;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),_.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(r===1){a=0;for(let d=0,g=i.length;d!==g;d++){const y=i[d];a=Ke.addOrSubtract(a,y)}return a}a=i[0];const c=i.length,u=this.field;for(let d=1;d<c;d++)a=Ke.addOrSubtract(u.multiply(r,a),i[d]);return a}addOrSubtract(r){if(!this.field.equals(r.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,a=r.coefficients;if(i.length>a.length){const d=i;i=a,a=d}let c=new Int32Array(a.length);const u=a.length-i.length;_.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=Ke.addOrSubtract(i[d-u],a[d]);return new Le(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1),g=this.field;for(let y=0;y<a;y++){const v=i[y];for(let E=0;E<u;E++)d[y+E]=Ke.addOrSubtract(d[y+E],g.multiply(v,c[E]))}return new Le(g,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let d=0;d<i;d++)c[d]=a.multiply(u[d],r);return new Le(a,c)}multiplyByMonomial(r,i){if(r<0)throw new b;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+r),d=this.field;for(let g=0;g<c;g++)u[g]=d.multiply(a[g],i);return new Le(d,u)}divide(r){if(!this.field.equals(r.field))throw new b("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new b("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),d=i.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const g=c.getDegree()-r.getDegree(),y=i.multiply(c.getCoefficient(c.getDegree()),d),v=r.multiplyByMonomial(g,y),E=i.buildMonomial(g,y);a=a.addOrSubtract(E),c=c.addOrSubtract(v)}return[a,c]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(r+=" - ",a=-a):r.length>0&&(r+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class nr extends p{}nr.kind="ArithmeticException";class Ve extends Ke{constructor(r,i,a){super(),this.primitive=r,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let g=0;g<i;g++)c[g]=u,u*=2,u>=i&&(u^=r,u&=i-1);this.expTable=c;const d=new Int32Array(i);for(let g=0;g<i-1;g++)d[c[g]]=g;this.logTable=d,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new b;if(i===0)return this.zero;const a=new Int32Array(r+1);return a[0]=i,new Le(this,a)}inverse(r){if(r===0)throw new nr;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Ve.AZTEC_DATA_12=new Ve(4201,4096,1),Ve.AZTEC_DATA_10=new Ve(1033,1024,1),Ve.AZTEC_DATA_6=new Ve(67,64,1),Ve.AZTEC_PARAM=new Ve(19,16,1),Ve.QR_CODE_FIELD_256=new Ve(285,256,0),Ve.DATA_MATRIX_FIELD_256=new Ve(301,256,1),Ve.AZTEC_DATA_8=Ve.DATA_MATRIX_FIELD_256,Ve.MAXICODE_FIELD_64=Ve.AZTEC_DATA_6;class In extends p{}In.kind="ReedSolomonException";class dn extends p{}dn.kind="IllegalStateException";class Hn{constructor(r){this.field=r}decode(r,i){const a=this.field,c=new Le(a,r),u=new Int32Array(i);let d=!0;for(let M=0;M<i;M++){const U=c.evaluateAt(a.exp(M+a.getGeneratorBase()));u[u.length-1-M]=U,U!==0&&(d=!1)}if(d)return;const g=new Le(a,u),y=this.runEuclideanAlgorithm(a.buildMonomial(i,1),g,i),v=y[0],E=y[1],I=this.findErrorLocations(v),R=this.findErrorMagnitudes(E,I);for(let M=0;M<I.length;M++){const U=r.length-1-a.log(I[M]);if(U<0)throw new In("Bad error location");r[U]=Ve.addOrSubtract(r[U],R[M])}}runEuclideanAlgorithm(r,i,a){if(r.getDegree()<i.getDegree()){const M=r;r=i,i=M}const c=this.field;let u=r,d=i,g=c.getZero(),y=c.getOne();for(;d.getDegree()>=(a/2|0);){let M=u,U=g;if(u=d,g=y,u.isZero())throw new In("r_{i-1} was zero");d=M;let W=c.getZero();const Q=u.getCoefficient(u.getDegree()),ne=c.inverse(Q);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const ue=d.getDegree()-u.getDegree(),fe=c.multiply(d.getCoefficient(d.getDegree()),ne);W=W.addOrSubtract(c.buildMonomial(ue,fe)),d=d.addOrSubtract(u.multiplyByMonomial(ue,fe))}if(y=W.multiply(g).addOrSubtract(U),d.getDegree()>=u.getDegree())throw new dn("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new In("sigmaTilde(0) was zero");const E=c.inverse(v),I=y.multiplyScalar(E),R=d.multiplyScalar(E);return[I,R]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let d=1;d<u.getSize()&&c<i;d++)r.evaluateAt(d)===0&&(a[c]=u.inverse(d),c++);if(c!==i)throw new In("Error locator degree does not match number of roots");return a}findErrorMagnitudes(r,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){const g=u.inverse(i[d]);let y=1;for(let v=0;v<a;v++)if(d!==v){const E=u.multiply(i[v],g),I=E&1?E&-2:E|1;y=u.multiply(y,I)}c[d]=u.multiply(r.evaluateAt(g),u.inverse(y)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],g))}return c}}var kt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(kt||(kt={}));class ot{decode(r){this.ddata=r;let i=r.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=ot.convertBoolArrayToByteArray(c),d=ot.getEncodedData(c),g=new we(u,d,null,null);return g.setNumBits(c.length),g}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,a=kt.UPPER,c=kt.UPPER,u="",d=0;for(;d<i;)if(c===kt.BINARY){if(i-d<5)break;let g=ot.readCode(r,d,5);if(d+=5,g===0){if(i-d<11)break;g=ot.readCode(r,d,11)+31,d+=11}for(let y=0;y<g;y++){if(i-d<8){d=i;break}const v=ot.readCode(r,d,8);u+=se.castAsNonUtf8Char(v),d+=8}c=a}else{let g=c===kt.DIGIT?4:5;if(i-d<g)break;let y=ot.readCode(r,d,g);d+=g;let v=ot.getCharacter(c,y);v.startsWith("CTRL_")?(a=c,c=ot.getTable(v.charAt(5)),v.charAt(6)==="L"&&(a=c)):(u+=v,c=a)}return u}static getTable(r){switch(r){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(r,i){switch(r){case kt.UPPER:return ot.UPPER_TABLE[i];case kt.LOWER:return ot.LOWER_TABLE[i];case kt.MIXED:return ot.MIXED_TABLE[i];case kt.PUNCT:return ot.PUNCT_TABLE[i];case kt.DIGIT:return ot.DIGIT_TABLE[i];default:throw new dn("Bad table")}}correctBits(r){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Ve.AZTEC_DATA_10):(a=12,i=Ve.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/a;if(u<c)throw new V;let d=r.length%a,g=new Int32Array(u);for(let R=0;R<u;R++,d+=a)g[R]=ot.readCode(r,d,a);try{new Hn(i).decode(g,u-c)}catch(R){throw new V(R)}let y=(1<<a)-1,v=0;for(let R=0;R<c;R++){let M=g[R];if(M===0||M===y)throw new V;(M===1||M===y-1)&&v++}let E=new Array(c*a-v),I=0;for(let R=0;R<c;R++){let M=g[R];if(M===1||M===y-1)E.fill(M>1,I,I+a-1),I+=a-1;else for(let U=a-1;U>=0;--U)E[I++]=(M&1<<U)!==0}return E}extractBits(r){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,i));if(i)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*N.truncDivision(N.truncDivision(c,2)-1,15),y=c/2,v=N.truncDivision(g,2);for(let E=0;E<y;E++){let I=E+N.truncDivision(E,15);u[y-E-1]=v-I-1,u[y+E]=v+I+1}}for(let g=0,y=0;g<a;g++){let v=(a-g)*4+(i?9:12),E=g*2,I=c-1-E;for(let R=0;R<v;R++){let M=R*2;for(let U=0;U<2;U++)d[y+M+U]=r.get(u[E+U],u[E+R]),d[y+2*v+M+U]=r.get(u[E+R],u[I-U]),d[y+4*v+M+U]=r.get(u[I-U],u[I-R]),d[y+6*v+M+U]=r.get(u[I-R],u[E+U])}y+=v*8}return d}static readCode(r,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,i){let a=r.length-i;return a>=8?ot.readCode(r,i,8):ot.readCode(r,i,a)<<8-a}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let a=0;a<i.length;a++)i[a]=ot.readByte(r,8*a);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ze{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,a,c){const u=r-a,d=i-c;return Math.sqrt(u*u+d*d)}static sum(r){let i=0;for(let a=0,c=r.length;a!==c;a++){const u=r[a];i+=u}return i}}class Cs{static floatToIntBits(r){return r}}Cs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Se{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Se){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Cs.floatToIntBits(this.x)+Cs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),a=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,d,g;if(a>=i&&a>=c?(d=r[0],u=r[1],g=r[2]):c>=a&&c>=i?(d=r[1],u=r[0],g=r[2]):(d=r[2],u=r[0],g=r[1]),this.crossProductZ(u,d,g)<0){const y=u;u=g,g=y}r[0]=u,r[1]=d,r[2]=g}static distance(r,i){return ze.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,a){const c=i.x,u=i.y;return(a.x-c)*(r.y-u)-(a.y-u)*(r.x-c)}}class Io{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class _o extends Io{constructor(r,i,a,c,u){super(r,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xr{constructor(r,i,a,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=xr.INIT_SIZE),a==null&&(a=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let r=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,d=!0,g=!1,y=!1,v=!1,E=!1,I=!1;const R=this.width,M=this.height;for(;d;){d=!1;let U=!0;for(;(U||!y)&&i<R;)U=this.containsBlackPoint(a,c,i,!1),U?(i++,d=!0,y=!0):y||i++;if(i>=R){u=!0;break}let W=!0;for(;(W||!v)&&c<M;)W=this.containsBlackPoint(r,i,c,!0),W?(c++,d=!0,v=!0):v||c++;if(c>=M){u=!0;break}let Q=!0;for(;(Q||!E)&&r>=0;)Q=this.containsBlackPoint(a,c,r,!1),Q?(r--,d=!0,E=!0):E||r--;if(r<0){u=!0;break}let ne=!0;for(;(ne||!I)&&a>=0;)ne=this.containsBlackPoint(r,i,a,!0),ne?(a--,d=!0,I=!0):I||a--;if(a<0){u=!0;break}d&&(g=!0)}if(!u&&g){const U=i-r;let W=null;for(let fe=1;W===null&&fe<U;fe++)W=this.getBlackPointOnSegment(r,c-fe,r+fe,c);if(W==null)throw new K;let Q=null;for(let fe=1;Q===null&&fe<U;fe++)Q=this.getBlackPointOnSegment(r,a+fe,r+fe,a);if(Q==null)throw new K;let ne=null;for(let fe=1;ne===null&&fe<U;fe++)ne=this.getBlackPointOnSegment(i,a+fe,i-fe,a);if(ne==null)throw new K;let ue=null;for(let fe=1;ue===null&&fe<U;fe++)ue=this.getBlackPointOnSegment(i,c-fe,i-fe,c);if(ue==null)throw new K;return this.centerEdges(ue,W,ne,Q)}else throw new K}getBlackPointOnSegment(r,i,a,c){const u=ze.round(ze.distance(r,i,a,c)),d=(a-r)/u,g=(c-i)/u,y=this.image;for(let v=0;v<u;v++){const E=ze.round(r+v*d),I=ze.round(i+v*g);if(y.get(E,I))return new Se(E,I)}return null}centerEdges(r,i,a,c){const u=r.getX(),d=r.getY(),g=i.getX(),y=i.getY(),v=a.getX(),E=a.getY(),I=c.getX(),R=c.getY(),M=xr.CORR;return u<this.width/2?[new Se(I-M,R+M),new Se(g+M,y+M),new Se(v-M,E-M),new Se(u+M,d-M)]:[new Se(I+M,R+M),new Se(g+M,y-M),new Se(v-M,E+M),new Se(u-M,d-M)]}containsBlackPoint(r,i,a,c){const u=this.image;if(c){for(let d=r;d<=i;d++)if(u.get(d,a))return!0}else for(let d=r;d<=i;d++)if(u.get(a,d))return!0;return!1}}xr.INIT_SIZE=10,xr.CORR=1;class wi{static checkAndNudgePoints(r,i){const a=r.getWidth(),c=r.getHeight();let u=!0;for(let d=0;d<i.length&&u;d+=2){const g=Math.floor(i[d]),y=Math.floor(i[d+1]);if(g<-1||g>a||y<-1||y>c)throw new K;u=!1,g===-1?(i[d]=0,u=!0):g===a&&(i[d]=a-1,u=!0),y===-1?(i[d+1]=0,u=!0):y===c&&(i[d+1]=c-1,u=!0)}u=!0;for(let d=i.length-2;d>=0&&u;d-=2){const g=Math.floor(i[d]),y=Math.floor(i[d+1]);if(g<-1||g>a||y<-1||y>c)throw new K;u=!1,g===-1?(i[d]=0,u=!0):g===a&&(i[d]=a-1,u=!0),y===-1?(i[d+1]=0,u=!0):y===c&&(i[d+1]=c-1,u=!0)}}}class Gn{constructor(r,i,a,c,u,d,g,y,v){this.a11=r,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=d,this.a13=g,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(r,i,a,c,u,d,g,y,v,E,I,R,M,U,W,Q){const ne=Gn.quadrilateralToSquare(r,i,a,c,u,d,g,y);return Gn.squareToQuadrilateral(v,E,I,R,M,U,W,Q).times(ne)}transformPoints(r){const i=r.length,a=this.a11,c=this.a12,u=this.a13,d=this.a21,g=this.a22,y=this.a23,v=this.a31,E=this.a32,I=this.a33;for(let R=0;R<i;R+=2){const M=r[R],U=r[R+1],W=u*M+y*U+I;r[R]=(a*M+d*U+v)/W,r[R+1]=(c*M+g*U+E)/W}}transformPointsWithValues(r,i){const a=this.a11,c=this.a12,u=this.a13,d=this.a21,g=this.a22,y=this.a23,v=this.a31,E=this.a32,I=this.a33,R=r.length;for(let M=0;M<R;M++){const U=r[M],W=i[M],Q=u*U+y*W+I;r[M]=(a*U+d*W+v)/Q,i[M]=(c*U+g*W+E)/Q}}static squareToQuadrilateral(r,i,a,c,u,d,g,y){const v=r-a+u-g,E=i-c+d-y;if(v===0&&E===0)return new Gn(a-r,u-a,r,c-i,d-c,i,0,0,1);{const I=a-u,R=g-u,M=c-d,U=y-d,W=I*U-R*M,Q=(v*U-R*E)/W,ne=(I*E-v*M)/W;return new Gn(a-r+Q*a,g-r+ne*g,r,c-i+Q*c,y-i+ne*y,i,Q,ne,1)}}static quadrilateralToSquare(r,i,a,c,u,d,g,y){return Gn.squareToQuadrilateral(r,i,a,c,u,d,g,y).buildAdjoint()}buildAdjoint(){return new Gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Gn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class hc extends wi{sampleGrid(r,i,a,c,u,d,g,y,v,E,I,R,M,U,W,Q,ne,ue,fe){const le=Gn.quadrilateralToQuadrilateral(c,u,d,g,y,v,E,I,R,M,U,W,Q,ne,ue,fe);return this.sampleGridWithTransform(r,i,a,le)}sampleGridWithTransform(r,i,a,c){if(i<=0||a<=0)throw new K;const u=new he(i,a),d=new Float32Array(2*i);for(let g=0;g<a;g++){const y=d.length,v=g+.5;for(let E=0;E<y;E+=2)d[E]=E/2+.5,d[E+1]=v;c.transformPoints(d),wi.checkAndNudgePoints(r,d);try{for(let E=0;E<y;E+=2)r.get(Math.floor(d[E]),Math.floor(d[E+1]))&&u.set(E/2,g)}catch{throw new K}}return u}}class yr{static setGridSampler(r){yr.gridSampler=r}static getInstance(){return yr.gridSampler}}yr.gridSampler=new hc;class $t{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new Se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class G{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(r){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new _o(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new K;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let d=0;d<4;d++){let g=a[(this.shift+d)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,i){let a=0;r.forEach((c,u,d)=>{let g=(c>>i-2<<1)+(c&1);a=(a<<3)+g}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(N.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new K}getCorrectedParameterData(r,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,d=new Int32Array(a);for(let y=a-1;y>=0;--y)d[y]=r&15,r>>=4;try{new Hn(Ve.AZTEC_PARAM).decode(d,u)}catch{throw new K}let g=0;for(let y=0;y<c;y++)g=(g<<4)+d[y];return g}getBullsEyeCorners(r){let i=r,a=r,c=r,u=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(i,d,1,-1),R=this.getFirstDifferent(a,d,1,1),M=this.getFirstDifferent(c,d,-1,1),U=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(U,I)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(I,R,M,U))break}i=I,a=R,c=M,u=U,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let g=new Se(i.getX()+.5,i.getY()-.5),y=new Se(a.getX()+.5,a.getY()+.5),v=new Se(c.getX()-.5,c.getY()+.5),E=new Se(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,y,v,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,a,c;try{let g=new xr(this.image).detect();r=g[0],i=g[1],a=g[2],c=g[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;r=this.getFirstDifferent(new $t(y+7,v-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(y+7,v+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $t(y-7,v+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $t(y-7,v-7),!1,-1,-1).toResultPoint()}let u=ze.round((r.getX()+c.getX()+i.getX()+a.getX())/4),d=ze.round((r.getY()+c.getY()+i.getY()+a.getY())/4);try{let g=new xr(this.image,15,u,d).detect();r=g[0],i=g[1],a=g[2],c=g[3]}catch{r=this.getFirstDifferent(new $t(u+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new $t(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new $t(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $t(u-7,d-7),!1,-1,-1).toResultPoint()}return u=ze.round((r.getX()+c.getX()+i.getX()+a.getX())/4),d=ze.round((r.getY()+c.getY()+i.getY()+a.getY())/4),new $t(u,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,a,c,u){let d=yr.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return d.sampleGrid(r,g,g,y,y,v,y,v,v,y,v,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,i,a){let c=0,u=this.distanceResultPoint(r,i),d=u/a,g=r.getX(),y=r.getY(),v=d*(i.getX()-r.getX())/u,E=d*(i.getY()-r.getY())/u;for(let I=0;I<a;I++)this.image.get(ze.round(g+I*v),ze.round(y+I*E))&&(c|=1<<a-I-1);return c}isWhiteOrBlackRectangle(r,i,a,c){let u=3;r=new $t(r.getX()-u,r.getY()+u),i=new $t(i.getX()-u,i.getY()-u),a=new $t(a.getX()+u,a.getY()-u),c=new $t(c.getX()+u,c.getY()+u);let d=this.getColor(c,r);if(d===0)return!1;let g=this.getColor(r,i);return g!==d||(g=this.getColor(i,a),g!==d)?!1:(g=this.getColor(a,c),g===d)}getColor(r,i){let a=this.distancePoint(r,i),c=(i.getX()-r.getX())/a,u=(i.getY()-r.getY())/a,d=0,g=r.getX(),y=r.getY(),v=this.image.get(r.getX(),r.getY()),E=Math.ceil(a);for(let R=0;R<E;R++)g+=c,y+=u,this.image.get(ze.round(g),ze.round(y))!==v&&d++;let I=d/a;return I>.1&&I<.9?0:I<=.1===v?1:-1}getFirstDifferent(r,i,a,c){let u=r.getX()+a,d=r.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a,d+=c;for(u-=a,d-=c;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===i;)d+=c;return d-=c,new $t(u,d)}expandSquare(r,i,a){let c=a/(2*i),u=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),g=(r[0].getX()+r[2].getX())/2,y=(r[0].getY()+r[2].getY())/2,v=new Se(g+c*u,y+c*d),E=new Se(g-c*u,y-c*d);u=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),g=(r[1].getX()+r[3].getX())/2,y=(r[1].getY()+r[3].getY())/2;let I=new Se(g+c*u,y+c*d),R=new Se(g-c*u,y-c*d);return[v,I,E,R]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=ze.round(r.getX()),a=ze.round(r.getY());return this.isValid(i,a)}distancePoint(r,i){return ze.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return ze.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class _e{decode(r,i=null){let a=null,c=new G(r.getBlackMatrix()),u=null,d=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(i,u),d=new ot().decode(E)}catch(E){a=E}if(d==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(i,u),d=new ot().decode(E)}catch(E){throw a??E}let g=new q(d.getText(),d.getRawBytes(),d.getNumBits(),u,ie.AZTEC,_.currentTimeMillis()),y=d.getByteSegments();y!=null&&g.putMetadata(B.BYTE_SEGMENTS,y);let v=d.getECLevel();return v!=null&&g.putMetadata(B.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(r,i){if(r!=null){let a=r.get(Y.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Be extends Ne{constructor(r=500){super(new _e,r)}}class Qe{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(Y.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),d=this.doDecode(u,i),g=d.getResultMetadata();let y=270;g!==null&&g.get(B.ORIENTATION)===!0&&(y=y+g.get(B.ORIENTATION)%360),d.putMetadata(B.ORIENTATION,y);const v=d.getResultPoints();if(v!==null){const E=u.getHeight();for(let I=0;I<v.length;I++)v[I]=new Se(E-v[I].getY()-1,v[I].getX())}return d}else throw new K}}reset(){}doDecode(r,i){const a=r.getWidth(),c=r.getHeight();let u=new P(a);const d=i&&i.get(Y.TRY_HARDER)===!0,g=Math.max(1,c>>(d?8:5));let y;d?y=c:y=15;const v=Math.trunc(c/2);for(let E=0;E<y;E++){const I=Math.trunc((E+1)/2),R=(E&1)===0,M=v+g*(R?I:-I);if(M<0||M>=c)break;try{u=r.getBlackRow(M,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),i&&i.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;i.forEach((Q,ne)=>W.set(ne,Q)),W.delete(Y.NEED_RESULT_POINT_CALLBACK),i=W}try{const W=this.decodeRow(M,u,i);if(U===1){W.putMetadata(B.ORIENTATION,180);const Q=W.getResultPoints();Q!==null&&(Q[0]=new Se(a-Q[0].getX()-1,Q[0].getY()),Q[1]=new Se(a-Q[1].getX()-1,Q[1].getY()))}return W}catch{}}}throw new K}static recordPattern(r,i,a){const c=a.length;for(let v=0;v<c;v++)a[v]=0;const u=r.getSize();if(i>=u)throw new K;let d=!r.get(i),g=0,y=i;for(;y<u;){if(r.get(y)!==d)a[g]++;else{if(++g===c)break;a[g]=1,d=!d}y++}if(!(g===c||g===c-1&&y===u))throw new K}static recordPatternInReverse(r,i,a){let c=a.length,u=r.get(i);for(;i>0&&c>=0;)r.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new K;Qe.recordPattern(r,i+1,a)}static patternMatchVariance(r,i,a){const c=r.length;let u=0,d=0;for(let v=0;v<c;v++)u+=r[v],d+=i[v];if(u<d)return Number.POSITIVE_INFINITY;const g=u/d;a*=g;let y=0;for(let v=0;v<c;v++){const E=r[v],I=i[v]*g,R=E>I?E-I:I-E;if(R>a)return Number.POSITIVE_INFINITY;y+=R}return y/u}}class pe extends Qe{static findStartPattern(r){const i=r.getSize(),a=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,g=!1;const y=6;for(let v=a;v<i;v++)if(r.get(v)!==g)u[c]++;else{if(c===y-1){let E=pe.MAX_AVG_VARIANCE,I=-1;for(let R=pe.CODE_START_A;R<=pe.CODE_START_C;R++){const M=Qe.patternMatchVariance(u,pe.CODE_PATTERNS[R],pe.MAX_INDIVIDUAL_VARIANCE);M<E&&(E=M,I=R)}if(I>=0&&r.isRange(Math.max(0,d-(v-d)/2),d,!1))return Int32Array.from([d,v,I]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new K}static decodeCode(r,i,a){Qe.recordPattern(r,a,i);let c=pe.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<pe.CODE_PATTERNS.length;d++){const g=pe.CODE_PATTERNS[d],y=this.patternMatchVariance(i,g,pe.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,u=d)}if(u>=0)return u;throw new K}decodeRow(r,i,a){const c=a&&a.get(Y.ASSUME_GS1)===!0,u=pe.findStartPattern(i),d=u[2];let g=0;const y=new Uint8Array(20);y[g++]=d;let v;switch(d){case pe.CODE_START_A:v=pe.CODE_CODE_A;break;case pe.CODE_START_B:v=pe.CODE_CODE_B;break;case pe.CODE_START_C:v=pe.CODE_CODE_C;break;default:throw new V}let E=!1,I=!1,R="",M=u[0],U=u[1];const W=Int32Array.from([0,0,0,0,0,0]);let Q=0,ne=0,ue=d,fe=0,le=!0,Ze=!1,Fe=!1;for(;!E;){const va=I;switch(I=!1,Q=ne,ne=pe.decodeCode(i,W,U),y[g++]=ne,ne!==pe.CODE_STOP&&(le=!0),ne!==pe.CODE_STOP&&(fe++,ue+=fe*ne),M=U,U+=W.reduce((k3,N3)=>k3+N3,0),ne){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new V}switch(v){case pe.CODE_CODE_A:if(ne<64)Fe===Ze?R+=String.fromCharCode(" ".charCodeAt(0)+ne):R+=String.fromCharCode(" ".charCodeAt(0)+ne+128),Fe=!1;else if(ne<96)Fe===Ze?R+=String.fromCharCode(ne-64):R+=String.fromCharCode(ne+64),Fe=!1;else switch(ne!==pe.CODE_STOP&&(le=!1),ne){case pe.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!Ze&&Fe?(Ze=!0,Fe=!1):Ze&&Fe?(Ze=!1,Fe=!1):Fe=!0;break;case pe.CODE_SHIFT:I=!0,v=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:v=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:v=pe.CODE_CODE_C;break;case pe.CODE_STOP:E=!0;break}break;case pe.CODE_CODE_B:if(ne<96)Fe===Ze?R+=String.fromCharCode(" ".charCodeAt(0)+ne):R+=String.fromCharCode(" ".charCodeAt(0)+ne+128),Fe=!1;else switch(ne!==pe.CODE_STOP&&(le=!1),ne){case pe.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!Ze&&Fe?(Ze=!0,Fe=!1):Ze&&Fe?(Ze=!1,Fe=!1):Fe=!0;break;case pe.CODE_SHIFT:I=!0,v=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:v=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:v=pe.CODE_CODE_C;break;case pe.CODE_STOP:E=!0;break}break;case pe.CODE_CODE_C:if(ne<100)ne<10&&(R+="0"),R+=ne;else switch(ne!==pe.CODE_STOP&&(le=!1),ne){case pe.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+=String.fromCharCode(29));break;case pe.CODE_CODE_A:v=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:v=pe.CODE_CODE_B;break;case pe.CODE_STOP:E=!0;break}break}va&&(v=v===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const Pn=U-M;if(U=i.getNextUnset(U),!i.isRange(U,Math.min(i.getSize(),U+(U-M)/2),!1))throw new K;if(ue-=fe*Q,ue%103!==Q)throw new S;const vr=R.length;if(vr===0)throw new K;vr>0&&le&&(v===pe.CODE_CODE_C?R=R.substring(0,vr-2):R=R.substring(0,vr-1));const jn=(u[1]+u[0])/2,dt=M+Pn/2,on=y.length,Xn=new Uint8Array(on);for(let va=0;va<on;va++)Xn[va]=y[va];const ba=[new Se(jn,r),new Se(dt,r)];return new q(R,Xn,0,ba,ie.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class ct extends Qe{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=ct.findAsteriskPattern(i,c),d=i.getNextSet(u[1]),g=i.getSize(),y,v;do{ct.recordPattern(i,d,c);let W=ct.toNarrowWidePattern(c);if(W<0)throw new K;y=ct.patternToChar(W),this.decodeRowResult+=y,v=d;for(let Q of c)d+=Q;d=i.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let W of c)E+=W;let I=d-v-E;if(d!==g&&I*2<E)throw new K;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,Q=0;for(let ne=0;ne<W;ne++)Q+=ct.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(W)!==ct.ALPHABET_STRING.charAt(Q%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new K;let R;this.extendedMode?R=ct.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let M=(u[1]+u[0])/2,U=v+E/2;return new q(R,null,0,[new Se(M,r),new Se(U,r)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let a=r.getSize(),c=r.getNextSet(0),u=0,d=c,g=!1,y=i.length;for(let v=c;v<a;v++)if(r.get(v)!==g)i[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(i)===ct.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((v-d)/2)),d,!1))return[d,v];d+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,g=!g}throw new K}static toNarrowWidePattern(r){let i=r.length,a=0,c;do{let u=2147483647;for(let y of r)y<u&&y>a&&(u=y);a=u,c=0;let d=0,g=0;for(let y=0;y<i;y++){let v=r[y];v>a&&(g|=1<<i-1-y,c++,d+=v)}if(c===3){for(let y=0;y<i&&c>0;y++){let v=r[y];if(v>a&&(c--,v*2>=d))return-1}return g}}while(c>3);return-1}static patternToChar(r){for(let i=0;i<ct.CHARACTER_ENCODINGS.length;i++)if(ct.CHARACTER_ENCODINGS[i]===r)return ct.ALPHABET_STRING.charAt(i);if(r===ct.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(r){let i=r.length,a="";for(let c=0;c<i;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=r.charAt(c+1),g="\0";switch(u){case"+":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)+32);else throw new V;break;case"$":if(d>="A"&&d<="Z")g=String.fromCharCode(d.charCodeAt(0)-64);else throw new V;break;case"%":if(d>="A"&&d<="E")g=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")g=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")g=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")g="\0";else if(d==="V")g="@";else if(d==="W")g="`";else if(d==="X"||d==="Y"||d==="Z")g="";else throw new V;break;case"/":if(d>="A"&&d<="O")g=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")g=":";else throw new V;break}a+=g,c++}else a+=u}return a}}ct.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ct.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ct.ASTERISK_ENCODING=148;class Ge extends Qe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),d=new J;Ge.decodeMiddle(i,c[1],u[0],d);let g=d.toString(),y=null;a!=null&&(y=a.get(Y.ALLOWED_LENGTHS)),y==null&&(y=Ge.DEFAULT_ALLOWED_LENGTHS);let v=g.length,E=!1,I=0;for(let U of y){if(v===U){E=!0;break}U>I&&(I=U)}if(!E&&v>I&&(E=!0),!E)throw new V;const R=[new Se(c[1],r),new Se(u[0],r)];return new q(g,null,0,R,ie.ITF,new Date().getTime())}static decodeMiddle(r,i,a,c){let u=new Int32Array(10),d=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),d.fill(0),g.fill(0);i<a;){Qe.recordPattern(r,i,u);for(let v=0;v<5;v++){let E=2*v;d[v]=u[E],g[v]=u[E+1]}let y=Ge.decodeDigit(d);c.append(y.toString()),y=this.decodeDigit(g),c.append(y.toString()),u.forEach(function(v){i+=v})}}decodeStart(r){let i=Ge.skipWhiteSpace(r),a=Ge.findGuardPattern(r,i,Ge.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a}validateQuietZone(r,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!r.get(c);c--)a--;if(a!==0)throw new K}static skipWhiteSpace(r){const i=r.getSize(),a=r.getNextSet(0);if(a===i)throw new K;return a}decodeEnd(r){r.reverse();try{let i=Ge.skipWhiteSpace(r),a;try{a=Ge.findGuardPattern(r,i,Ge.END_PATTERN_REVERSED[0])}catch(u){u instanceof K&&(a=Ge.findGuardPattern(r,i,Ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);let c=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-c,a}finally{r.reverse()}}static findGuardPattern(r,i,a){let c=a.length,u=new Int32Array(c),d=r.getSize(),g=!1,y=0,v=i;u.fill(0);for(let E=i;E<d;E++)if(r.get(E)!==g)u[y]++;else{if(y===c-1){if(Qe.patternMatchVariance(u,a,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return[v,E];v+=u[0]+u[1],_.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,g=!g}throw new K}static decodeDigit(r){let i=Ge.MAX_AVG_VARIANCE,a=-1,c=Ge.PATTERNS.length;for(let u=0;u<c;u++){let d=Ge.PATTERNS[u],g=Qe.patternMatchVariance(r,d,Ge.MAX_INDIVIDUAL_VARIANCE);g<i?(i=g,a=u):g===i&&(a=-1)}if(a>=0)return a%10;throw new K}}Ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ge.MAX_AVG_VARIANCE=.38,Ge.MAX_INDIVIDUAL_VARIANCE=.5,Ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ge.START_PATTERN=Int32Array.from([1,1,1,1]),Ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gt extends Qe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=gt.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let d=a[0];c=a[1];let g=d-(c-d);g>=0&&(i=r.isRange(g,d,!1))}return a}static checkChecksum(r){return gt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let a=parseInt(r.charAt(i-1),10);return gt.getStandardUPCEANChecksum(r.substring(0,i-1))===a}static getStandardUPCEANChecksum(r){let i=r.length,a=0;for(let c=i-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new V;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new V;a+=u}return(1e3-a)%10}static decodeEnd(r,i){return gt.findGuardPattern(r,i,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,a,c){return this.findGuardPattern(r,i,a,c,new Int32Array(c.length))}static findGuardPattern(r,i,a,c,u){let d=r.getSize();i=a?r.getNextUnset(i):r.getNextSet(i);let g=0,y=i,v=c.length,E=a;for(let I=i;I<d;I++)if(r.get(I)!==E)u[g]++;else{if(g===v-1){if(Qe.patternMatchVariance(u,c,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return Int32Array.from([y,I]);y+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let M=0;M<g-1;M++)u[M]=R[M];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,E=!E}throw new K}static decodeDigit(r,i,a,c){this.recordPattern(r,a,i);let u=this.MAX_AVG_VARIANCE,d=-1,g=c.length;for(let y=0;y<g;y++){let v=c[y],E=Qe.patternMatchVariance(i,v,gt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,d=y)}if(d>=0)return d;throw new K}}gt.MAX_AVG_VARIANCE=.48,gt.MAX_INDIVIDUAL_VARIANCE=.7,gt.START_END_PATTERN=Int32Array.from([1,1,1]),gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class jr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),g=jr.parseExtensionString(d),y=[new Se((a[0]+a[1])/2,r),new Se(u,r)],v=new q(d,null,0,y,ie.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],g=0;for(let v=0;v<5&&d<u;v++){let E=gt.decodeDigit(r,c,d,gt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let I of c)d+=I;E>=10&&(g|=1<<4-v),v!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==5)throw new K;let y=this.determineCheckDigit(g);if(jr.extensionChecksum(a.toString())!==y)throw new K;return d}static extensionChecksum(r){let i=r.length,a=0;for(let c=i-2;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let c=i-1;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new K}static parseExtensionString(r){if(r.length!==5)return null;let i=jr.parseExtension5String(r);return i==null?null:new Map([[B.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(r.substring(1)),c=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return i+c+"."+d}}class bi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),g=bi.parseExtensionString(d),y=[new Se((a[0]+a[1])/2,r),new Se(u,r)],v=new q(d,null,0,y,ie.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],g=0;for(let y=0;y<2&&d<u;y++){let v=gt.decodeDigit(r,c,d,gt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let E of c)d+=E;v>=10&&(g|=1<<1-y),y!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==2)throw new K;if(parseInt(a.toString())%4!==g)throw new K;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[B.ISSUE_NUMBER,parseInt(r)]])}}class Es{static decodeRow(r,i,a){let c=gt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new jr().decodeRow(r,i,c)}catch{return new bi().decodeRow(r,i,c)}}}Es.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends gt{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=tt.L_PATTERNS[r-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];tt.L_AND_G_PATTERNS[r]=a}}decodeRow(r,i,a){let c=tt.findStartGuardPattern(i),u=a==null?null:a.get(Y.NEED_RESULT_POINT_CALLBACK);if(u!=null){const le=new Se((c[0]+c[1])/2,r);u.foundPossibleResultPoint(le)}let d=this.decodeMiddle(i,c,this.decodeRowStringBuffer),g=d.rowOffset,y=d.resultString;if(u!=null){const le=new Se(g,r);u.foundPossibleResultPoint(le)}let v=this.decodeEnd(i,g);if(u!=null){const le=new Se((v[0]+v[1])/2,r);u.foundPossibleResultPoint(le)}let E=v[1],I=E+(E-v[0]);if(I>=i.getSize()||!i.isRange(E,I,!1))throw new K;let R=y.toString();if(R.length<8)throw new V;if(!tt.checkChecksum(R))throw new S;let M=(c[1]+c[0])/2,U=(v[1]+v[0])/2,W=this.getBarcodeFormat(),Q=[new Se(M,r),new Se(U,r)],ne=new q(R,null,0,Q,W,new Date().getTime()),ue=0;try{let le=Es.decodeRow(r,i,v[1]);ne.putMetadata(B.UPC_EAN_EXTENSION,le.getText()),ne.putAllMetadata(le.getResultMetadata()),ne.addResultPoints(le.getResultPoints()),ue=le.getText().length}catch{}let fe=a==null?null:a.get(Y.ALLOWED_EAN_EXTENSIONS);if(fe!=null){let le=!1;for(let Ze in fe)if(ue.toString()===Ze){le=!0;break}if(!le)throw new K}return ne}decodeEnd(r,i){return tt.findGuardPattern(r,i,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return tt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let a=parseInt(r.charAt(i-1),10);return tt.getStandardUPCEANChecksum(r.substring(0,i-1))===a}static getStandardUPCEANChecksum(r){let i=r.length,a=0;for(let c=i-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new V;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new V;a+=u}return(1e3-a)%10}}class wr extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],g=0;for(let v=0;v<6&&d<u;v++){let E=tt.decodeDigit(r,c,d,tt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let I of c)d+=I;E>=10&&(g|=1<<5-v)}a=wr.determineFirstDigit(a,g),d=tt.findGuardPattern(r,d,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&d<u;v++){let E=tt.decodeDigit(r,c,d,tt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E);for(let I of c)d+=I}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(r,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode("0".charCodeAt(0)+a)+r,r;throw new K}}wr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vi extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1];for(let y=0;y<4&&d<u;y++){let v=tt.decodeDigit(r,c,d,tt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+v);for(let E of c)d+=E}d=tt.findGuardPattern(r,d,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&d<u;y++){let v=tt.decodeDigit(r,c,d,tt.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+v);for(let E of c)d+=E}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ie.EAN_8}}class Ci extends tt{constructor(){super(...arguments),this.ean13Reader=new wr}getBarcodeFormat(){return ie.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,a))}decodeMiddle(r,i,a){return this.ean13Reader.decodeMiddle(r,i,a)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let a=new q(i.substring(1),null,null,r.getResultPoints(),ie.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new K}reset(){this.ean13Reader.reset()}}class br extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,a){const c=this.decodeMiddleCounters.map(v=>v);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let d=i[1],g=0;for(let v=0;v<6&&d<u;v++){const E=br.decodeDigit(r,c,d,br.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let I of c)d+=I;E>=10&&(g|=1<<5-v)}let y=br.determineNumSysAndCheckDigit(a,g);return{rowOffset:d,resultString:y}}decodeEnd(r,i){return br.findGuardPatternWithoutCounters(r,i,!0,br.MIDDLE_END_PATTERN)}checkChecksum(r){return tt.checkChecksum(br.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode("0".charCodeAt(0)+a),d=String.fromCharCode("0".charCodeAt(0)+c);return u+r+d}throw K.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new J;a.append(r.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()}}br.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),br.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Vd extends Qe{constructor(r){super();let i=r==null?null:r.get(Y.POSSIBLE_FORMATS),a=[];s(i)?(a.push(new wr),a.push(new Ci),a.push(new vi),a.push(new br)):(i.indexOf(ie.EAN_13)>-1&&a.push(new wr),i.indexOf(ie.UPC_A)>-1&&a.push(new Ci),i.indexOf(ie.EAN_8)>-1&&a.push(new vi),i.indexOf(ie.UPC_E)>-1&&a.push(new br)),this.readers=a}decodeRow(r,i,a){for(let c of this.readers)try{const u=c.decodeRow(r,i,a),d=u.getBarcodeFormat()===ie.EAN_13&&u.getText().charAt(0)==="0",g=a==null?null:a.get(Y.POSSIBLE_FORMATS),y=g==null||g.includes(ie.UPC_A);if(d&&y){const v=u.getRawBytes(),E=new q(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),ie.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new K}reset(){for(let r of this.readers)r.reset()}}class fn extends Qe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let a=0;a<i.length;a++)if(Qe.patternMatchVariance(r,i[a],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return a;throw new K}static count(r){return ze.sum(new Int32Array(r))}static increment(r,i){let a=0,c=i[0];for(let u=1;u<r.length;u++)i[u]>c&&(c=i[u],a=u);r[a]++}static decrement(r,i){let a=0,c=i[0];for(let u=1;u<r.length;u++)i[u]<c&&(c=i[u],a=u);r[a]--}static isFinderPattern(r){let i=r[0]+r[1],a=i+r[2]+r[3],c=i/a;if(c>=fn.MIN_FINDER_PATTERN_RATIO&&c<=fn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let g of r)g>d&&(d=g),g<u&&(u=g);return d<10*u}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ha{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof ha))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class pc{constructor(r,i,a,c,u){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Se(a,u)),this.resultPoints.push(new Se(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof pc))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class Dr{constructor(){}static getRSSvalue(r,i,a){let c=0;for(let y of r)c+=y;let u=0,d=0,g=r.length;for(let y=0;y<g-1;y++){let v;for(v=1,d|=1<<y;v<r[y];v++,d&=~(1<<y)){let E=Dr.combins(c-v-1,g-y-2);if(a&&d===0&&c-v-(g-y-1)>=g-y-1&&(E-=Dr.combins(c-v-(g-y),g-y-2)),g-y-1>1){let I=0;for(let R=c-v-(g-y-2);R>i;R--)I+=Dr.combins(c-v-R-1,g-y-3);E-=I*(g-1-y)}else c-v>i&&E--;u+=E}c-=v}return u}static combins(r,i){let a,c;r-i>i?(c=i,a=r-i):(c=r-i,a=i);let u=1,d=1;for(let g=r;g>a;g--)u*=g,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class Zv{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new P(a),u=0,g=r[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&c.set(u),u++;for(let y=1;y<r.length;++y){let v=r[y],E=v.getLeftChar().getValue();for(let I=11;I>=0;--I)E&1<<I&&c.set(u),u++;if(v.getRightChar()!=null){let I=v.getRightChar().getValue();for(let R=11;R>=0;--R)I&1<<R&&c.set(u),u++}}return c}}class Ei{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zd{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class _n extends zd{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===_n.FNC1}}_n.FNC1="$";class Ai extends zd{constructor(r,i,a){super(r),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class rr extends zd{constructor(r,i,a){if(super(r),i<0||i>10||a<0||a>10)throw new V;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===rr.FNC1}isSecondDigitFNC1(){return this.secondDigit===rr.FNC1}isAnyFNC1(){return this.firstDigit===rr.FNC1||this.secondDigit===rr.FNC1}}rr.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new K;let i=r.substring(0,2);for(let u of Ae.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,u[2],r):Ae.processFixedAI(2,u[1],r);if(r.length<3)throw new K;let a=r.substring(0,3);for(let u of Ae.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,u[2],r):Ae.processFixedAI(3,u[1],r);for(let u of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,u[2],r):Ae.processFixedAI(4,u[1],r);if(r.length<4)throw new K;let c=r.substring(0,4);for(let u of Ae.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,u[2],r):Ae.processFixedAI(4,u[1],r);throw new K}static processFixedAI(r,i,a){if(a.length<r)throw new K;let c=a.substring(0,r);if(a.length<r+i)throw new K;let u=a.substring(r,r+i),d=a.substring(r+i),g="("+c+")"+u,y=Ae.parseFieldsInGeneralPurpose(d);return y==null?g:g+y}static processVariableAI(r,i,a){let c=a.substring(0,r),u;a.length<r+i?u=a.length:u=r+i;let d=a.substring(r,u),g=a.substring(u),y="("+c+")"+d,v=Ae.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class pa{constructor(r){this.buffer=new J,this.information=r}decodeAllCodes(r,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),d=Ae.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&r.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new rr(this.information.getSize(),rr.FNC1,rr.FNC1):new rr(this.information.getSize(),u-1,rr.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),a=(i-8)/11,c=(i-8)%11;return new rr(r+7,a,c)}extractNumericValueFromBitArray(r,i){return pa.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,a){let c=0;for(let u=0;u<a;++u)r.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Ai(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Ai(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(a!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new Ai(this.current.getPosition(),this.buffer.toString()):i=new Ai(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Ei(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new Ai(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Ai(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Ai(this.current.getPosition(),this.buffer.toString());return new Ei(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ei(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _n(r+5,_n.FNC1);if(i>=5&&i<15)return new _n(r+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<90)return new _n(r+7,""+(a+1));if(a>=90&&a<116)return new _n(r+7,""+(a+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new V}return new _n(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,6);return a>=16&&a<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _n(r+5,_n.FNC1);if(i>=5&&i<15)return new _n(r+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(r,6);if(a>=32&&a<58)return new _n(r+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new dn("Decoding invalid alphanumeric value: "+a)}return new _n(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class Wd{constructor(r){this.information=r,this.generalDecoder=new pa(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rn extends Wd{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,a)}encodeCompressedGtinWithoutAI(r,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}Rn.appendCheckDigit(r,a)}static appendCheckDigit(r,i){let a=0;for(let c=0;c<13;c++){let u=r.charAt(c+i).charCodeAt(0)-"0".charCodeAt(0);a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),r.append(a)}}Rn.GTIN_SIZE=40;class ma extends Rn{constructor(r){super(r)}parseInformation(){let r=new J;r.append("(01)");let i=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(ma.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,ma.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,ma.HEADER_SIZE+44)}}ma.HEADER_SIZE=1+1+2;class mc extends Wd{constructor(r){super(r)}parseInformation(){let r=new J;return this.getGeneralDecoder().decodeAllCodes(r,mc.HEADER_SIZE)}}mc.HEADER_SIZE=2+1+2;class gc extends Rn{constructor(r){super(r)}encodeCompressedWeight(r,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(r,c);let u=this.checkWeight(c),d=1e5;for(let g=0;g<5;++g)u/d===0&&r.append("0"),d/=10;r.append(u)}}class Mr extends gc{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Mr.HEADER_SIZE+gc.GTIN_SIZE+Mr.WEIGHT_SIZE)throw new K;let r=new J;return this.encodeCompressedGtin(r,Mr.HEADER_SIZE),this.encodeCompressedWeight(r,Mr.HEADER_SIZE+gc.GTIN_SIZE,Mr.WEIGHT_SIZE),r.toString()}}Mr.HEADER_SIZE=4+1,Mr.WEIGHT_SIZE=15;class $v extends Mr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class Jv extends Mr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Lr extends Rn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Lr.HEADER_SIZE+Rn.GTIN_SIZE)throw new K;let r=new J;this.encodeCompressedGtin(r,Lr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Rn.GTIN_SIZE,Lr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(Lr.HEADER_SIZE+Rn.GTIN_SIZE+Lr.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()}}Lr.HEADER_SIZE=5+1+2,Lr.LAST_DIGIT_SIZE=2;class bn extends Rn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<bn.HEADER_SIZE+Rn.GTIN_SIZE)throw new K;let r=new J;this.encodeCompressedGtin(r,bn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+Rn.GTIN_SIZE,bn.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+Rn.GTIN_SIZE+bn.LAST_DIGIT_SIZE,bn.FIRST_THREE_DIGITS_SIZE);a/100==0&&r.append("0"),a/10==0&&r.append("0"),r.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(bn.HEADER_SIZE+Rn.GTIN_SIZE+bn.LAST_DIGIT_SIZE+bn.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}bn.HEADER_SIZE=5+1+2,bn.LAST_DIGIT_SIZE=2,bn.FIRST_THREE_DIGITS_SIZE=10;class Et extends gc{constructor(r,i,a){super(r),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new K;let r=new J;return this.encodeCompressedGtin(r,Et.HEADER_SIZE),this.encodeCompressedWeight(r,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(r,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Et.DATE_SIZE);if(a==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let d=a;d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}Et.HEADER_SIZE=7+1,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function gp(T){try{if(T.get(1))return new ma(T);if(!T.get(2))return new mc(T);switch(pa.extractNumericValueFromBitArray(T,1,4)){case 4:return new $v(T);case 5:return new Jv(T)}switch(pa.extractNumericValueFromBitArray(T,1,5)){case 12:return new Lr(T);case 13:return new bn(T)}switch(pa.extractNumericValueFromBitArray(T,1,7)){case 56:return new Et(T,"310","11");case 57:return new Et(T,"320","11");case 58:return new Et(T,"310","13");case 59:return new Et(T,"320","13");case 60:return new Et(T,"310","15");case 61:return new Et(T,"320","15");case 62:return new Et(T,"310","17");case 63:return new Et(T,"320","17")}}catch(r){throw console.log(r),new dn("unknown decoder: "+T)}}class As{constructor(r,i,a,c){this.leftchar=r,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof As?As.equalsOrNull(r.leftchar,i.leftchar)&&As.equalsOrNull(r.rightchar,i.rightchar)&&As.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:As.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hd{constructor(r,i,a){this.pairs=r,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Hd?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let a;return r.forEach((c,u)=>{i.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class ae extends fn{constructor(r){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,a){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(r,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(u){if(u instanceof K){if(!this.pairs.length)throw new K;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new K}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new K}static isValidSequence(r){for(let i of ae.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let a=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(r,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>r){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}u||c||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Hd(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let a of i)if(a.getPairs().length!==r.length){for(let c of a.getPairs())for(let u of r)if(As.equals(c,u))break}}static isPartialRow(r,i){for(let a of i){let c=!0;for(let u of r){let d=!1;for(let g of a.getPairs())if(u.equals(g)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=Zv.buildBitArray(r),c=gp(i).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],d[0],d[1]];return new q(c,null,null,g,ie.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),a=r.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);c+=y.getLeftChar().getChecksumPortion(),u++;let v=y.getRightChar();v!=null&&(c+=v.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(r,i){let a;return r.get(i)?(a=r.getNextUnset(i),a=r.getNextSet(a)):(a=r.getNextSet(i),a=r.getNextUnset(a)),a}retrieveNextPair(r,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,g=-1;do this.findNextPair(r,i,g),u=this.parseFoundFinderPattern(r,a,c),u==null?g=ae.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let y=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new K;let v;try{v=this.decodeDataCharacter(r,u,c,!1)}catch(E){v=null,this.verbose&&console.log(E)}return new As(y,v,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d;a>=0?d=a:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let g=i.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;d<u&&(y=!r.get(d),!!y);)d++;let v=0,E=d;for(let I=d;I<u;I++)if(r.get(I)!=y)c[v]++;else{if(v==3){if(g&&ae.reverseCounters(c),ae.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=I;return}g&&ae.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,v--}else v++;c[v]=1,y=!y}throw new K}static reverseCounters(r){let i=r.length;for(let a=0;a<i/2;++a){let c=r[a];r[a]=r[i-a-1],r[i-a-1]=c}}parseFoundFinderPattern(r,i,a){let c,u,d;if(a){let v=this.startEnd[0]-1;for(;v>=0&&!r.get(v);)v--;v++,c=this.startEnd[0]-v,u=v,d=this.startEnd[1]}else u=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let g=this.getDecodeFinderCounters();_.arraycopy(g,0,g,1,g.length-1),g[0]=c;let y;try{y=this.parseFinderValue(g,ae.FINDER_PATTERNS)}catch{return null}return new pc(y,[u,d],u,d,i)}decodeDataCharacter(r,i,a,c){let u=this.getDataCharacterCounters();for(let dt=0;dt<u.length;dt++)u[dt]=0;if(c)ae.recordPatternInReverse(r,i.getStartEnd()[0],u);else{ae.recordPattern(r,i.getStartEnd()[1],u);for(let dt=0,on=u.length-1;dt<on;dt++,on--){let Xn=u[dt];u[dt]=u[on],u[on]=Xn}}let d=17,g=ze.sum(new Int32Array(u))/d,y=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new K;let v=this.getOddCounts(),E=this.getEvenCounts(),I=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let dt=0;dt<u.length;dt++){let on=1*u[dt]/g,Xn=on+.5;if(Xn<1){if(on<.3)throw new K;Xn=1}else if(Xn>8){if(on>8.7)throw new K;Xn=8}let ba=dt/2;dt&1?(E[ba]=Xn,R[ba]=on-Xn):(v[ba]=Xn,I[ba]=on-Xn)}this.adjustOddEvenCounts(d);let M=4*i.getValue()+(a?0:2)+(c?0:1)-1,U=0,W=0;for(let dt=v.length-1;dt>=0;dt--){if(ae.isNotA1left(i,a,c)){let on=ae.WEIGHTS[M][2*dt];W+=v[dt]*on}U+=v[dt]}let Q=0;for(let dt=E.length-1;dt>=0;dt--)if(ae.isNotA1left(i,a,c)){let on=ae.WEIGHTS[M][2*dt+1];Q+=E[dt]*on}let ne=W+Q;if(U&1||U>13||U<4)throw new K;let ue=(13-U)/2,fe=ae.SYMBOL_WIDEST[ue],le=9-fe,Ze=Dr.getRSSvalue(v,fe,!0),Fe=Dr.getRSSvalue(E,le,!1),Pn=ae.EVEN_TOTAL_SUBSET[ue],vr=ae.GSUM[ue],jn=Ze*Pn+Fe+vr;return new ha(jn,ne)}static isNotA1left(r,i,a){return!(r.getValue()==0&&i&&a)}adjustOddEvenCounts(r){let i=ze.sum(new Int32Array(this.getOddCounts())),a=ze.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let d=!1,g=!1;a>13?g=!0:a<4&&(d=!0);let y=i+a-r,v=(i&1)==1,E=(a&1)==0;if(y==1)if(v){if(E)throw new K;u=!0}else{if(!E)throw new K;g=!0}else if(y==-1)if(v){if(E)throw new K;c=!0}else{if(!E)throw new K;d=!0}else if(y==0){if(v){if(!E)throw new K;i<a?(c=!0,g=!0):(u=!0,d=!0)}else if(E)throw new K}else throw new K;if(c){if(u)throw new K;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new K;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class e3 extends ha{constructor(r,i,a){super(r,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class jt extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,a){const c=this.decodePair(i,!1,r,a);jt.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,r,a);jt.addOrTally(this.possibleRightPairs,u),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&jt.checkChecksum(d,g))return jt.constructResult(d,g)}throw new K}static addOrTally(r,i){if(i==null)return;let a=!1;for(let c of r)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let a=4537077*r.getValue()+i.getValue(),c=new String(a).toString(),u=new J;for(let v=13-c.length;v>0;v--)u.append("0");u.append(c);let d=0;for(let v=0;v<13;v++){let E=u.charAt(v).charCodeAt(0)-"0".charCodeAt(0);d+=v&1?E:3*E}d=10-d%10,d===10&&(d=0),u.append(d.toString());let g=r.getFinderPattern().getResultPoints(),y=i.getFinderPattern().getResultPoints();return new q(u.toString(),null,0,[g[0],g[1],y[0],y[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(r,i){let a=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(r,i,a,c){try{let u=this.findFinderPattern(r,i),d=this.parseFoundFinderPattern(r,a,i,u),g=c==null?null:c.get(Y.NEED_RESULT_POINT_CALLBACK);if(g!=null){let E=(u[0]+u[1])/2;i&&(E=r.getSize()-1-E),g.foundPossibleResultPoint(new Se(E,a))}let y=this.decodeDataCharacter(r,d,!0),v=this.decodeDataCharacter(r,d,!1);return new e3(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,i,a){let c=this.getDataCharacterCounters();for(let Q=0;Q<c.length;Q++)c[Q]=0;if(a)Qe.recordPatternInReverse(r,i.getStartEnd()[0],c);else{Qe.recordPattern(r,i.getStartEnd()[1]+1,c);for(let Q=0,ne=c.length-1;Q<ne;Q++,ne--){let ue=c[Q];c[Q]=c[ne],c[ne]=ue}}let u=a?16:15,d=ze.sum(new Int32Array(c))/u,g=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let Q=0;Q<c.length;Q++){let ne=c[Q]/d,ue=Math.floor(ne+.5);ue<1?ue=1:ue>8&&(ue=8);let fe=Math.floor(Q/2);Q&1?(y[fe]=ue,E[fe]=ne-ue):(g[fe]=ue,v[fe]=ne-ue)}this.adjustOddEvenCounts(a,u);let I=0,R=0;for(let Q=g.length-1;Q>=0;Q--)R*=9,R+=g[Q],I+=g[Q];let M=0,U=0;for(let Q=y.length-1;Q>=0;Q--)M*=9,M+=y[Q],U+=y[Q];let W=R+3*M;if(a){if(I&1||I>12||I<4)throw new K;let Q=(12-I)/2,ne=jt.OUTSIDE_ODD_WIDEST[Q],ue=9-ne,fe=Dr.getRSSvalue(g,ne,!1),le=Dr.getRSSvalue(y,ue,!0),Ze=jt.OUTSIDE_EVEN_TOTAL_SUBSET[Q],Fe=jt.OUTSIDE_GSUM[Q];return new ha(fe*Ze+le+Fe,W)}else{if(U&1||U>10||U<4)throw new K;let Q=(10-U)/2,ne=jt.INSIDE_ODD_WIDEST[Q],ue=9-ne,fe=Dr.getRSSvalue(g,ne,!0),le=Dr.getRSSvalue(y,ue,!1),Ze=jt.INSIDE_ODD_TOTAL_SUBSET[Q],Fe=jt.INSIDE_GSUM[Q];return new ha(le*Ze+fe+Fe,W)}}findFinderPattern(r,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=r.getSize(),u=!1,d=0;for(;d<c&&(u=!r.get(d),i!==u);)d++;let g=0,y=d;for(let v=d;v<c;v++)if(r.get(v)!==u)a[g]++;else{if(g===3){if(fn.isFinderPattern(a))return[y,v];y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,u=!u}throw new K}parseFoundFinderPattern(r,i,a,c){let u=r.get(c[0]),d=c[0]-1;for(;d>=0&&u!==r.get(d);)d--;d++;const g=c[0]-d,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);_.arraycopy(y,0,v,1,y.length-1),v[0]=g;const E=this.parseFinderValue(v,jt.FINDER_PATTERNS);let I=d,R=c[1];return a&&(I=r.getSize()-1-I,R=r.getSize()-1-R),new pc(E,[d,c[1]],I,R,i)}adjustOddEvenCounts(r,i){let a=ze.sum(new Int32Array(this.getOddCounts())),c=ze.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,g=!1,y=!1;r?(a>12?d=!0:a<4&&(u=!0),c>12?y=!0:c<4&&(g=!0)):(a>11?d=!0:a<5&&(u=!0),c>10?y=!0:c<4&&(g=!0));let v=a+c-i,E=(a&1)===(r?1:0),I=(c&1)===1;if(v===1)if(E){if(I)throw new K;d=!0}else{if(!I)throw new K;y=!0}else if(v===-1)if(E){if(I)throw new K;u=!0}else{if(!I)throw new K;g=!0}else if(v===0){if(E){if(!I)throw new K;a<c?(u=!0,y=!0):(d=!0,g=!0)}else if(I)throw new K}else throw new K;if(u){if(d)throw new K;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new K;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}jt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],jt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],jt.OUTSIDE_GSUM=[0,161,961,2015,2715],jt.INSIDE_GSUM=[0,336,1036,1516],jt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],jt.INSIDE_ODD_WIDEST=[2,4,6,8],jt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ga extends Qe{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const a=r?r.get(Y.POSSIBLE_FORMATS):null,c=r&&r.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ie.EAN_13)||a.includes(ie.UPC_A)||a.includes(ie.EAN_8)||a.includes(ie.UPC_E))&&this.readers.push(new Vd(r)),a.includes(ie.CODE_39)&&this.readers.push(new ct(c)),a.includes(ie.CODE_128)&&this.readers.push(new pe),a.includes(ie.ITF)&&this.readers.push(new Ge),a.includes(ie.RSS_14)&&this.readers.push(new jt),a.includes(ie.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new Vd(r)),this.readers.push(new ct),this.readers.push(new Vd(r)),this.readers.push(new pe),this.readers.push(new Ge),this.readers.push(new jt),this.readers.push(new ae(this.verbose)))}decodeRow(r,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,i,a)}catch{}throw new K}reset(){this.readers.forEach(r=>r.reset())}}class t3 extends Ne{constructor(r=500,i){super(new ga(i),r,i)}}class it{constructor(r,i,a){this.ecCodewords=r,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class st{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(r,i,a,c,u,d){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let g=0;const y=d.getECCodewords(),v=d.getECBlocks();for(let E of v)g+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new V;for(let a of Je.VERSIONS)if(a.symbolSizeRows===r&&a.symbolSizeColumns===i)return a;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new it(5,new st(1,3))),new Je(2,12,12,10,10,new it(7,new st(1,5))),new Je(3,14,14,12,12,new it(10,new st(1,8))),new Je(4,16,16,14,14,new it(12,new st(1,12))),new Je(5,18,18,16,16,new it(14,new st(1,18))),new Je(6,20,20,18,18,new it(18,new st(1,22))),new Je(7,22,22,20,20,new it(20,new st(1,30))),new Je(8,24,24,22,22,new it(24,new st(1,36))),new Je(9,26,26,24,24,new it(28,new st(1,44))),new Je(10,32,32,14,14,new it(36,new st(1,62))),new Je(11,36,36,16,16,new it(42,new st(1,86))),new Je(12,40,40,18,18,new it(48,new st(1,114))),new Je(13,44,44,20,20,new it(56,new st(1,144))),new Je(14,48,48,22,22,new it(68,new st(1,174))),new Je(15,52,52,24,24,new it(42,new st(2,102))),new Je(16,64,64,14,14,new it(56,new st(2,140))),new Je(17,72,72,16,16,new it(36,new st(4,92))),new Je(18,80,80,18,18,new it(48,new st(4,114))),new Je(19,88,88,20,20,new it(56,new st(4,144))),new Je(20,96,96,22,22,new it(68,new st(4,174))),new Je(21,104,104,24,24,new it(56,new st(6,136))),new Je(22,120,120,18,18,new it(68,new st(6,175))),new Je(23,132,132,20,20,new it(62,new st(8,163))),new Je(24,144,144,22,22,new it(62,new st(8,156),new st(2,155))),new Je(25,8,18,6,16,new it(7,new st(1,5))),new Je(26,8,32,6,14,new it(11,new st(1,10))),new Je(27,12,26,10,24,new it(14,new st(1,16))),new Je(28,12,36,10,16,new it(18,new st(1,22))),new Je(29,16,36,14,16,new it(24,new st(1,32))),new Je(30,16,48,14,22,new it(28,new st(1,49)))]}}Je.VERSIONS=Je.buildVersions();class Gd{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new V;this.version=Gd.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),a=r.getWidth();return Je.getVersionForDimensions(i,a)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let g=!1,y=!1,v=!1,E=!1;do if(a===u&&c===0&&!g)r[i++]=this.readCorner1(u,d)&255,a-=2,c+=2,g=!0;else if(a===u-2&&c===0&&d&3&&!y)r[i++]=this.readCorner2(u,d)&255,a-=2,c+=2,y=!0;else if(a===u+4&&c===2&&!(d&7)&&!v)r[i++]=this.readCorner3(u,d)&255,a-=2,c+=2,v=!0;else if(a===u-2&&c===0&&(d&7)===4&&!E)r[i++]=this.readCorner4(u,d)&255,a-=2,c+=2,E=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(r[i++]=this.readUtah(a,c,u,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(r[i++]=this.readUtah(a,c,u,d)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<d);if(i!==this.version.getTotalCodewords())throw new V;return r}readModule(r,i,a,c){return r<0&&(r+=a,i+=4-(a+4&7)),i<0&&(i+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,a,c){let u=0;return this.readModule(r-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i,a,c)&&(u|=1),u<<=1,this.readModule(r,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r,i,a,c)&&(u|=1),u}readCorner1(r,i){let a=0;return this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,1,r,i)&&(a|=1),a<<=1,this.readModule(r-1,2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(2,i-1,r,i)&&(a|=1),a<<=1,this.readModule(3,i-1,r,i)&&(a|=1),a}readCorner2(r,i){let a=0;return this.readModule(r-3,0,r,i)&&(a|=1),a<<=1,this.readModule(r-2,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(0,i-4,r,i)&&(a|=1),a<<=1,this.readModule(0,i-3,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a}readCorner3(r,i){let a=0;return this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(0,i-3,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-3,r,i)&&(a|=1),a<<=1,this.readModule(1,i-2,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a}readCorner4(r,i){let a=0;return this.readModule(r-3,0,r,i)&&(a|=1),a<<=1,this.readModule(r-2,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(2,i-1,r,i)&&(a|=1),a<<=1,this.readModule(3,i-1,r,i)&&(a|=1),a}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new b("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=i/c|0,g=a/u|0,y=d*c,v=g*u,E=new he(v,y);for(let I=0;I<d;++I){const R=I*c;for(let M=0;M<g;++M){const U=M*u;for(let W=0;W<c;++W){const Q=I*(c+2)+1+W,ne=R+W;for(let ue=0;ue<u;++ue){const fe=M*(u+2)+1+ue;if(r.get(fe,Q)){const le=U+ue;E.set(le,ne)}}}}}return E}}class Xd{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let W of u)c+=W.getCount();const d=new Array(c);let g=0;for(let W of u)for(let Q=0;Q<W.getCount();Q++){const ne=W.getDataCodewords(),ue=a.getECCodewords()+ne;d[g++]=new Xd(ne,new Uint8Array(ue))}const v=d[0].codewords.length-a.getECCodewords(),E=v-1;let I=0;for(let W=0;W<E;W++)for(let Q=0;Q<g;Q++)d[Q].codewords[W]=r[I++];const R=i.getVersionNumber()===24,M=R?8:g;for(let W=0;W<M;W++)d[W].codewords[v-1]=r[I++];const U=d[0].codewords.length;for(let W=v;W<U;W++)for(let Q=0;Q<g;Q++){const ne=R?(Q+8)%g:Q,ue=R&&ne>7?W-1:W;d[ne].codewords[ue]=r[I++]}if(I!==r.length)throw new b;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Kd{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new b(""+r);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const d=8-a,g=r<d?r:d,y=d-g,v=255>>8-g<<y;i=(u[c]&v)>>y,r-=g,a+=g,a===8&&(a=0,c++)}if(r>0){for(;r>=8;)i=i<<8|u[c]&255,c++,r-=8;if(r>0){const d=8-r,g=255>>d<<d;i=i<<r|(u[c]&g)>>d,a+=r}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Xt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xt||(Xt={}));class ks{static decode(r){const i=new Kd(r),a=new J,c=new J,u=new Array;let d=Xt.ASCII_ENCODE;do if(d===Xt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,a,c);else{switch(d){case Xt.C40_ENCODE:this.decodeC40Segment(i,a);break;case Xt.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case Xt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case Xt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case Xt.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new V}d=Xt.ASCII_ENCODE}while(d!==Xt.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new we(r,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,i,a){let c=!1;do{let u=r.readBits(8);if(u===0)throw new V;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),Xt.ASCII_ENCODE;if(u===129)return Xt.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&i.append("0"),i.append(""+d)}else switch(u){case 230:return Xt.C40_ENCODE;case 231:return Xt.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return Xt.ANSIX12_ENCODE;case 239:return Xt.TEXT_ENCODE;case 240:return Xt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new V;break}}while(r.available()>0);return Xt.ASCII_ENCODE}static decodeC40Segment(r,i){let a=!1;const c=[];let u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):i.append(v)}else throw new V;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):i.append(v)}else switch(y){case 27:i.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new V}u=0;break;case 3:a?(i.append(String.fromCharCode(y+224)),a=!1):i.append(String.fromCharCode(y+96)),u=0;break;default:throw new V}}}while(r.available()>0)}static decodeTextSegment(r,i){let a=!1,c=[],u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];a?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):i.append(v)}else throw new V;break;case 1:a?(i.append(String.fromCharCode(y+128)),a=!1):i.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];a?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):i.append(v)}else switch(y){case 27:i.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new V}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];a?(i.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):i.append(v),u=0}else throw new V;break;default:throw new V}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const a=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),a);for(let u=0;u<3;u++){const d=a[u];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new V;break}}}while(r.available()>0)}static parseTwoBytes(r,i,a){let c=(r<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let a=0;a<4;a++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),i.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,i,a){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let d;if(u===0?d=r.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),d<0)throw new V;const g=new Uint8Array(d);for(let y=0;y<d;y++){if(r.available()<8)throw new V;g[y]=this.unrandomize255State(r.readBits(8),c++)}a.push(g);try{i.append(de.decode(g,se.ISO88591))}catch(y){throw new dn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(r,i){const a=149*i%255+1,c=r-a;return c>=0?c:c+256}}ks.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ks.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ks.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ks.TEXT_SHIFT2_SET_CHARS=ks.C40_SHIFT2_SET_CHARS,ks.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class n3{constructor(){this.rsDecoder=new Hn(Ve.DATA_MATRIX_FIELD_256)}decode(r){const i=new Gd(r),a=i.getVersion(),c=i.readCodewords(),u=Xd.getDataBlocks(c,a);let d=0;for(let v of u)d+=v.getNumDataCodewords();const g=new Uint8Array(d),y=u.length;for(let v=0;v<y;v++){const E=u[v],I=E.getCodewords(),R=E.getNumDataCodewords();this.correctErrors(I,R);for(let M=0;M<R;M++)g[M*y+v]=I[M]}return ks.decode(g)}correctErrors(r,i){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-i)}catch{throw new S}for(let c=0;c<i;c++)r[c]=a[c]}}class Vt{constructor(r){this.image=r,this.rectangleDetector=new xr(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new K;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],d=i[3];let g=this.transitionsBetween(a,d)+1,y=this.transitionsBetween(u,d)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let v=Vt.sampleGrid(this.image,a,c,u,d,g,y);return new Io(v,[a,c,u,d])}static shiftPoint(r,i,a){let c=(i.getX()-r.getX())/(a+1),u=(i.getY()-r.getY())/(a+1);return new Se(r.getX()+c,r.getY()+u)}static moveAway(r,i,a){let c=r.getX(),u=r.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new Se(c,u)}detectSolid1(r){let i=r[0],a=r[1],c=r[3],u=r[2],d=this.transitionsBetween(i,a),g=this.transitionsBetween(a,c),y=this.transitionsBetween(c,u),v=this.transitionsBetween(u,i),E=d,I=[u,i,a,c];return E>g&&(E=g,I[0]=i,I[1]=a,I[2]=c,I[3]=u),E>y&&(E=y,I[0]=a,I[1]=c,I[2]=u,I[3]=i),E>v&&(I[0]=c,I[1]=u,I[2]=i,I[3]=a),I}detectSolid2(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u),g=Vt.shiftPoint(a,c,(d+1)*4),y=Vt.shiftPoint(c,a,(d+1)*4),v=this.transitionsBetween(g,i),E=this.transitionsBetween(y,u);return v<E?(r[0]=i,r[1]=a,r[2]=c,r[3]=u):(r[0]=a,r[1]=c,r[2]=u,r[3]=i),r}correctTopRight(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u),g=this.transitionsBetween(a,u),y=Vt.shiftPoint(i,a,(g+1)*4),v=Vt.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(y,u),g=this.transitionsBetween(v,u);let E=new Se(u.getX()+(c.getX()-a.getX())/(d+1),u.getY()+(c.getY()-a.getY())/(d+1)),I=new Se(u.getX()+(i.getX()-a.getX())/(g+1),u.getY()+(i.getY()-a.getY())/(g+1));if(!this.isValid(E))return this.isValid(I)?I:null;if(!this.isValid(I))return E;let R=this.transitionsBetween(y,E)+this.transitionsBetween(v,E),M=this.transitionsBetween(y,I)+this.transitionsBetween(v,I);return R>M?E:I}shiftToModuleCenter(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u)+1,g=this.transitionsBetween(c,u)+1,y=Vt.shiftPoint(i,a,g*4),v=Vt.shiftPoint(c,a,d*4);d=this.transitionsBetween(y,u)+1,g=this.transitionsBetween(v,u)+1,(d&1)===1&&(d+=1),(g&1)===1&&(g+=1);let E=(i.getX()+a.getX()+c.getX()+u.getX())/4,I=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=Vt.moveAway(i,E,I),a=Vt.moveAway(a,E,I),c=Vt.moveAway(c,E,I),u=Vt.moveAway(u,E,I);let R,M;return y=Vt.shiftPoint(i,a,g*4),y=Vt.shiftPoint(y,u,d*4),R=Vt.shiftPoint(a,i,g*4),R=Vt.shiftPoint(R,c,d*4),v=Vt.shiftPoint(c,u,g*4),v=Vt.shiftPoint(v,a,d*4),M=Vt.shiftPoint(u,c,g*4),M=Vt.shiftPoint(M,i,d*4),[y,R,v,M]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,a,c,u,d,g){return yr.getInstance().sampleGrid(r,d,g,.5,.5,d-.5,.5,d-.5,g-.5,.5,g-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(r,i){let a=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),g=Math.abs(d-c)>Math.abs(u-a);if(g){let W=a;a=c,c=W,W=u,u=d,d=W}let y=Math.abs(u-a),v=Math.abs(d-c),E=-y/2,I=c<d?1:-1,R=a<u?1:-1,M=0,U=this.image.get(g?c:a,g?a:c);for(let W=a,Q=c;W!==u;W+=R){let ne=this.image.get(g?Q:W,g?W:Q);if(ne!==U&&(M++,U=ne),E+=v,E>0){if(Q===d)break;Q+=I,E-=y}}return M}}class Ns{constructor(){this.decoder=new n3}decode(r,i=null){let a,c;if(i!=null&&i.has(Y.PURE_BARCODE)){const v=Ns.extractPureBits(r.getBlackMatrix());a=this.decoder.decode(v),c=Ns.NO_POINTS}else{const v=new Vt(r.getBlackMatrix()).detect();a=this.decoder.decode(v.getBits()),c=v.getPoints()}const u=a.getRawBytes(),d=new q(a.getText(),u,8*u.length,c,ie.DATA_MATRIX,_.currentTimeMillis()),g=a.getByteSegments();g!=null&&d.putMetadata(B.BYTE_SEGMENTS,g);const y=a.getECLevel();return y!=null&&d.putMetadata(B.ERROR_CORRECTION_LEVEL,y),d}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(i==null||a==null)throw new K;const c=this.moduleSize(i,r);let u=i[1];const d=a[1];let g=i[0];const v=(a[0]-g+1)/c,E=(d-u+1)/c;if(v<=0||E<=0)throw new K;const I=c/2;u+=I,g+=I;const R=new he(v,E);for(let M=0;M<E;M++){const U=u+M*c;for(let W=0;W<v;W++)r.get(g+W*c,U)&&R.set(W,M)}return R}static moduleSize(r,i){const a=i.getWidth();let c=r[0];const u=r[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new K;const d=c-r[0];if(d===0)throw new K;return d}}Ns.NO_POINTS=[];class r3 extends Ne{constructor(r=500){super(new Ns,r)}}var xa;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(xa||(xa={}));class ft{constructor(r,i,a){this.value=r,this.stringValue=i,this.bits=a,ft.FOR_BITS.set(a,this),ft.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ft.L;case"M":return ft.M;case"Q":return ft.Q;case"H":return ft.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ft))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=ft.FOR_BITS.size)throw new b;return ft.FOR_BITS.get(r)}}ft.FOR_BITS=new Map,ft.FOR_VALUE=new Map,ft.L=new ft(xa.L,"L",1),ft.M=new ft(xa.M,"M",0),ft.Q=new ft(xa.Q,"Q",3),ft.H=new ft(xa.H,"H",2);class hn{constructor(r){this.errorCorrectionLevel=ft.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return N.bitCount(r^i)}static decodeFormatInformation(r,i){const a=hn.doDecodeFormatInformation(r,i);return a!==null?a:hn.doDecodeFormatInformation(r^hn.FORMAT_INFO_MASK_QR,i^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of hn.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===r||d===i)return new hn(u[1]);let g=hn.numBitsDiffering(r,d);g<a&&(c=u[1],a=g),r!==i&&(g=hn.numBitsDiffering(i,d),g<a&&(c=u[1],a=g))}return a<=3?new hn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof hn))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const a of i)r+=a.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(r,i,...a){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const g of d)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new V;try{return this.getVersionForNumber((r-17)/4)}catch{throw new V}}static getVersionForNumber(r){if(r<1||r>40)throw new b;return Re.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<Re.VERSION_DECODE_INFO.length;c++){const u=Re.VERSION_DECODE_INFO[c];if(u===r)return Re.getVersionForNumber(c+7);const d=hn.numBitsDiffering(r,u);d<i&&(a=c+7,i=d)}return i<=3?Re.getVersionForNumber(a):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new he(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new Z(7,new D(1,19)),new Z(10,new D(1,16)),new Z(13,new D(1,13)),new Z(17,new D(1,9))),new Re(2,Int32Array.from([6,18]),new Z(10,new D(1,34)),new Z(16,new D(1,28)),new Z(22,new D(1,22)),new Z(28,new D(1,16))),new Re(3,Int32Array.from([6,22]),new Z(15,new D(1,55)),new Z(26,new D(1,44)),new Z(18,new D(2,17)),new Z(22,new D(2,13))),new Re(4,Int32Array.from([6,26]),new Z(20,new D(1,80)),new Z(18,new D(2,32)),new Z(26,new D(2,24)),new Z(16,new D(4,9))),new Re(5,Int32Array.from([6,30]),new Z(26,new D(1,108)),new Z(24,new D(2,43)),new Z(18,new D(2,15),new D(2,16)),new Z(22,new D(2,11),new D(2,12))),new Re(6,Int32Array.from([6,34]),new Z(18,new D(2,68)),new Z(16,new D(4,27)),new Z(24,new D(4,19)),new Z(28,new D(4,15))),new Re(7,Int32Array.from([6,22,38]),new Z(20,new D(2,78)),new Z(18,new D(4,31)),new Z(18,new D(2,14),new D(4,15)),new Z(26,new D(4,13),new D(1,14))),new Re(8,Int32Array.from([6,24,42]),new Z(24,new D(2,97)),new Z(22,new D(2,38),new D(2,39)),new Z(22,new D(4,18),new D(2,19)),new Z(26,new D(4,14),new D(2,15))),new Re(9,Int32Array.from([6,26,46]),new Z(30,new D(2,116)),new Z(22,new D(3,36),new D(2,37)),new Z(20,new D(4,16),new D(4,17)),new Z(24,new D(4,12),new D(4,13))),new Re(10,Int32Array.from([6,28,50]),new Z(18,new D(2,68),new D(2,69)),new Z(26,new D(4,43),new D(1,44)),new Z(24,new D(6,19),new D(2,20)),new Z(28,new D(6,15),new D(2,16))),new Re(11,Int32Array.from([6,30,54]),new Z(20,new D(4,81)),new Z(30,new D(1,50),new D(4,51)),new Z(28,new D(4,22),new D(4,23)),new Z(24,new D(3,12),new D(8,13))),new Re(12,Int32Array.from([6,32,58]),new Z(24,new D(2,92),new D(2,93)),new Z(22,new D(6,36),new D(2,37)),new Z(26,new D(4,20),new D(6,21)),new Z(28,new D(7,14),new D(4,15))),new Re(13,Int32Array.from([6,34,62]),new Z(26,new D(4,107)),new Z(22,new D(8,37),new D(1,38)),new Z(24,new D(8,20),new D(4,21)),new Z(22,new D(12,11),new D(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new Z(30,new D(3,115),new D(1,116)),new Z(24,new D(4,40),new D(5,41)),new Z(20,new D(11,16),new D(5,17)),new Z(24,new D(11,12),new D(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new Z(22,new D(5,87),new D(1,88)),new Z(24,new D(5,41),new D(5,42)),new Z(30,new D(5,24),new D(7,25)),new Z(24,new D(11,12),new D(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new Z(24,new D(5,98),new D(1,99)),new Z(28,new D(7,45),new D(3,46)),new Z(24,new D(15,19),new D(2,20)),new Z(30,new D(3,15),new D(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new Z(28,new D(1,107),new D(5,108)),new Z(28,new D(10,46),new D(1,47)),new Z(28,new D(1,22),new D(15,23)),new Z(28,new D(2,14),new D(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new Z(30,new D(5,120),new D(1,121)),new Z(26,new D(9,43),new D(4,44)),new Z(28,new D(17,22),new D(1,23)),new Z(28,new D(2,14),new D(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new Z(28,new D(3,113),new D(4,114)),new Z(26,new D(3,44),new D(11,45)),new Z(26,new D(17,21),new D(4,22)),new Z(26,new D(9,13),new D(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new Z(28,new D(3,107),new D(5,108)),new Z(26,new D(3,41),new D(13,42)),new Z(30,new D(15,24),new D(5,25)),new Z(28,new D(15,15),new D(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new Z(28,new D(4,116),new D(4,117)),new Z(26,new D(17,42)),new Z(28,new D(17,22),new D(6,23)),new Z(30,new D(19,16),new D(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new Z(28,new D(2,111),new D(7,112)),new Z(28,new D(17,46)),new Z(30,new D(7,24),new D(16,25)),new Z(24,new D(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new Z(30,new D(4,121),new D(5,122)),new Z(28,new D(4,47),new D(14,48)),new Z(30,new D(11,24),new D(14,25)),new Z(30,new D(16,15),new D(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new Z(30,new D(6,117),new D(4,118)),new Z(28,new D(6,45),new D(14,46)),new Z(30,new D(11,24),new D(16,25)),new Z(30,new D(30,16),new D(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new Z(26,new D(8,106),new D(4,107)),new Z(28,new D(8,47),new D(13,48)),new Z(30,new D(7,24),new D(22,25)),new Z(30,new D(22,15),new D(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new Z(28,new D(10,114),new D(2,115)),new Z(28,new D(19,46),new D(4,47)),new Z(28,new D(28,22),new D(6,23)),new Z(30,new D(33,16),new D(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new Z(30,new D(8,122),new D(4,123)),new Z(28,new D(22,45),new D(3,46)),new Z(30,new D(8,23),new D(26,24)),new Z(30,new D(12,15),new D(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new D(3,117),new D(10,118)),new Z(28,new D(3,45),new D(23,46)),new Z(30,new D(4,24),new D(31,25)),new Z(30,new D(11,15),new D(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new D(7,116),new D(7,117)),new Z(28,new D(21,45),new D(7,46)),new Z(30,new D(1,23),new D(37,24)),new Z(30,new D(19,15),new D(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new D(5,115),new D(10,116)),new Z(28,new D(19,47),new D(10,48)),new Z(30,new D(15,24),new D(25,25)),new Z(30,new D(23,15),new D(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new D(13,115),new D(3,116)),new Z(28,new D(2,46),new D(29,47)),new Z(30,new D(42,24),new D(1,25)),new Z(30,new D(23,15),new D(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new D(17,115)),new Z(28,new D(10,46),new D(23,47)),new Z(30,new D(10,24),new D(35,25)),new Z(30,new D(19,15),new D(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new D(17,115),new D(1,116)),new Z(28,new D(14,46),new D(21,47)),new Z(30,new D(29,24),new D(19,25)),new Z(30,new D(11,15),new D(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new D(13,115),new D(6,116)),new Z(28,new D(14,46),new D(23,47)),new Z(30,new D(44,24),new D(7,25)),new Z(30,new D(59,16),new D(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new D(12,121),new D(7,122)),new Z(28,new D(12,47),new D(26,48)),new Z(30,new D(39,24),new D(14,25)),new Z(30,new D(22,15),new D(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new D(6,121),new D(14,122)),new Z(28,new D(6,47),new D(34,48)),new Z(30,new D(46,24),new D(10,25)),new Z(30,new D(2,15),new D(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new D(17,122),new D(4,123)),new Z(28,new D(29,46),new D(14,47)),new Z(30,new D(49,24),new D(10,25)),new Z(30,new D(24,15),new D(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new D(4,122),new D(18,123)),new Z(28,new D(13,46),new D(32,47)),new Z(30,new D(48,24),new D(14,25)),new Z(30,new D(42,15),new D(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new D(20,117),new D(4,118)),new Z(28,new D(40,47),new D(7,48)),new Z(30,new D(43,24),new D(22,25)),new Z(30,new D(10,15),new D(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new D(19,118),new D(6,119)),new Z(28,new D(18,47),new D(31,48)),new Z(30,new D(34,24),new D(34,25)),new Z(30,new D(20,15),new D(61,16)))];var Jt;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(Jt||(Jt={}));class sr{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&r.flip(c,a)}}sr.values=new Map([[Jt.DATA_MASK_000,new sr(Jt.DATA_MASK_000,(T,r)=>(T+r&1)===0)],[Jt.DATA_MASK_001,new sr(Jt.DATA_MASK_001,(T,r)=>(T&1)===0)],[Jt.DATA_MASK_010,new sr(Jt.DATA_MASK_010,(T,r)=>r%3===0)],[Jt.DATA_MASK_011,new sr(Jt.DATA_MASK_011,(T,r)=>(T+r)%3===0)],[Jt.DATA_MASK_100,new sr(Jt.DATA_MASK_100,(T,r)=>(Math.floor(T/2)+Math.floor(r/3)&1)===0)],[Jt.DATA_MASK_101,new sr(Jt.DATA_MASK_101,(T,r)=>T*r%6===0)],[Jt.DATA_MASK_110,new sr(Jt.DATA_MASK_110,(T,r)=>T*r%6<3)],[Jt.DATA_MASK_111,new sr(Jt.DATA_MASK_111,(T,r)=>(T+r+T*r%3&1)===0)]]);class s3{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new V;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=hn.decodeFormatInformation(r,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return Re.getVersionForNumber(i);let a=0;const c=r-11;for(let d=5;d>=0;d--)for(let g=r-9;g>=c;g--)a=this.copyBit(g,d,a);let u=Re.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let g=r-9;g>=c;g--)a=this.copyBit(d,g,a);if(u=Re.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new V}copyBit(r,i,a){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?a<<1|1:a<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),a=sr.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let d=!0;const g=new Uint8Array(i.getTotalCodewords());let y=0,v=0,E=0;for(let I=c-1;I>0;I-=2){I===6&&I--;for(let R=0;R<c;R++){const M=d?c-1-R:R;for(let U=0;U<2;U++)u.get(I-U,M)||(E++,v<<=1,this.bitMatrix.get(I-U,M)&&(v|=1),E===8&&(g[y++]=v,E=0,v=0))}d=!d}if(y!==i.getTotalCodewords())throw new V;return g}remask(){if(this.parsedFormatInfo===null)return;const r=sr.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,a=r.getWidth();i<a;i++)for(let c=i+1,u=r.getHeight();c<u;c++)r.get(i,c)!==r.get(c,i)&&(r.flip(c,i),r.flip(i,c))}}class qd{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,a){if(r.length!==i.getTotalCodewords())throw new b;const c=i.getECBlocksForLevel(a);let u=0;const d=c.getECBlocks();for(const U of d)u+=U.getCount();const g=new Array(u);let y=0;for(const U of d)for(let W=0;W<U.getCount();W++){const Q=U.getDataCodewords(),ne=c.getECCodewordsPerBlock()+Q;g[y++]=new qd(Q,new Uint8Array(ne))}const v=g[0].codewords.length;let E=g.length-1;for(;E>=0&&g[E].codewords.length!==v;)E--;E++;const I=v-c.getECCodewordsPerBlock();let R=0;for(let U=0;U<I;U++)for(let W=0;W<y;W++)g[W].codewords[U]=r[R++];for(let U=E;U<y;U++)g[U].codewords[I]=r[R++];const M=g[0].codewords.length;for(let U=I;U<M;U++)for(let W=0;W<y;W++){const Q=W<E?U:U+1;g[W].codewords[Q]=r[R++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ir;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(ir||(ir={}));class Oe{constructor(r,i,a,c){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,Oe.FOR_BITS.set(c,this),Oe.FOR_VALUE.set(r,this)}static forBits(r){const i=Oe.FOR_BITS.get(r);if(i===void 0)throw new b;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Oe))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}Oe.FOR_BITS=new Map,Oe.FOR_VALUE=new Map,Oe.TERMINATOR=new Oe(ir.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Oe.NUMERIC=new Oe(ir.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Oe.ALPHANUMERIC=new Oe(ir.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Oe.STRUCTURED_APPEND=new Oe(ir.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Oe.BYTE=new Oe(ir.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Oe.ECI=new Oe(ir.ECI,"ECI",Int32Array.from([0,0,0]),7),Oe.KANJI=new Oe(ir.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Oe.FNC1_FIRST_POSITION=new Oe(ir.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Oe.FNC1_SECOND_POSITION=new Oe(ir.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Oe.HANZI=new Oe(ir.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Nt{static decode(r,i,a,c){const u=new Kd(r);let d=new J;const g=new Array;let y=-1,v=-1;try{let E=null,I=!1,R;do{if(u.available()<4)R=Oe.TERMINATOR;else{const M=u.readBits(4);R=Oe.forBits(M)}switch(R){case Oe.TERMINATOR:break;case Oe.FNC1_FIRST_POSITION:case Oe.FNC1_SECOND_POSITION:I=!0;break;case Oe.STRUCTURED_APPEND:if(u.available()<16)throw new V;y=u.readBits(8),v=u.readBits(8);break;case Oe.ECI:const M=Nt.parseECIValue(u);if(E=H.getCharacterSetECIByValue(M),E===null)throw new V;break;case Oe.HANZI:const U=u.readBits(4),W=u.readBits(R.getCharacterCountBits(i));U===Nt.GB2312_SUBSET&&Nt.decodeHanziSegment(u,d,W);break;default:const Q=u.readBits(R.getCharacterCountBits(i));switch(R){case Oe.NUMERIC:Nt.decodeNumericSegment(u,d,Q);break;case Oe.ALPHANUMERIC:Nt.decodeAlphanumericSegment(u,d,Q,I);break;case Oe.BYTE:Nt.decodeByteSegment(u,d,Q,E,g,c);break;case Oe.KANJI:Nt.decodeKanjiSegment(u,d,Q);break;default:throw new V}break}}while(R!==Oe.TERMINATOR)}catch{throw new V}return new we(r,d.toString(),g.length===0?null:g,a===null?null:a.toString(),y,v)}static decodeHanziSegment(r,i,a){if(a*13>r.available())throw new V;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let g=d/96<<8&4294967295|d%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,a--}try{i.append(de.decode(c,se.GB2312))}catch(d){throw new V(d)}}static decodeKanjiSegment(r,i,a){if(a*13>r.available())throw new V;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let g=d/192<<8&4294967295|d%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,a--}try{i.append(de.decode(c,se.SHIFT_JIS))}catch(d){throw new V(d)}}static decodeByteSegment(r,i,a,c,u,d){if(8*a>r.available())throw new V;const g=new Uint8Array(a);for(let v=0;v<a;v++)g[v]=r.readBits(8);let y;c===null?y=se.guessEncoding(g,d):y=c.getName();try{i.append(de.decode(g,y))}catch(v){throw new V(v)}u.push(g)}static toAlphaNumericChar(r){if(r>=Nt.ALPHANUMERIC_CHARS.length)throw new V;return Nt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,a,c){const u=i.length();for(;a>1;){if(r.available()<11)throw new V;const d=r.readBits(11);i.append(Nt.toAlphaNumericChar(Math.floor(d/45))),i.append(Nt.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(r.available()<6)throw new V;i.append(Nt.toAlphaNumericChar(r.readBits(6)))}if(c)for(let d=u;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,String.fromCharCode(29)))}static decodeNumericSegment(r,i,a){for(;a>=3;){if(r.available()<10)throw new V;const c=r.readBits(10);if(c>=1e3)throw new V;i.append(Nt.toAlphaNumericChar(Math.floor(c/100))),i.append(Nt.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(Nt.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(r.available()<7)throw new V;const c=r.readBits(7);if(c>=100)throw new V;i.append(Nt.toAlphaNumericChar(Math.floor(c/10))),i.append(Nt.toAlphaNumericChar(c%10))}else if(a===1){if(r.available()<4)throw new V;const c=r.readBits(4);if(c>=10)throw new V;i.append(Nt.toAlphaNumericChar(c))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const a=r.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=r.readBits(16);return(i&31)<<16&4294967295|a}throw new V}}Nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Nt.GB2312_SUBSET=1;class xp{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class i3{constructor(){this.rsDecoder=new Hn(Ve.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(he.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const a=new s3(r);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new xp(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,i){const a=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),d=qd.getDataBlocks(u,a,c);let g=0;for(const E of d)g+=E.getNumDataCodewords();const y=new Uint8Array(g);let v=0;for(const E of d){const I=E.getCodewords(),R=E.getNumDataCodewords();this.correctErrors(I,R);for(let M=0;M<R;M++)y[v++]=I[M]}return Nt.decode(y,a,c,i)}correctErrors(r,i){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-i)}catch{throw new S}for(let c=0;c<i;c++)r[c]=a[c]}}class Yd extends Se{constructor(r,i,a){super(r,i),this.estimatedModuleSize=a}aboutEquals(r,i,a){if(Math.abs(i-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,i,a){const c=(this.getX()+i)/2,u=(this.getY()+r)/2,d=(this.estimatedModuleSize+a)/2;return new Yd(c,u,d)}}class xc{constructor(r,i,a,c,u,d,g){this.image=r,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,a=this.width,c=r+a,u=this.startY+i/2,d=new Int32Array(3),g=this.image;for(let y=0;y<i;y++){const v=u+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=r;for(;E<c&&!g.get(E,v);)E++;let I=0;for(;E<c;){if(g.get(E,v))if(I===1)d[1]++;else if(I===2){if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,v,E);if(R!==null)return R}d[0]=d[2],d[1]=1,d[2]=0,I=1}else d[++I]++;else I===1&&I++,d[I]++;E++}if(this.foundPatternCross(d)){const R=this.handlePossibleCenter(d,v,c);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-r[c])>=a)return!1;return!0}crossCheckVertical(r,i,a,c){const u=this.image,d=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=r;for(;y>=0&&u.get(i,y)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&!u.get(i,y)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=r+1;y<d&&u.get(i,y)&&g[1]<=a;)g[1]++,y++;if(y===d||g[1]>a)return NaN;for(;y<d&&!u.get(i,y)&&g[2]<=a;)g[2]++,y++;if(g[2]>a)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-c)>=2*c?NaN:this.foundPatternCross(g)?xc.centerFromEnd(g,y):NaN}handlePossibleCenter(r,i,a){const c=r[0]+r[1]+r[2],u=xc.centerFromEnd(r,a),d=this.crossCheckVertical(i,u,2*r[1],c);if(!isNaN(d)){const g=(r[0]+r[1]+r[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,d,u))return v.combineEstimate(d,u,g);const y=new Yd(u,d,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Qd extends Se{constructor(r,i,a,c){super(r,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,a){if(Math.abs(i-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,d=(this.count*this.getY()+r)/c,g=(this.count*this.estimatedModuleSize+a)/c;return new Qd(u,d,g,c)}}class a3{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(Y.TRY_HARDER)!==void 0,a=r!=null&&r.get(Y.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),d=c.getWidth();let g=Math.floor(3*u/(4*en.MAX_MODULES));(g<en.MIN_SKIP||i)&&(g=en.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let I=g-1;I<u&&!y;I+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let R=0;for(let M=0;M<d;M++)if(c.get(M,I))(R&1)===1&&R++,v[R]++;else if(R&1)v[R]++;else if(R===4)if(en.foundPatternCross(v)){if(this.handlePossibleCenter(v,I,M,a)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>v[2]&&(I+=W-v[2]-g,M=d-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;continue}R=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;else v[++R]++;en.foundPatternCross(v)&&this.handlePossibleCenter(v,I,d,a)===!0&&(g=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return Se.orderBestPatterns(E),new a3(E)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let u=0;u<5;u++){const d=r[u];if(d===0)return!1;i+=d}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-r[0])<c&&Math.abs(a-r[1])<c&&Math.abs(3*a-r[2])<3*c&&Math.abs(a-r[3])<c&&Math.abs(a-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,a,c){const u=this.getCrossCheckStateCount();let d=0;const g=this.image;for(;r>=d&&i>=d&&g.get(i-d,r-d);)u[2]++,d++;if(r<d||i<d)return!1;for(;r>=d&&i>=d&&!g.get(i-d,r-d)&&u[1]<=a;)u[1]++,d++;if(r<d||i<d||u[1]>a)return!1;for(;r>=d&&i>=d&&g.get(i-d,r-d)&&u[0]<=a;)u[0]++,d++;if(u[0]>a)return!1;const y=g.getHeight(),v=g.getWidth();for(d=1;r+d<y&&i+d<v&&g.get(i+d,r+d);)u[2]++,d++;if(r+d>=y||i+d>=v)return!1;for(;r+d<y&&i+d<v&&!g.get(i+d,r+d)&&u[3]<a;)u[3]++,d++;if(r+d>=y||i+d>=v||u[3]>=a)return!1;for(;r+d<y&&i+d<v&&g.get(i+d,r+d)&&u[4]<a;)u[4]++,d++;if(u[4]>=a)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&en.foundPatternCross(u)}crossCheckVertical(r,i,a,c){const u=this.image,d=u.getHeight(),g=this.getCrossCheckStateCount();let y=r;for(;y>=0&&u.get(i,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(i,y)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&u.get(i,y)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=r+1;y<d&&u.get(i,y);)g[2]++,y++;if(y===d)return NaN;for(;y<d&&!u.get(i,y)&&g[3]<a;)g[3]++,y++;if(y===d||g[3]>=a)return NaN;for(;y<d&&u.get(i,y)&&g[4]<a;)g[4]++,y++;if(g[4]>=a)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=2*c?NaN:en.foundPatternCross(g)?en.centerFromEnd(g,y):NaN}crossCheckHorizontal(r,i,a,c){const u=this.image,d=u.getWidth(),g=this.getCrossCheckStateCount();let y=r;for(;y>=0&&u.get(y,i);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,i)&&g[1]<=a;)g[1]++,y--;if(y<0||g[1]>a)return NaN;for(;y>=0&&u.get(y,i)&&g[0]<=a;)g[0]++,y--;if(g[0]>a)return NaN;for(y=r+1;y<d&&u.get(y,i);)g[2]++,y++;if(y===d)return NaN;for(;y<d&&!u.get(y,i)&&g[3]<a;)g[3]++,y++;if(y===d||g[3]>=a)return NaN;for(;y<d&&u.get(y,i)&&g[4]<a;)g[4]++,y++;if(g[4]>=a)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=c?NaN:en.foundPatternCross(g)?en.centerFromEnd(g,y):NaN}handlePossibleCenter(r,i,a,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let d=en.centerFromEnd(r,a),g=this.crossCheckVertical(i,Math.floor(d),r[2],u);if(!isNaN(g)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(g),r[2],u),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(d),r[2],u)))){const y=u/7;let v=!1;const E=this.possibleCenters;for(let I=0,R=E.length;I<R;I++){const M=E[I];if(M.aboutEquals(y,g,d)){E[I]=M.combineEstimate(g,d,y),v=!0;break}}if(!v){const I=new Qd(d,g,y);E.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=en.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=en.CENTER_QUORUM&&(r++,i+=d.getEstimatedModuleSize());if(r<3)return!1;const c=i/a;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new K;const i=this.possibleCenters;let a;if(r>3){let c=0,u=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();c+=v,u+=v*v}a=c/r;let d=Math.sqrt(u/r-a*a);i.sort((y,v)=>{const E=Math.abs(v.getEstimatedModuleSize()-a),I=Math.abs(y.getEstimatedModuleSize()-a);return E<I?-1:E>I?1:0});const g=Math.max(.2*a,d);for(let y=0;y<i.length&&i.length>3;y++){const v=i[y];Math.abs(v.getEstimatedModuleSize()-a)>g&&(i.splice(y,1),y--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,d)=>{if(d.getCount()===u.getCount()){const g=Math.abs(d.getEstimatedModuleSize()-a),y=Math.abs(u.getEstimatedModuleSize()-a);return g<y?1:g>y?-1:0}else return d.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class Ro{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Y.NEED_RESULT_POINT_CALLBACK);const a=new en(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(a)}processFinderPatternInfo(r){const i=r.getTopLeft(),a=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new K("No pattern found in proccess finder.");const d=Ro.computeDimension(i,a,c,u),g=Re.getProvisionalVersionForDimension(d),y=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const M=a.getX()-i.getX()+c.getX(),U=a.getY()-i.getY()+c.getY(),W=1-3/y,Q=Math.floor(i.getX()+W*(M-i.getX())),ne=Math.floor(i.getY()+W*(U-i.getY()));for(let ue=4;ue<=16;ue<<=1)try{v=this.findAlignmentInRegion(u,Q,ne,ue);break}catch(fe){if(!(fe instanceof K))throw fe}}const E=Ro.createTransform(i,a,c,v,d),I=Ro.sampleGrid(this.image,E,d);let R;return v===null?R=[c,i,a]:R=[c,i,a,v],new Io(I,R)}static createTransform(r,i,a,c,u){const d=u-3.5;let g,y,v,E;return c!==null?(g=c.getX(),y=c.getY(),v=d-3,E=v):(g=i.getX()-r.getX()+a.getX(),y=i.getY()-r.getY()+a.getY(),v=d,E=d),Gn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,v,E,3.5,d,r.getX(),r.getY(),i.getX(),i.getY(),g,y,a.getX(),a.getY())}static sampleGrid(r,i,a){return yr.getInstance().sampleGridWithTransform(r,a,a,i)}static computeDimension(r,i,a,c){const u=ze.round(Se.distance(r,i)/c),d=ze.round(Se.distance(r,a)/c);let g=Math.floor((u+d)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new K("Dimensions could be not found.")}return g}calculateModuleSize(r,i,a){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,a))/2}calculateModuleSizeOneWay(r,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(r,i,a,c),d=1,g=r-(a-r);g<0?(d=r/(r-g),g=0):g>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(g-r),g=this.image.getWidth()-1);let y=Math.floor(i-(c-i)*d);return d=1,y<0?(d=i/(i-y),y=0):y>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(y-i),y=this.image.getHeight()-1),g=Math.floor(r+(g-r)*d),u+=this.sizeOfBlackWhiteBlackRun(r,i,g,y),u-1}sizeOfBlackWhiteBlackRun(r,i,a,c){const u=Math.abs(c-i)>Math.abs(a-r);if(u){let M=r;r=i,i=M,M=a,a=c,c=M}const d=Math.abs(a-r),g=Math.abs(c-i);let y=-d/2;const v=r<a?1:-1,E=i<c?1:-1;let I=0;const R=a+v;for(let M=r,U=i;M!==R;M+=v){const W=u?U:M,Q=u?M:U;if(I===1===this.image.get(W,Q)){if(I===2)return ze.distance(M,U,r,i);I++}if(y+=g,y>0){if(U===c)break;U+=E,y-=d}}return I===2?ze.distance(a+v,c,r,i):NaN}findAlignmentInRegion(r,i,a,c){const u=Math.floor(c*r),d=Math.max(0,i-u),g=Math.min(this.image.getWidth()-1,i+u);if(g-d<r*3)throw new K("Alignment top exceeds estimated module size.");const y=Math.max(0,a-u),v=Math.min(this.image.getHeight()-1,a+u);if(v-y<r*3)throw new K("Alignment bottom exceeds estimated module size.");return new xc(this.image,d,y,g-d,v-y,r,this.resultPointCallback).find()}}class Ss{constructor(){this.decoder=new i3}getDecoder(){return this.decoder}decode(r,i){let a,c;if(i!=null&&i.get(Y.PURE_BARCODE)!==void 0){const y=Ss.extractPureBits(r.getBlackMatrix());a=this.decoder.decodeBitMatrix(y,i),c=Ss.NO_POINTS}else{const y=new Ro(r.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(y.getBits(),i),c=y.getPoints()}a.getOther()instanceof xp&&a.getOther().applyMirroredCorrection(c);const u=new q(a.getText(),a.getRawBytes(),void 0,c,ie.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(B.BYTE_SEGMENTS,d);const g=a.getECLevel();return g!==null&&u.putMetadata(B.ERROR_CORRECTION_LEVEL,g),a.hasStructuredAppend()&&(u.putMetadata(B.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(B.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(i===null||a===null)throw new K;const c=this.moduleSize(i,r);let u=i[1],d=a[1],g=i[0],y=a[0];if(g>=y||u>=d)throw new K;if(d-u!==y-g&&(y=g+(d-u),y>=r.getWidth()))throw new K;const v=Math.round((y-g+1)/c),E=Math.round((d-u+1)/c);if(v<=0||E<=0)throw new K;if(E!==v)throw new K;const I=Math.floor(c/2);u+=I,g+=I;const R=g+Math.floor((v-1)*c)-y;if(R>0){if(R>I)throw new K;g-=R}const M=u+Math.floor((E-1)*c)-d;if(M>0){if(M>I)throw new K;u-=M}const U=new he(v,E);for(let W=0;W<E;W++){const Q=u+Math.floor(W*c);for(let ne=0;ne<v;ne++)r.get(g+Math.floor(ne*c),Q)&&U.set(ne,W)}return U}static moduleSize(r,i){const a=i.getHeight(),c=i.getWidth();let u=r[0],d=r[1],g=!0,y=0;for(;u<c&&d<a;){if(g!==i.get(u,d)){if(++y===5)break;g=!g}u++,d++}if(u===c||d===a)throw new K;return(u-r[0])/7}}Ss.NO_POINTS=new Array;class De{PDF417Common(){}static getBitCountSum(r){return ze.sum(r)}static toIntArray(r){if(r==null||!r.length)return De.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let a=0;for(const c of r)i[a++]=c;return i}static getCodeword(r){const i=A.binarySearch(De.SYMBOL_TABLE,r&262143);return i<0?-1:(De.CODEWORD_TABLE[i]-1)%De.NUMBER_OF_CODEWORDS}}De.NUMBER_OF_CODEWORDS=929,De.MAX_CODEWORDS_IN_BARCODE=De.NUMBER_OF_CODEWORDS-1,De.MIN_ROWS_IN_BARCODE=3,De.MAX_ROWS_IN_BARCODE=90,De.MODULES_IN_CODEWORD=17,De.MODULES_IN_STOP_PATTERN=18,De.BARS_IN_MODULE=8,De.EMPTY_INT_ARRAY=new Int32Array([]),De.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),De.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class o3{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class We{static detectMultiple(r,i,a){let c=r.getBlackMatrix(),u=We.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=We.detect(a,c)),new o3(c,u)}static detect(r,i){const a=new Array;let c=0,u=0,d=!1;for(;c<i.getHeight();){const g=We.findVertices(i,c,u);if(g[0]==null&&g[3]==null){if(!d)break;d=!1,u=0;for(const y of a)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=We.ROW_STEP;continue}if(d=!0,a.push(g),!r)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return a}static findVertices(r,i,a){const c=r.getHeight(),u=r.getWidth(),d=new Array(8);return We.copyToResult(d,We.findRowsWithPattern(r,c,u,i,a,We.START_PATTERN),We.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),We.copyToResult(d,We.findRowsWithPattern(r,c,u,i,a,We.STOP_PATTERN),We.INDEXES_STOP_PATTERN),d}static copyToResult(r,i,a){for(let c=0;c<a.length;c++)r[a[c]]=i[c]}static findRowsWithPattern(r,i,a,c,u,d){const g=new Array(4);let y=!1;const v=new Int32Array(d.length);for(;c<i;c+=We.ROW_STEP){let I=We.findGuardPattern(r,u,c,a,!1,d,v);if(I!=null){for(;c>0;){const R=We.findGuardPattern(r,u,--c,a,!1,d,v);if(R!=null)I=R;else{c++;break}}g[0]=new Se(I[0],c),g[1]=new Se(I[1],c),y=!0;break}}let E=c+1;if(y){let I=0,R=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;E<i;E++){const M=We.findGuardPattern(r,R[0],E,a,!1,d,v);if(M!=null&&Math.abs(R[0]-M[0])<We.MAX_PATTERN_DRIFT&&Math.abs(R[1]-M[1])<We.MAX_PATTERN_DRIFT)R=M,I=0;else{if(I>We.SKIPPED_ROW_COUNT_MAX)break;I++}}E-=I+1,g[2]=new Se(R[0],E),g[3]=new Se(R[1],E)}return E-c<We.BARCODE_MIN_HEIGHT&&A.fill(g,null),g}static findGuardPattern(r,i,a,c,u,d,g){A.fillWithin(g,0,g.length,0);let y=i,v=0;for(;r.get(y,a)&&y>0&&v++<We.MAX_PIXEL_DRIFT;)y--;let E=y,I=0,R=d.length;for(let M=u;E<c;E++)if(r.get(E,a)!==M)g[I]++;else{if(I===R-1){if(We.patternMatchVariance(g,d,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return new Int32Array([y,E]);y+=g[0]+g[1],_.arraycopy(g,2,g,0,I-1),g[I-1]=0,g[I]=0,I--}else I++;g[I]=1,M=!M}return I===R-1&&We.patternMatchVariance(g,d,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE?new Int32Array([y,E-1]):null}static patternMatchVariance(r,i,a){let c=r.length,u=0,d=0;for(let v=0;v<c;v++)u+=r[v],d+=i[v];if(u<d)return 1/0;let g=u/d;a*=g;let y=0;for(let v=0;v<c;v++){let E=r[v],I=i[v]*g,R=E>I?E-I:I-E;if(R>a)return 1/0;y+=R}return y/u}}We.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),We.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),We.MAX_AVG_VARIANCE=.42,We.MAX_INDIVIDUAL_VARIANCE=.8,We.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),We.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),We.MAX_PIXEL_DRIFT=3,We.MAX_PATTERN_DRIFT=5,We.SKIPPED_ROW_COUNT_MAX=25,We.ROW_STEP=5,We.BARCODE_MIN_HEIGHT=10;class sn{constructor(r,i){if(i.length===0)throw new b;this.field=r;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),_.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(r,i),this.coefficients[c]);return i}add(r){if(!this.field.equals(r.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,a=r.coefficients;if(i.length>a.length){let d=i;i=a,a=d}let c=new Int32Array(a.length),u=a.length-i.length;_.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=this.field.add(i[d-u],a[d]);return new sn(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new b("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof sn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new sn(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1);for(let g=0;g<a;g++){let y=i[g];for(let v=0;v<u;v++)d[g+v]=this.field.add(d[g+v],this.field.multiply(y,c[v]))}return new sn(this.field,d)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new sn(this.field,i)}multiplyScalar(r){if(r===0)return new sn(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],r);return new sn(this.field,a)}multiplyByMonomial(r,i){if(r<0)throw new b;if(i===0)return new sn(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+r);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new sn(this.field,c)}toString(){let r=new J;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(r.append(" - "),a=-a):r.length()>0&&r.append(" + "),(i===0||a!==1)&&r.append(a),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class l3{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new b;return this.logTable[r]}inverse(r){if(r===0)throw new nr;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Zd extends l3{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let a=1;for(let c=0;c<r;c++)this.expTable[c]=a,a=a*i%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new sn(this,new Int32Array([0])),this.one=new sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new b;if(i===0)return this.zero;let a=new Int32Array(r+1);return a[0]=i,new sn(this,a)}}Zd.PDF417_GF=new Zd(De.NUMBER_OF_CODEWORDS,3);class yp{constructor(){this.field=Zd.PDF417_GF}decode(r,i,a){let c=new sn(this.field,r),u=new Int32Array(i),d=!1;for(let U=i;U>0;U--){let W=c.evaluateAt(this.field.exp(U));u[i-U]=W,W!==0&&(d=!0)}if(!d)return 0;let g=this.field.getOne();if(a!=null)for(const U of a){let W=this.field.exp(r.length-1-U),Q=new sn(this.field,new Int32Array([this.field.subtract(0,W),1]));g=g.multiply(Q)}let y=new sn(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),y,i),E=v[0],I=v[1],R=this.findErrorLocations(E),M=this.findErrorMagnitudes(I,E,R);for(let U=0;U<R.length;U++){let W=r.length-1-this.field.log(R[U]);if(W<0)throw S.getChecksumInstance();r[W]=this.field.subtract(r[W],M[U])}return R.length}runEuclideanAlgorithm(r,i,a){if(r.getDegree()<i.getDegree()){let R=r;r=i,i=R}let c=r,u=i,d=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let R=c,M=d;if(c=u,d=g,c.isZero())throw S.getChecksumInstance();u=R;let U=this.field.getZero(),W=c.getCoefficient(c.getDegree()),Q=this.field.inverse(W);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ne=u.getDegree()-c.getDegree(),ue=this.field.multiply(u.getCoefficient(u.getDegree()),Q);U=U.add(this.field.buildMonomial(ne,ue)),u=u.subtract(c.multiplyByMonomial(ne,ue))}g=U.multiply(d).subtract(M).negative()}let y=g.getCoefficient(0);if(y===0)throw S.getChecksumInstance();let v=this.field.inverse(y),E=g.multiply(v),I=u.multiply(v);return[E,I]}findErrorLocations(r){let i=r.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)r.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw S.getChecksumInstance();return a}findErrorMagnitudes(r,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let v=1;v<=c;v++)u[c-v]=this.field.multiply(v,i.getCoefficient(v));let d=new sn(this.field,u),g=a.length,y=new Int32Array(g);for(let v=0;v<g;v++){let E=this.field.inverse(a[v]),I=this.field.subtract(0,r.evaluateAt(E)),R=this.field.inverse(d.evaluateAt(E));y[v]=this.field.multiply(I,R)}return y}}class ki{constructor(r,i,a,c,u){r instanceof ki?this.constructor_2(r):this.constructor_1(r,i,a,c,u)}constructor_1(r,i,a,c,u){const d=i==null||a==null,g=c==null||u==null;if(d&&g)throw new K;d?(i=new Se(0,c.getY()),a=new Se(0,u.getY())):g&&(c=new Se(r.getWidth()-1,i.getY()),u=new Se(r.getWidth()-1,a.getY())),this.image=r,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new ki(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,a){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,g=this.bottomRight;if(r>0){let y=a?this.topLeft:this.topRight,v=Math.trunc(y.getY()-r);v<0&&(v=0);let E=new Se(y.getX(),v);a?c=E:d=E}if(i>0){let y=a?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+i);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let E=new Se(y.getX(),v);a?u=E:g=E}return new ki(this.image,c,u,d,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class c3{constructor(r,i,a,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Oo{constructor(){this.buffer=""}static form(r,i){let a=-1;function c(d,g,y,v,E,I){if(d==="%%")return"%";if(i[++a]===void 0)return;d=v?parseInt(v.substr(1)):void 0;let R=E?parseInt(E.substr(1)):void 0,M;switch(I){case"s":M=i[a];break;case"c":M=i[a][0];break;case"f":M=parseFloat(i[a]).toFixed(d);break;case"p":M=parseFloat(i[a]).toPrecision(d);break;case"e":M=parseFloat(i[a]).toExponential(d);break;case"x":M=parseInt(i[a]).toString(R||16);break;case"d":M=parseFloat(parseInt(i[a],R||10).toPrecision(d)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(R);let U=parseInt(y),W=y&&y[0]+""=="0"?"0":" ";for(;M.length<U;)M=g!==void 0?M+W:W+M;return M}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...i){this.buffer+=Oo.form(r,i)}toString(){return this.buffer}}class Po{constructor(r){this.boundingBox=new ki(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let a=1;a<Po.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(r)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(r)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Oo;let i=0;for(const a of this.codewords){if(a==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return r.toString()}}Po.MAX_NEARBY_DISTANCE=5;class jo{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>r?(r=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===r&&i.push(u.getKey())}return De.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class wp extends Po{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,v=1,E=0;for(let I=d;I<g;I++){if(i[I]==null)continue;let R=i[I],M=R.getRowNumber()-y;if(M===0)E++;else if(M===1)v=Math.max(v,E),E=1,y=R.getRowNumber();else if(M<0||R.getRowNumber()>=r.getRowCount()||M>I)i[I]=null;else{let U;v>2?U=(v-2)*M:U=M;let W=U>=I;for(let Q=1;Q<=U&&!W;Q++)W=i[I-Q]!=null;W?i[I]=null:(y=R.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1;for(let v=u;v<d;v++){if(g[v]==null)continue;let E=g[v];E.setRowNumberAsRowIndicatorColumn();let I=E.getRowNumber()-y;I===0||(I===1?y=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?g[v]=null:y=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new jo,a=new jo,c=new jo,u=new jo;for(let g of r){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:a.setValue(y*3+1);break;case 1:u.setValue(y/3),c.setValue(y%3);break;case 2:i.setValue(y+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<De.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>De.MAX_ROWS_IN_BARCODE)return null;let d=new c3(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,i){for(let a=0;a<r.length;a++){let c=r[a];if(r[a]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>i.getRowCount()){r[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(r[a]=null);break;case 2:u+1!==i.getColumnCount()&&(r[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Do{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=De.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++)if(r[a]!=null&&i[a]!=null&&r[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(r[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let g=this.detectionResultColumns[d].getCodewords()[a];g!=null&&(u=Do.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let g=this.detectionResultColumns[d].getCodewords()[a];g!=null&&(u=Do.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(r)?(a.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,a){if(!this.detectionResultColumns[r-1])return;let c=a[i],u=this.detectionResultColumns[r-1].getCodewords(),d=u;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let g=new Array(14);g[2]=u[i],g[3]=d[i],i>0&&(g[0]=a[i-1],g[4]=u[i-1],g[5]=d[i-1]),i>1&&(g[8]=a[i-2],g[10]=u[i-2],g[11]=d[i-2]),i<a.length-1&&(g[1]=a[i+1],g[6]=u[i+1],g[7]=d[i+1]),i<a.length-2&&(g[9]=a[i+2],g[12]=u[i+2],g[13]=d[i+2]);for(let y of g)if(Do.adjustRowNumber(c,y))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Oo;for(let a=0;a<r.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Mo{constructor(r,i,a,c){this.rowNumber=Mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Mo.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Mo.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let r=0;r<De.SYMBOL_TABLE.length;r++){let i=De.SYMBOL_TABLE[r],a=i&1;for(let c=0;c<De.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,On.RATIOS_TABLE[r]||(On.RATIOS_TABLE[r]=new Array(De.BARS_IN_MODULE)),On.RATIOS_TABLE[r][De.BARS_IN_MODULE-c-1]=Math.fround(u/De.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=On.getDecodedCodewordValue(On.sampleBitCounts(r));return i!==-1?i:On.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=ze.sum(r),a=new Int32Array(De.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<De.MODULES_IN_CODEWORD;d++){let g=i/(2*De.MODULES_IN_CODEWORD)+d*i/De.MODULES_IN_CODEWORD;u+r[c]<=g&&(u+=r[c],c++),a[c]++}return a}static getDecodedCodewordValue(r){let i=On.getBitValue(r);return De.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let a=0;a<r.length;a++)for(let c=0;c<r[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=ze.sum(r),a=new Array(De.BARS_IN_MODULE);if(i>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(r[d]/i);let c=Cs.MAX_VALUE,u=-1;this.bSymbolTableReady||On.initialize();for(let d=0;d<On.RATIOS_TABLE.length;d++){let g=0,y=On.RATIOS_TABLE[d];for(let v=0;v<De.BARS_IN_MODULE;v++){let E=Math.fround(y[v]-a[v]);if(g+=Math.fround(E*E),g>=c)break}g<c&&(c=g,u=De.SYMBOL_TABLE[d])}return u}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(De.SYMBOL_TABLE.length).map(T=>new Array(De.BARS_IN_MODULE));class bp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class vp{static parseLong(r,i=void 0){return parseInt(r,i)}}class Cp extends p{}Cp.kind="NullPointerException";class u3{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,a){if(r==null)throw new Cp;if(i<0||i>r.length||a<0||i+a>r.length||i+a<0)throw new j;if(a===0)return;for(let c=0;c<a;c++)this.write(r[i+c])}flush(){}close(){}}class d3 extends p{}class f3 extends u3{constructor(r=32){if(super(),this.count=0,r<0)throw new b("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let a=this.buf.length<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new d3;a=N.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,a)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,a){if(i<0||i>r.length||a<0||i+a-r.length>0)throw new j;this.ensureCapacity(this.count+a),_.arraycopy(r,i,this.buf,this.count,a),this.count+=a}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var lt;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function Ep(){if(typeof window<"u")return window.BigInt||null;if(typeof Fo<"u")return Fo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let yc;function Ts(T){if(typeof yc>"u"&&(yc=Ep()),yc===null)throw new Error("BigInt is not supported!");return yc(T)}function h3(){let T=[];T[0]=Ts(1);let r=Ts(900);T[1]=r;for(let i=2;i<16;i++)T[i]=T[i-1]*r;return T}class ee{static decode(r,i){let a=new J(""),c=H.ISO8859_1;a.enableDecoding(c);let u=1,d=r[u++],g=new bp;for(;u<r[0];){switch(d){case ee.TEXT_COMPACTION_MODE_LATCH:u=ee.textCompaction(r,u,a);break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:u=ee.byteCompaction(d,r,c,u,a);break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u++]);break;case ee.NUMERIC_COMPACTION_MODE_LATCH:u=ee.numericCompaction(r,u,a);break;case ee.ECI_CHARSET:H.getCharacterSetECIByValue(r[u++]);break;case ee.ECI_GENERAL_PURPOSE:u+=2;break;case ee.ECI_USER_DEFINED:u++;break;case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ee.decodeMacroBlock(r,u,g);break;case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:throw new V;default:u--,u=ee.textCompaction(r,u,a);break}if(u<r.length)d=r[u++];else throw V.getFormatInstance()}if(a.length()===0)throw V.getFormatInstance();let y=new we(null,a.toString(),null,i);return y.setOther(g),y}static decodeMacroBlock(r,i,a){if(i+ee.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw V.getFormatInstance();let c=new Int32Array(ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ee.NUMBER_OF_SEQUENCE_CODEWORDS;g++,i++)c[g]=r[i];a.setSegmentIndex(N.parseInt(ee.decodeBase900toBase10(c,ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new J;i=ee.textCompaction(r,i,u),a.setFileId(u.toString());let d=-1;for(r[i]===ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<r[0];)switch(r[i]){case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new J;i=ee.textCompaction(r,i+1,g),a.setFileName(g.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new J;i=ee.textCompaction(r,i+1,y),a.setSender(y.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new J;i=ee.textCompaction(r,i+1,v),a.setAddressee(v.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new J;i=ee.numericCompaction(r,i+1,E),a.setSegmentCount(N.parseInt(E.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new J;i=ee.numericCompaction(r,i+1,I),a.setTimestamp(vp.parseLong(I.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new J;i=ee.numericCompaction(r,i+1,R),a.setChecksum(N.parseInt(R.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new J;i=ee.numericCompaction(r,i+1,M),a.setFileSize(vp.parseLong(M.toString()));break;default:throw V.getFormatInstance()}break;case ee.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(d!==-1){let g=i-d;a.isLastSegment()&&g--,a.setOptionalData(A.copyOfRange(r,d,d+g))}return i}static textCompaction(r,i,a){let c=new Int32Array((r[0]-i)*2),u=new Int32Array((r[0]-i)*2),d=0,g=!1;for(;i<r[0]&&!g;){let y=r[i++];if(y<ee.TEXT_COMPACTION_MODE_LATCH)c[d]=y/30,c[d+1]=y%30,d+=2;else switch(y){case ee.TEXT_COMPACTION_MODE_LATCH:c[d++]=ee.TEXT_COMPACTION_MODE_LATCH;break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,g=!0;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=r[i++],u[d]=y,d++;break}}return ee.decodeTextCompaction(c,u,d,a),i}static decodeTextCompaction(r,i,a,c){let u=lt.ALPHA,d=lt.ALPHA,g=0;for(;g<a;){let y=r[g],v="";switch(u){case lt.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case ee.LL:u=lt.LOWER;break;case ee.ML:u=lt.MIXED;break;case ee.PS:d=u,u=lt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case ee.AS:d=u,u=lt.ALPHA_SHIFT;break;case ee.ML:u=lt.MIXED;break;case ee.PS:d=u,u=lt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.MIXED:if(y<ee.PL)v=ee.MIXED_CHARS[y];else switch(y){case ee.PL:u=lt.PUNCT;break;case 26:v=" ";break;case ee.LL:u=lt.LOWER;break;case ee.AL:u=lt.ALPHA;break;case ee.PS:d=u,u=lt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.PUNCT:if(y<ee.PAL)v=ee.PUNCT_CHARS[y];else switch(y){case ee.PAL:u=lt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(u=d,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(u=d,y<ee.PAL)v=ee.PUNCT_CHARS[y];else switch(y){case ee.PAL:u=lt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[g]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break}v!==""&&c.append(v),g++}}static byteCompaction(r,i,a,c,u){let d=new f3,g=0,y=0,v=!1;switch(r){case ee.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),I=i[c++];for(;c<i[0]&&!v;)switch(E[g++]=I,y=900*y+I,I=i[c++],I){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:c--,v=!0;break;default:if(g%5===0&&g>0){for(let R=0;R<6;++R)d.write(Number(Ts(y)>>Ts(8*(5-R))));y=0,g=0}break}c===i[0]&&I<ee.TEXT_COMPACTION_MODE_LATCH&&(E[g++]=I);for(let R=0;R<g;R++)d.write(E[R]);break;case ee.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!v;){let R=i[c++];if(R<ee.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+R;else switch(R){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:c--,v=!0;break}if(g%5===0&&g>0){for(let M=0;M<6;++M)d.write(Number(Ts(y)>>Ts(8*(5-M))));y=0,g=0}}break}return u.append(de.decode(d.toByteArray(),a)),c}static numericCompaction(r,i,a){let c=0,u=!1,d=new Int32Array(ee.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!u;){let g=r[i++];if(i===r[0]&&(u=!0),g<ee.TEXT_COMPACTION_MODE_LATCH)d[c]=g,c++;else switch(g){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%ee.MAX_NUMERIC_CODEWORDS===0||g===ee.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(ee.decodeBase900toBase10(d,c)),c=0)}return i}static decodeBase900toBase10(r,i){let a=Ts(0);for(let u=0;u<i;u++)a+=ee.EXP900[i-u-1]*Ts(r[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new V;return c.substring(1)}}ee.TEXT_COMPACTION_MODE_LATCH=900,ee.BYTE_COMPACTION_MODE_LATCH=901,ee.NUMERIC_COMPACTION_MODE_LATCH=902,ee.BYTE_COMPACTION_MODE_LATCH_6=924,ee.ECI_USER_DEFINED=925,ee.ECI_GENERAL_PURPOSE=926,ee.ECI_CHARSET=927,ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ee.MACRO_PDF417_TERMINATOR=922,ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ee.MAX_NUMERIC_CODEWORDS=15,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ee.PL=25,ee.LL=27,ee.AS=27,ee.ML=28,ee.AL=28,ee.PS=29,ee.PAL=29,ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ee.EXP900=Ep()?h3():[],ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Xe{constructor(){}static decode(r,i,a,c,u,d,g){let y=new ki(r,i,a,c,u),v=null,E=null,I;for(let U=!0;;U=!1){if(i!=null&&(v=Xe.getRowIndicatorColumn(r,y,i,!0,d,g)),c!=null&&(E=Xe.getRowIndicatorColumn(r,y,c,!1,d,g)),I=Xe.merge(v,E),I==null)throw K.getNotFoundInstance();let W=I.getBoundingBox();if(U&&W!=null&&(W.getMinY()<y.getMinY()||W.getMaxY()>y.getMaxY()))y=W;else break}I.setBoundingBox(y);let R=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,v),I.setDetectionResultColumn(R,E);let M=v!=null;for(let U=1;U<=R;U++){let W=M?U:R-U;if(I.getDetectionResultColumn(W)!==void 0)continue;let Q;W===0||W===R?Q=new wp(y,W===0):Q=new Po(y),I.setDetectionResultColumn(W,Q);let ne=-1,ue=ne;for(let fe=y.getMinY();fe<=y.getMaxY();fe++){if(ne=Xe.getStartColumn(I,W,fe,M),ne<0||ne>y.getMaxX()){if(ue===-1)continue;ne=ue}let le=Xe.detectCodeword(r,y.getMinX(),y.getMaxX(),M,ne,fe,d,g);le!=null&&(Q.setCodeword(fe,le),ue=ne,d=Math.min(d,le.getWidth()),g=Math.max(g,le.getWidth()))}}return Xe.createDecoderResult(I)}static merge(r,i){if(r==null&&i==null)return null;let a=Xe.getBarcodeMetadata(r,i);if(a==null)return null;let c=ki.merge(Xe.adjustBoundingBox(r),Xe.adjustBoundingBox(i));return new Do(a,c)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let a=Xe.getMax(i),c=0;for(let g of i)if(c+=a-g,g>0)break;let u=r.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let d=0;for(let g=i.length-1;g>=0&&(d+=a-i[g],!(i[g]>0));g--);for(let g=u.length-1;d>0&&u[g]==null;g--)d--;return r.getBoundingBox().addMissingRows(c,d,r.isLeft())}static getMax(r){let i=-1;for(let a of r)i=Math.max(i,a);return i}static getBarcodeMetadata(r,i){let a;if(r==null||(a=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(r,i,a,c,u,d){let g=new wp(i,c);for(let y=0;y<2;y++){let v=y===0?1:-1,E=Math.trunc(Math.trunc(a.getX()));for(let I=Math.trunc(Math.trunc(a.getY()));I<=i.getMaxY()&&I>=i.getMinY();I+=v){let R=Xe.detectCodeword(r,0,r.getWidth(),c,E,I,u,d);R!=null&&(g.setCodeword(I,R),c?E=R.getStartX():E=R.getEndX())}}return g}static adjustCodewordCount(r,i){let a=i[0][1],c=a.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Xe.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>De.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(r){let i=Xe.createBarcodeMatrix(r);Xe.adjustCodewordCount(r,i);let a=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],d=new Array;for(let y=0;y<r.getBarcodeRowCount();y++)for(let v=0;v<r.getBarcodeColumnCount();v++){let E=i[y][v+1].getValue(),I=y*r.getBarcodeColumnCount()+v;E.length===0?a.push(I):E.length===1?c[I]=E[0]:(d.push(I),u.push(E))}let g=new Array(u.length);for(let y=0;y<g.length;y++)g[y]=u[y];return Xe.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,De.toIntArray(a),De.toIntArray(d),g)}static createDecoderResultFromAmbiguousValues(r,i,a,c,u){let d=new Int32Array(c.length),g=100;for(;g-- >0;){for(let y=0;y<d.length;y++)i[c[y]]=u[y][d[y]];try{return Xe.decodeCodewords(i,r,a)}catch(y){if(!(y instanceof S))throw y}if(d.length===0)throw S.getChecksumInstance();for(let y=0;y<d.length;y++)if(d[y]<u[y].length-1){d[y]++;break}else if(d[y]=0,y===d.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new jo;let a=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,a,c){let u=c?1:-1,d=null;if(Xe.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(i).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if(Xe.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let g=0;for(;Xe.isValidBarcodeColumn(r,i-u);){i-=u;for(let y of r.getDetectionResultColumn(i).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+u*g*(y.getEndX()-y.getStartX());g++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,a,c,u,d,g,y){u=Xe.adjustCodewordStartColumn(r,i,a,c,u,d);let v=Xe.getModuleBitCount(r,i,a,c,u,d);if(v==null)return null;let E,I=ze.sum(v);if(c)E=u+I;else{for(let U=0;U<v.length/2;U++){let W=v[U];v[U]=v[v.length-1-U],v[v.length-1-U]=W}E=u,u=E-I}if(!Xe.checkCodewordSkew(I,g,y))return null;let R=On.getDecodedValue(v),M=De.getCodeword(R);return M===-1?null:new Mo(u,E,Xe.getCodewordBucketNumber(R),M)}static getModuleBitCount(r,i,a,c,u,d){let g=u,y=new Int32Array(8),v=0,E=c?1:-1,I=c;for(;(c?g<a:g>=i)&&v<y.length;)r.get(g,d)===I?(y[v]++,g+=E):(v++,I=!I);return v===y.length||g===(c?a:i)&&v===y.length-1?y:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,a,c,u,d){let g=u,y=c?-1:1;for(let v=0;v<2;v++){for(;(c?g>=i:g<a)&&c===r.get(g,d);){if(Math.abs(u-g)>Xe.CODEWORD_SKEW_SIZE)return u;g+=y}y=-y,c=!c}return g}static checkCodewordSkew(r,i,a){return i-Xe.CODEWORD_SKEW_SIZE<=r&&r<=a+Xe.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,a){if(r.length===0)throw V.getFormatInstance();let c=1<<i+1,u=Xe.correctErrors(r,a,c);Xe.verifyCodewordCount(r,c);let d=ee.decode(r,""+i);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(r,i,a){if(i!=null&&i.length>a/2+Xe.MAX_ERRORS||a<0||a>Xe.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return Xe.errorCorrection.decode(r,a,i)}static verifyCodewordCount(r,i){if(r.length<4)throw V.getFormatInstance();let a=r[0];if(a>r.length)throw V.getFormatInstance();if(a===0)if(i<r.length)r[0]=r.length-i;else throw V.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((r&1)!==a&&(a=r&1,c--,c<0));)i[c]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Xe.getCodewordBucketNumber(Xe.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new Oo;for(let a=0;a<r.length;a++){i.format("Row %2d: ",a);for(let c=0;c<r[a].length;c++){let u=r[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Xe.CODEWORD_SKEW_SIZE=2,Xe.MAX_ERRORS=3,Xe.MAX_EC_CODEWORDS=512,Xe.errorCorrection=new yp;class an{decode(r,i=null){let a=an.decode(r,i,!1);if(a==null||a.length===0||a[0]==null)throw K.getNotFoundInstance();return a[0]}decodeMultiple(r,i=null){try{return an.decode(r,i,!0)}catch(a){throw a instanceof V||a instanceof S?K.getNotFoundInstance():a}}static decode(r,i,a){const c=new Array,u=We.detectMultiple(r,i,a);for(const d of u.getPoints()){const g=Xe.decode(u.getBits(),d[4],d[5],d[6],d[7],an.getMinCodewordWidth(d),an.getMaxCodewordWidth(d)),y=new q(g.getText(),g.getRawBytes(),void 0,d,ie.PDF_417);y.putMetadata(B.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&y.putMetadata(B.PDF417_EXTRA_METADATA,v),c.push(y)}return c.map(d=>d)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(an.getMaxWidth(r[0],r[4]),an.getMaxWidth(r[6],r[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.max(an.getMaxWidth(r[1],r[5]),an.getMaxWidth(r[7],r[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(an.getMinWidth(r[0],r[4]),an.getMinWidth(r[6],r[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.min(an.getMinWidth(r[1],r[5]),an.getMinWidth(r[7],r[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}reset(){}}class wc extends p{}wc.kind="ReaderException";class Ap{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(Y.TRY_HARDER)===!0,a=s(r)?null:r.get(Y.POSSIBLE_FORMATS),c=new Array;if(!s(a)){const u=a.some(d=>d===ie.UPC_A||d===ie.UPC_E||d===ie.EAN_13||d===ie.EAN_8||d===ie.CODABAR||d===ie.CODE_39||d===ie.CODE_93||d===ie.CODE_128||d===ie.ITF||d===ie.RSS_14||d===ie.RSS_EXPANDED);u&&!i&&c.push(new ga(r,this.verbose)),a.includes(ie.QR_CODE)&&c.push(new Ss),a.includes(ie.DATA_MATRIX)&&c.push(new Ns),a.includes(ie.AZTEC)&&c.push(new _e),a.includes(ie.PDF_417)&&c.push(new an),u&&i&&c.push(new ga(r,this.verbose))}c.length===0&&(i||c.push(new ga(r,this.verbose)),c.push(new Ss),c.push(new Ns),c.push(new _e),c.push(new an),i&&c.push(new ga(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new wc("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(a){if(a instanceof wc)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class p3 extends Ne{constructor(r=null,i=500){const a=new Ap;a.setHints(r),super(a,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class m3 extends Ne{constructor(r=500){super(new an,r)}}class g3 extends Ne{constructor(r=500){super(new Ss,r)}}var $d;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})($d||($d={}));var Kt=$d;class Jd{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Le(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=r;u++){const d=a.multiply(new Le(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(d),a=d}}return i[r]}encode(r,i){if(i===0)throw new b("No error correction bytes");const a=r.length-i;if(a<=0)throw new b("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);_.arraycopy(r,0,u,0,a);let d=new Le(this.field,u);d=d.multiplyByMonomial(i,1);const y=d.divide(c)[1].getCoefficients(),v=i-y.length;for(let E=0;E<v;E++)r[a+E]=0;_.arraycopy(y,0,r,a+v,y.length)}}class Dt{constructor(){}static applyMaskPenaltyRule1(r){return Dt.applyMaskPenaltyRule1Internal(r,!0)+Dt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u-1;d++){const g=a[d];for(let y=0;y<c-1;y++){const v=g[y];v===g[y+1]&&v===a[d+1][y]&&v===a[d+1][y+1]&&i++}}return Dt.N2*i}static applyMaskPenaltyRule3(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u;d++)for(let g=0;g<c;g++){const y=a[d];g+6<c&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Dt.isWhiteHorizontal(y,g-4,g)||Dt.isWhiteHorizontal(y,g+7,g+11))&&i++,d+6<u&&a[d][g]===1&&a[d+1][g]===0&&a[d+2][g]===1&&a[d+3][g]===1&&a[d+4][g]===1&&a[d+5][g]===0&&a[d+6][g]===1&&(Dt.isWhiteVertical(a,g,d-4,d)||Dt.isWhiteVertical(a,g,d+7,d+11))&&i++}return i*Dt.N3}static isWhiteHorizontal(r,i,a){i=Math.max(i,0),a=Math.min(a,r.length);for(let c=i;c<a;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,i,a,c){a=Math.max(a,0),c=Math.min(c,r.length);for(let u=a;u<c;u++)if(r[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let y=0;y<u;y++){const v=a[y];for(let E=0;E<c;E++)v[E]===1&&i++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Dt.N4}static getDataMaskBit(r,i,a){let c,u;switch(r){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new b("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,i){let a=0;const c=i?r.getHeight():r.getWidth(),u=i?r.getWidth():r.getHeight(),d=r.getArray();for(let g=0;g<c;g++){let y=0,v=-1;for(let E=0;E<u;E++){const I=i?d[g][E]:d[E][g];I===v?y++:(y>=5&&(a+=Dt.N1+(y-5)),y=1,v=I)}y>=5&&(a+=Dt.N1+(y-5))}return a}}Dt.N1=3,Dt.N2=3,Dt.N3=40,Dt.N4=10;class bc{constructor(r,i){this.width=r,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(r);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,a){this.bytes[i][r]=a}setBoolean(r,i,a){this.bytes[i][r]=a?1:0}clear(r){for(const i of this.bytes)A.fill(i,r)}equals(r){if(!(r instanceof bc))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],d=i.bytes[a];for(let g=0,y=this.width;g<y;++g)if(u[g]!==d[g])return!1}return!0}toString(){const r=new J;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Ni{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new J;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Ni.NUM_MASK_PATTERNS}}Ni.NUM_MASK_PATTERNS=8;class ut extends p{}ut.kind="WriterException";class Pe{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,a,c,u){Pe.clearMatrix(u),Pe.embedBasicPatterns(a,u),Pe.embedTypeInfo(i,c,u),Pe.maybeEmbedVersionInfo(a,u),Pe.embedDataBits(r,c,u)}static embedBasicPatterns(r,i){Pe.embedPositionDetectionPatternsAndSeparators(i),Pe.embedDarkDotAtLeftBottomCorner(i),Pe.maybeEmbedPositionAdjustmentPatterns(r,i),Pe.embedTimingPatterns(i)}static embedTypeInfo(r,i,a){const c=new P;Pe.makeTypeInfoBits(r,i,c);for(let u=0,d=c.getSize();u<d;++u){const g=c.get(c.getSize()-1-u),y=Pe.TYPE_INFO_COORDINATES[u],v=y[0],E=y[1];if(a.setBoolean(v,E,g),u<8){const I=a.getWidth()-u-1,R=8;a.setBoolean(I,R,g)}else{const R=a.getHeight()-7+(u-8);a.setBoolean(8,R,g)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const a=new P;Pe.makeVersionInfoBits(r,a);let c=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const g=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+d,g),i.setBoolean(i.getHeight()-11+d,u,g)}}static embedDataBits(r,i,a){let c=0,u=-1,d=a.getWidth()-1,g=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);g>=0&&g<a.getHeight();){for(let y=0;y<2;++y){const v=d-y;if(!Pe.isEmpty(a.get(v,g)))continue;let E;c<r.getSize()?(E=r.get(c),++c):E=!1,i!==255&&Dt.getDataMaskBit(i,v,g)&&(E=!E),a.setBoolean(v,g,E)}g+=u}u=-u,g+=u,d-=2}if(c!==r.getSize())throw new ut("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-N.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new b("0 polynomial");const a=Pe.findMSBSet(i);for(r<<=a-1;Pe.findMSBSet(r)>=a;)r^=i<<Pe.findMSBSet(r)-a;return r}static makeTypeInfoBits(r,i,a){if(!Ni.isValidMaskPattern(i))throw new ut("Invalid mask pattern");const c=r.getBits()<<3|i;a.appendBits(c,5);const u=Pe.calculateBCHCode(c,Pe.TYPE_INFO_POLY);a.appendBits(u,10);const d=new P;if(d.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new ut("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const a=Pe.calculateBCHCode(r.getVersionNumber(),Pe.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new ut("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const a=(i+1)%2;Pe.isEmpty(r.get(i,6))&&r.setNumber(i,6,a),Pe.isEmpty(r.get(6,i))&&r.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new ut;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,a){for(let c=0;c<8;++c){if(!Pe.isEmpty(a.get(r+c,i)))throw new ut;a.setNumber(r+c,i,0)}}static embedVerticalSeparationPattern(r,i,a){for(let c=0;c<7;++c){if(!Pe.isEmpty(a.get(r,i+c)))throw new ut;a.setNumber(r,i+c,0)}}static embedPositionAdjustmentPattern(r,i,a){for(let c=0;c<5;++c){const u=Pe.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(r+d,i+c,u[d])}}static embedPositionDetectionPattern(r,i,a){for(let c=0;c<7;++c){const u=Pe.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(r+d,i+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(r){const i=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,r),Pe.embedPositionDetectionPattern(r.getWidth()-i,0,r),Pe.embedPositionDetectionPattern(0,r.getWidth()-i,r);const a=8;Pe.embedHorizontalSeparationPattern(0,a-1,r),Pe.embedHorizontalSeparationPattern(r.getWidth()-a,a-1,r),Pe.embedHorizontalSeparationPattern(0,r.getWidth()-a,r);const c=7;Pe.embedVerticalSeparationPattern(c,0,r),Pe.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),Pe.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const a=r.getVersionNumber()-1,c=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=c.length;u!==d;u++){const g=c[u];if(g>=0)for(let y=0;y!==d;y++){const v=c[y];v>=0&&Pe.isEmpty(i.get(v,g))&&Pe.embedPositionAdjustmentPattern(v-2,g-2,i)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class x3{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xt{constructor(){}static calculateMaskPenalty(r){return Dt.applyMaskPenaltyRule1(r)+Dt.applyMaskPenaltyRule2(r)+Dt.applyMaskPenaltyRule3(r)+Dt.applyMaskPenaltyRule4(r)}static encode(r,i,a=null){let c=xt.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(Kt.CHARACTER_SET)!==void 0;u&&(c=a.get(Kt.CHARACTER_SET).toString());const d=this.chooseMode(r,c),g=new P;if(d===Oe.BYTE&&(u||xt.DEFAULT_BYTE_MODE_ENCODING!==c)){const fe=H.getCharacterSetECIByName(c);fe!==void 0&&this.appendECI(fe,g)}this.appendModeInfo(d,g);const y=new P;this.appendBytes(r,d,y,c);let v;if(a!==null&&a.get(Kt.QR_VERSION)!==void 0){const fe=Number.parseInt(a.get(Kt.QR_VERSION).toString(),10);v=Re.getVersionForNumber(fe);const le=this.calculateBitsNeeded(d,g,y,v);if(!this.willFit(le,v,i))throw new ut("Data too big for requested version")}else v=this.recommendVersion(i,d,g,y);const E=new P;E.appendBitArray(g);const I=d===Oe.BYTE?y.getSizeInBytes():r.length;this.appendLengthInfo(I,v,d,E),E.appendBitArray(y);const R=v.getECBlocksForLevel(i),M=v.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(M,E);const U=this.interleaveWithECBytes(E,v.getTotalCodewords(),M,R.getNumBlocks()),W=new Ni;W.setECLevel(i),W.setMode(d),W.setVersion(v);const Q=v.getDimensionForVersion(),ne=new bc(Q,Q),ue=this.chooseMaskPattern(U,i,v,ne);return W.setMaskPattern(ue),Pe.buildMatrix(U,i,v,ue,ne),W.setMatrix(ne),W}static recommendVersion(r,i,a,c){const u=this.calculateBitsNeeded(i,a,c,Re.getVersionForNumber(1)),d=this.chooseVersion(u,r),g=this.calculateBitsNeeded(i,a,c,d);return this.chooseVersion(g,r)}static calculateBitsNeeded(r,i,a,c){return i.getSize()+r.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(r){return r<xt.ALPHANUMERIC_TABLE.length?xt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(H.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return Oe.KANJI;let a=!1,c=!1;for(let u=0,d=r.length;u<d;++u){const g=r.charAt(u);if(xt.isDigit(g))a=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return Oe.BYTE}return c?Oe.ALPHANUMERIC:a?Oe.NUMERIC:Oe.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=de.encode(r,H.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,i,a,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let g=0;g<Ni.NUM_MASK_PATTERNS;g++){Pe.buildMatrix(r,i,a,g,c);let y=this.calculateMaskPenalty(c);y<u&&(u=y,d=g)}return d}static chooseVersion(r,i){for(let a=1;a<=40;a++){const c=Re.getVersionForNumber(a);if(xt.willFit(r,c,i))return c}throw new ut("Data too big")}static willFit(r,i,a){const c=i.getTotalCodewords(),d=i.getECBlocksForLevel(a).getTotalECCodewords(),g=c-d,y=(r+7)/8;return g>=y}static terminateBits(r,i){const a=r*8;if(i.getSize()>a)throw new ut("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let d=0;d<4&&i.getSize()<a;++d)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let d=c;d<8;d++)i.appendBit(!1);const u=r-i.getSizeInBytes();for(let d=0;d<u;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==a)throw new ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,a,c,u,d){if(c>=a)throw new ut("Block ID too large");const g=r%a,y=a-g,v=Math.floor(r/a),E=v+1,I=Math.floor(i/a),R=I+1,M=v-I,U=E-R;if(M!==U)throw new ut("EC bytes mismatch");if(a!==y+g)throw new ut("RS blocks mismatch");if(r!==(I+M)*y+(R+U)*g)throw new ut("Total bytes mismatch");c<y?(u[0]=I,d[0]=M):(u[0]=R,d[0]=U)}static interleaveWithECBytes(r,i,a,c){if(r.getSizeInBytes()!==a)throw new ut("Number of bits and data bytes does not match");let u=0,d=0,g=0;const y=new Array;for(let E=0;E<c;++E){const I=new Int32Array(1),R=new Int32Array(1);xt.getNumDataBytesAndNumECBytesForBlockID(i,a,c,E,I,R);const M=I[0],U=new Uint8Array(M);r.toBytes(8*u,U,0,M);const W=xt.generateECBytes(U,R[0]);y.push(new x3(U,W)),d=Math.max(d,M),g=Math.max(g,W.length),u+=I[0]}if(a!==u)throw new ut("Data bytes does not match offset");const v=new P;for(let E=0;E<d;++E)for(const I of y){const R=I.getDataBytes();E<R.length&&v.appendBits(R[E],8)}for(let E=0;E<g;++E)for(const I of y){const R=I.getErrorCorrectionBytes();E<R.length&&v.appendBits(R[E],8)}if(i!==v.getSizeInBytes())throw new ut("Interleaving error: "+i+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(r,i){const a=r.length,c=new Int32Array(a+i);for(let d=0;d<a;d++)c[d]=r[d]&255;new Jd(Ve.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let d=0;d<i;d++)u[d]=c[a+d];return u}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,a,c){const u=a.getCharacterCountBits(i);if(r>=1<<u)throw new ut(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,i,a,c){switch(i){case Oe.NUMERIC:xt.appendNumericBytes(r,a);break;case Oe.ALPHANUMERIC:xt.appendAlphanumericBytes(r,a);break;case Oe.BYTE:xt.append8BitBytes(r,a,c);break;case Oe.KANJI:xt.appendKanjiBytes(r,a);break;default:throw new ut("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=xt.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const a=r.length;let c=0;for(;c<a;){const u=xt.getDigit(r.charAt(c));if(c+2<a){const d=xt.getDigit(r.charAt(c+1)),g=xt.getDigit(r.charAt(c+2));i.appendBits(u*100+d*10+g,10),c+=3}else if(c+1<a){const d=xt.getDigit(r.charAt(c+1));i.appendBits(u*10+d,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(r,i){const a=r.length;let c=0;for(;c<a;){const u=xt.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new ut;if(c+1<a){const d=xt.getAlphanumericCode(r.charCodeAt(c+1));if(d===-1)throw new ut;i.appendBits(u*45+d,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(r,i,a){let c;try{c=de.encode(r,a)}catch(u){throw new ut(u)}for(let u=0,d=c.length;u!==d;u++){const g=c[u];i.appendBits(g,8)}}static appendKanjiBytes(r,i){let a;try{a=de.encode(r,H.SJIS)}catch(u){throw new ut(u)}const c=a.length;for(let u=0;u<c;u+=2){const d=a[u]&255,g=a[u+1]&255,y=d<<8&4294967295|g;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new ut("Invalid byte sequence");const E=(v>>8)*192+(v&255);i.appendBits(E,13)}}static appendECI(r,i){i.appendBits(Oe.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xt.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class Si{write(r,i,a,c=null){if(r.length===0)throw new b("Found empty contents");if(i<0||a<0)throw new b("Requested dimensions are too small: "+i+"x"+a);let u=ft.L,d=Si.QUIET_ZONE_SIZE;c!==null&&(c.get(Kt.ERROR_CORRECTION)!==void 0&&(u=ft.fromString(c.get(Kt.ERROR_CORRECTION).toString())),c.get(Kt.MARGIN)!==void 0&&(d=Number.parseInt(c.get(Kt.MARGIN).toString(),10)));const g=xt.encode(r,u,c);return this.renderResult(g,i,a,d)}writeToDom(r,i,a,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(i,a,c,u);r&&r.appendChild(d)}renderResult(r,i,a,c){const u=r.getMatrix();if(u===null)throw new dn;const d=u.getWidth(),g=u.getHeight(),y=d+c*2,v=g+c*2,E=Math.max(i,y),I=Math.max(a,v),R=Math.min(Math.floor(E/y),Math.floor(I/v)),M=Math.floor((E-d*R)/2),U=Math.floor((I-g*R)/2),W=this.createSVGElement(E,I);for(let Q=0,ne=U;Q<g;Q++,ne+=R)for(let ue=0,fe=M;ue<d;ue++,fe+=R)if(u.get(ue,Q)===1){const le=this.createSvgRectElement(fe,ne,R,R);W.appendChild(le)}return W}createSVGElement(r,i){const a=document.createElementNS(Si.SVG_NS,"svg");return a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(r,i,a,c){const u=document.createElementNS(Si.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Si.QUIET_ZONE_SIZE=4,Si.SVG_NS="http://www.w3.org/2000/svg";class ya{encode(r,i,a,c,u){if(r.length===0)throw new b("Found empty contents");if(i!==ie.QR_CODE)throw new b("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new b(`Requested dimensions are too small: ${a}x${c}`);let d=ft.L,g=ya.QUIET_ZONE_SIZE;u!==null&&(u.get(Kt.ERROR_CORRECTION)!==void 0&&(d=ft.fromString(u.get(Kt.ERROR_CORRECTION).toString())),u.get(Kt.MARGIN)!==void 0&&(g=Number.parseInt(u.get(Kt.MARGIN).toString(),10)));const y=xt.encode(r,d,u);return ya.renderResult(y,a,c,g)}static renderResult(r,i,a,c){const u=r.getMatrix();if(u===null)throw new dn;const d=u.getWidth(),g=u.getHeight(),y=d+c*2,v=g+c*2,E=Math.max(i,y),I=Math.max(a,v),R=Math.min(Math.floor(E/y),Math.floor(I/v)),M=Math.floor((E-d*R)/2),U=Math.floor((I-g*R)/2),W=new he(E,I);for(let Q=0,ne=U;Q<g;Q++,ne+=R)for(let ue=0,fe=M;ue<d;ue++,fe+=R)u.get(ue,Q)===1&&W.setRegion(fe,ne,R,R);return W}}ya.QUIET_ZONE_SIZE=4;class y3{encode(r,i,a,c,u){let d;switch(i){case ie.QR_CODE:d=new ya;break;default:throw new b("No encoder available for format "+i)}return d.encode(r,i,a,c,u)}}class Br extends oe{constructor(r,i,a,c,u,d,g,y){if(super(d,g),this.yuvData=r,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+d>i||u+g>a)throw new b("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(d,g)}getRow(r,i){if(r<0||r>=this.getHeight())throw new b("Requested row is outside the image: "+r);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=r*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _.arraycopy(this.yuvData,u,c,0,a),c;for(let d=0;d<i;d++){const g=d*r;_.arraycopy(this.yuvData,u,c,g,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,i,a,c){return new Br(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,a,c,!1)}renderThumbnail(){const r=this.getWidth()/Br.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Br.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const g=d*r;for(let y=0;y<r;y++){const v=c[u+y*Br.THUMBNAIL_SCALE_FACTOR]&255;a[g+y]=4278190080|v*65793}u+=this.dataWidth*Br.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Br.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Br.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const d=u+r/2;for(let g=u,y=u+r-1;g<d;g++,y--){const v=a[g];a[g]=a[y],a[y]=v}}}invert(){return new me(this)}}Br.THUMBNAIL_SCALE_FACTOR=2;class ef extends oe{constructor(r,i,a,c,u,d,g){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=g,r.BYTES_PER_ELEMENT===4){const y=i*a,v=new Uint8ClampedArray(y);for(let E=0;E<y;E++){const I=r[E],R=I>>16&255,M=I>>7&510,U=I&255;v[E]=(R+M+U)/4&255}this.luminances=v}else this.luminances=r;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new b("Requested row is outside the image: "+r);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=r*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _.arraycopy(this.luminances,u,c,0,a),c;for(let d=0;d<i;d++){const g=d*r;_.arraycopy(this.luminances,u,c,g,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,i,a,c){return new ef(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new me(this)}}class kp extends H{static forName(r){return this.getCharacterSetECIByName(r)}}class tf{}tf.ISO_8859_1=H.ISO8859_1;class Np{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class Sp{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class w3{constructor(r){this.previous=r}getPrevious(){return this.previous}}class wa extends w3{constructor(r,i,a){super(r),this.value=i,this.bitCount=a}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new wa(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wa(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+N.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class nf extends wa{constructor(r,i,a){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(r,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(r,i){return new nf(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function b3(T,r,i){return new nf(T,r,i)}function Lo(T,r,i){return new wa(T,r,i)}const v3=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Is=0,vc=1,ar=2,Tp=3,Fr=4,C3=new wa(null,0,0),rf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function E3(T){for(let r of T)A.fill(r,-1);return T[Is][Fr]=0,T[vc][Fr]=0,T[vc][Is]=28,T[Tp][Fr]=0,T[ar][Fr]=0,T[ar][Is]=15,T}const Ip=E3(A.createInt32Array(6,6));class Ur{constructor(r,i,a,c){this.token=r,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let a=this.bitCount,c=this.token;if(r!==this.mode){let d=rf[this.mode][r];c=Lo(c,d&65535,d>>16),a+=d>>16}let u=r===ar?4:5;return c=Lo(c,i,u),new Ur(c,r,0,a+u)}shiftAndAppend(r,i){let a=this.token,c=this.mode===ar?4:5;return a=Lo(a,Ip[this.mode][r],c),a=Lo(a,i,5),new Ur(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===Fr||this.mode===ar){let g=rf[a][Is];i=Lo(i,g&65535,g>>16),c+=g>>16,a=Is}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Ur(i,a,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=b3(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ur(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(rf[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=Ur.calculateBinaryShiftCost(r)-Ur.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new P;for(const c of i)c.appendTo(a,r);return a}toString(){return se.format("%s bits=%d bytes=%d",v3[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Ur.INITIAL_STATE=new Ur(C3,Is,0,0);function A3(T){const r=se.getCharCode(" "),i=se.getCharCode("."),a=se.getCharCode(",");T[Is][r]=1;const c=se.getCharCode("Z"),u=se.getCharCode("A");for(let R=u;R<=c;R++)T[Is][R]=R-u+2;T[vc][r]=1;const d=se.getCharCode("z"),g=se.getCharCode("a");for(let R=g;R<=d;R++)T[vc][R]=R-g+2;T[ar][r]=1;const y=se.getCharCode("9"),v=se.getCharCode("0");for(let R=v;R<=y;R++)T[ar][R]=R-v+2;T[ar][a]=12,T[ar][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<E.length;R++)T[Tp][se.getCharCode(E[R])]=R;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<I.length;R++)se.getCharCode(I[R])>0&&(T[Fr][se.getCharCode(I[R])]=R);return T}const sf=A3(A.createInt32Array(5,256));class Bo{constructor(r){this.text=r}encode(){const r=se.getCharCode(" "),i=se.getCharCode(`
`);let a=Sp.singletonList(Ur.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case se.getCharCode("\r"):d=g===i?2:0;break;case se.getCharCode("."):d=g===r?3:0;break;case se.getCharCode(","):d=g===r?4:0;break;case se.getCharCode(":"):d=g===r?5:0;break;default:d=0}d>0?(a=Bo.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return Sp.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const a=[];for(let c of r)this.updateStateForChar(c,i,a);return Bo.simplifyStates(a)}updateStateForChar(r,i,a){let c=this.text[i]&255,u=sf[r.getMode()][c]>0,d=null;for(let g=0;g<=Fr;g++){let y=sf[g][c];if(y>0){if(d==null&&(d=r.endBinaryShift(i)),!u||g===r.getMode()||g===ar){const v=d.latchAndAppend(g,y);a.push(v)}if(!u&&Ip[r.getMode()][g]>=0){const v=d.shiftAndAppend(g,y);a.push(v)}}}if(r.getBinaryShiftByteCount()>0||sf[r.getMode()][c]===0){let g=r.addBinaryShiftChar(i);a.push(g)}}static updateStateListForPair(r,i,a){const c=[];for(let u of r)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(r,i,a,c){let u=r.endBinaryShift(i);if(c.push(u.latchAndAppend(Fr,a)),r.getMode()!==Fr&&c.push(u.shiftAndAppend(Fr,a)),a===3||a===4){let d=u.latchAndAppend(ar,16-a).latchAndAppend(ar,1);c.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(d)}}static simplifyStates(r){let i=[];for(const a of r){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(d=>d!==u))}c&&i.push(a)}return i}}class nt{constructor(){}static encodeBytes(r){return nt.encode(r,nt.DEFAULT_EC_PERCENT,nt.DEFAULT_AZTEC_LAYERS)}static encode(r,i,a){let c=new Bo(r).encode(),u=N.truncDivision(c.getSize()*i,100)+11,d=c.getSize()+u,g,y,v,E,I;if(a!==nt.DEFAULT_AZTEC_LAYERS){if(g=a<0,y=Math.abs(a),y>(g?nt.MAX_NB_BITS_COMPACT:nt.MAX_NB_BITS))throw new b(se.format("Illegal value %s for layers",a));v=nt.totalBitsInLayer(y,g),E=nt.WORD_SIZE[y];let le=v-v%E;if(I=nt.stuffBits(c,E),I.getSize()+u>le)throw new b("Data to large for user specified layer");if(g&&I.getSize()>E*64)throw new b("Data to large for user specified layer")}else{E=0,I=null;for(let le=0;;le++){if(le>nt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(g=le<=3,y=g?le+1:le,v=nt.totalBitsInLayer(y,g),d>v)continue;(I==null||E!==nt.WORD_SIZE[y])&&(E=nt.WORD_SIZE[y],I=nt.stuffBits(c,E));let Ze=v-v%E;if(!(g&&I.getSize()>E*64)&&I.getSize()+u<=Ze)break}}let R=nt.generateCheckWords(I,v,E),M=I.getSize()/E,U=nt.generateModeMessage(g,y,M),W=(g?11:14)+y*4,Q=new Int32Array(W),ne;if(g){ne=W;for(let le=0;le<Q.length;le++)Q[le]=le}else{ne=W+1+2*N.truncDivision(N.truncDivision(W,2)-1,15);let le=N.truncDivision(W,2),Ze=N.truncDivision(ne,2);for(let Fe=0;Fe<le;Fe++){let Pn=Fe+N.truncDivision(Fe,15);Q[le-Fe-1]=Ze-Pn-1,Q[le+Fe]=Ze+Pn+1}}let ue=new he(ne);for(let le=0,Ze=0;le<y;le++){let Fe=(y-le)*4+(g?9:12);for(let Pn=0;Pn<Fe;Pn++){let vr=Pn*2;for(let jn=0;jn<2;jn++)R.get(Ze+vr+jn)&&ue.set(Q[le*2+jn],Q[le*2+Pn]),R.get(Ze+Fe*2+vr+jn)&&ue.set(Q[le*2+Pn],Q[W-1-le*2-jn]),R.get(Ze+Fe*4+vr+jn)&&ue.set(Q[W-1-le*2-jn],Q[W-1-le*2-Pn]),R.get(Ze+Fe*6+vr+jn)&&ue.set(Q[W-1-le*2-Pn],Q[le*2+jn])}Ze+=Fe*8}if(nt.drawModeMessage(ue,g,ne,U),g)nt.drawBullsEye(ue,N.truncDivision(ne,2),5);else{nt.drawBullsEye(ue,N.truncDivision(ne,2),7);for(let le=0,Ze=0;le<N.truncDivision(W,2)-1;le+=15,Ze+=16)for(let Fe=N.truncDivision(ne,2)&1;Fe<ne;Fe+=2)ue.set(N.truncDivision(ne,2)-Ze,Fe),ue.set(N.truncDivision(ne,2)+Ze,Fe),ue.set(Fe,N.truncDivision(ne,2)-Ze),ue.set(Fe,N.truncDivision(ne,2)+Ze)}let fe=new Np;return fe.setCompact(g),fe.setSize(ne),fe.setLayers(y),fe.setCodeWords(M),fe.setMatrix(ue),fe}static drawBullsEye(r,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)r.set(u,i-c),r.set(u,i+c),r.set(i-c,u),r.set(i+c,u);r.set(i-a,i-a),r.set(i-a+1,i-a),r.set(i-a,i-a+1),r.set(i+a,i-a),r.set(i+a,i-a+1),r.set(i+a,i+a-1)}static generateModeMessage(r,i,a){let c=new P;return r?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=nt.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=nt.generateCheckWords(c,40,4)),c}static drawModeMessage(r,i,a,c){let u=N.truncDivision(a,2);if(i)for(let d=0;d<7;d++){let g=u-3+d;c.get(d)&&r.set(g,u-5),c.get(d+7)&&r.set(u+5,g),c.get(20-d)&&r.set(g,u+5),c.get(27-d)&&r.set(u-5,g)}else for(let d=0;d<10;d++){let g=u-5+d+N.truncDivision(d,5);c.get(d)&&r.set(g,u-7),c.get(d+10)&&r.set(u+7,g),c.get(29-d)&&r.set(g,u+7),c.get(39-d)&&r.set(u-7,g)}}static generateCheckWords(r,i,a){let c=r.getSize()/a,u=new Jd(nt.getGF(a)),d=N.truncDivision(i,a),g=nt.bitsToWords(r,a,d);u.encode(g,d-c);let y=i%a,v=new P;v.appendBits(0,y);for(const E of Array.from(g))v.appendBits(E,a);return v}static bitsToWords(r,i,a){let c=new Int32Array(a),u,d;for(u=0,d=r.getSize()/i;u<d;u++){let g=0;for(let y=0;y<i;y++)g|=r.get(u*i+y)?1<<i-y-1:0;c[u]=g}return c}static getGF(r){switch(r){case 4:return Ve.AZTEC_PARAM;case 6:return Ve.AZTEC_DATA_6;case 8:return Ve.AZTEC_DATA_8;case 10:return Ve.AZTEC_DATA_10;case 12:return Ve.AZTEC_DATA_12;default:throw new b("Unsupported word size "+r)}}static stuffBits(r,i){let a=new P,c=r.getSize(),u=(1<<i)-2;for(let d=0;d<c;d+=i){let g=0;for(let y=0;y<i;y++)(d+y>=c||r.get(d+y))&&(g|=1<<i-1-y);(g&u)===u?(a.appendBits(g&u,i),d--):g&u?a.appendBits(g,i):(a.appendBits(g|1,i),d--)}return a}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}nt.DEFAULT_EC_PERCENT=33,nt.DEFAULT_AZTEC_LAYERS=0,nt.MAX_NB_BITS=32,nt.MAX_NB_BITS_COMPACT=4,nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Cc{encode(r,i,a,c){return this.encodeWithHints(r,i,a,c,null)}encodeWithHints(r,i,a,c,u){let d=tf.ISO_8859_1,g=nt.DEFAULT_EC_PERCENT,y=nt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Kt.CHARACTER_SET)&&(d=kp.forName(u.get(Kt.CHARACTER_SET).toString())),u.has(Kt.ERROR_CORRECTION)&&(g=N.parseInt(u.get(Kt.ERROR_CORRECTION).toString())),u.has(Kt.AZTEC_LAYERS)&&(y=N.parseInt(u.get(Kt.AZTEC_LAYERS).toString()))),Cc.encodeLayers(r,i,a,c,d,g,y)}static encodeLayers(r,i,a,c,u,d,g){if(i!==ie.AZTEC)throw new b("Can only encode AZTEC, but got "+i);let y=nt.encode(se.getBytes(r,u),d,g);return Cc.renderResult(y,a,c)}static renderResult(r,i,a){let c=r.getMatrix();if(c==null)throw new dn;let u=c.getWidth(),d=c.getHeight(),g=Math.max(i,u),y=Math.max(a,d),v=Math.min(g/u,y/d),E=(g-u*v)/2,I=(y-d*v)/2,R=new he(g,y);for(let M=0,U=I;M<d;M++,U+=v)for(let W=0,Q=E;W<u;W++,Q+=v)c.get(W,M)&&R.setRegion(Q,U,v,v);return R}}n.AbstractExpandedDecoder=Wd,n.ArgumentException=w,n.ArithmeticException=nr,n.AztecCode=Np,n.AztecCodeReader=_e,n.AztecCodeWriter=Cc,n.AztecDecoder=ot,n.AztecDetector=G,n.AztecDetectorResult=_o,n.AztecEncoder=nt,n.AztecHighLevelEncoder=Bo,n.AztecPoint=$t,n.BarcodeFormat=ie,n.Binarizer=k,n.BinaryBitmap=C,n.BitArray=P,n.BitMatrix=he,n.BitSource=Kd,n.BrowserAztecCodeReader=Be,n.BrowserBarcodeReader=t3,n.BrowserCodeReader=Ne,n.BrowserDatamatrixCodeReader=r3,n.BrowserMultiFormatReader=p3,n.BrowserPDF417Reader=m3,n.BrowserQRCodeReader=g3,n.BrowserQRCodeSvgWriter=Si,n.CharacterSetECI=H,n.ChecksumException=S,n.Code128Reader=pe,n.Code39Reader=ct,n.DataMatrixDecodedBitStreamParser=ks,n.DataMatrixReader=Ns,n.DecodeHintType=Y,n.DecoderResult=we,n.DefaultGridSampler=hc,n.DetectorResult=Io,n.EAN13Reader=wr,n.EncodeHintType=Kt,n.Exception=p,n.FormatException=V,n.GenericGF=Ve,n.GenericGFPoly=Le,n.GlobalHistogramBinarizer=Ce,n.GridSampler=wi,n.GridSamplerInstance=yr,n.HTMLCanvasElementLuminanceSource=ye,n.HybridBinarizer=xe,n.ITFReader=Ge,n.IllegalArgumentException=b,n.IllegalStateException=dn,n.InvertedLuminanceSource=me,n.LuminanceSource=oe,n.MathUtils=ze,n.MultiFormatOneDReader=ga,n.MultiFormatReader=Ap,n.MultiFormatWriter=y3,n.NotFoundException=K,n.OneDReader=Qe,n.PDF417DecodedBitStreamParser=ee,n.PDF417DecoderErrorCorrection=yp,n.PDF417Reader=an,n.PDF417ResultMetadata=bp,n.PerspectiveTransform=Gn,n.PlanarYUVLuminanceSource=Br,n.QRCodeByteMatrix=bc,n.QRCodeDataMask=sr,n.QRCodeDecodedBitStreamParser=Nt,n.QRCodeDecoderErrorCorrectionLevel=ft,n.QRCodeDecoderFormatInformation=hn,n.QRCodeEncoder=xt,n.QRCodeEncoderQRCode=Ni,n.QRCodeMaskUtil=Dt,n.QRCodeMatrixUtil=Pe,n.QRCodeMode=Oe,n.QRCodeReader=Ss,n.QRCodeVersion=Re,n.QRCodeWriter=ya,n.RGBLuminanceSource=ef,n.RSS14Reader=jt,n.RSSExpandedReader=ae,n.ReaderException=wc,n.ReedSolomonDecoder=Hn,n.ReedSolomonEncoder=Jd,n.ReedSolomonException=In,n.Result=q,n.ResultMetadataType=B,n.ResultPoint=Se,n.StringUtils=se,n.UnsupportedOperationException=re,n.VideoInputDevice=ge,n.WhiteRectangleDetector=xr,n.WriterException=ut,n.ZXingArrays=A,n.ZXingCharset=kp,n.ZXingInteger=N,n.ZXingStandardCharsets=tf,n.ZXingStringBuilder=J,n.ZXingStringEncoding=de,n.ZXingSystem=_,n.createAbstractExpandedDecoder=gp,Object.defineProperty(n,"__esModule",{value:!0})})})(_0,_0.exports);var bt=_0.exports;const II=Jx(bt),_I=$x({__proto__:null,default:II},[bt]);var Px=function(){function e(t,n,s){if(this.formatMap=new Map([[ke.QR_CODE,bt.BarcodeFormat.QR_CODE],[ke.AZTEC,bt.BarcodeFormat.AZTEC],[ke.CODABAR,bt.BarcodeFormat.CODABAR],[ke.CODE_39,bt.BarcodeFormat.CODE_39],[ke.CODE_93,bt.BarcodeFormat.CODE_93],[ke.CODE_128,bt.BarcodeFormat.CODE_128],[ke.DATA_MATRIX,bt.BarcodeFormat.DATA_MATRIX],[ke.MAXICODE,bt.BarcodeFormat.MAXICODE],[ke.ITF,bt.BarcodeFormat.ITF],[ke.EAN_13,bt.BarcodeFormat.EAN_13],[ke.EAN_8,bt.BarcodeFormat.EAN_8],[ke.PDF_417,bt.BarcodeFormat.PDF_417],[ke.RSS_14,bt.BarcodeFormat.RSS_14],[ke.RSS_EXPANDED,bt.BarcodeFormat.RSS_EXPANDED],[ke.UPC_A,bt.BarcodeFormat.UPC_A],[ke.UPC_E,bt.BarcodeFormat.UPC_E],[ke.UPC_EAN_EXTENSION,bt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_I)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var o=this.createZXingFormats(t),l=new Map;l.set(bt.DecodeHintType.POSSIBLE_FORMATS,o),l.set(bt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,o){try{s(n.decode(t))}catch(l){o(l)}})},e.prototype.decode=function(t){var n=new bt.MultiFormatReader(this.verbose,this.hints),s=new bt.HTMLCanvasElementLuminanceSource(t),o=new bt.BinaryBitmap(new bt.HybridBinarizer(s)),l=n.decode(o);return{text:l.text,format:jv.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,o){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,o=t;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),RI=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function m(w){try{p(s.next(w))}catch(b){f(b)}}function x(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?l(w.value):o(w.value).then(m,x)}p((s=s.apply(e,t||[])).next())})},OI=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(w){return x([p,w])}}function x(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},jx=function(){function e(t,n,s){if(this.formatMap=new Map([[ke.QR_CODE,"qr_code"],[ke.AZTEC,"aztec"],[ke.CODABAR,"codabar"],[ke.CODE_39,"code_39"],[ke.CODE_93,"code_93"],[ke.CODE_128,"code_128"],[ke.DATA_MATRIX,"data_matrix"],[ke.ITF,"itf"],[ke.EAN_13,"ean_13"],[ke.EAN_8,"ean_8"],[ke.PDF_417,"pdf417"],[ke.UPC_A,"upc_a"],[ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return RI(this,void 0,void 0,function(){var n,s;return OI(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:jv.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,o=0,l=t;o<l.length;o++){var f=l[o],m=f.boundingBox.width*f.boundingBox.height;m>s&&(s=m,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,o=t;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,o){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Dx=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function m(w){try{p(s.next(w))}catch(b){f(b)}}function x(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?l(w.value):o(w.value).then(m,x)}p((s=s.apply(e,t||[])).next())})},Mx=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(w){return x([p,w])}}function x(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},PI=function(){function e(t,n,s,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&jx.isSupported()?(this.primaryDecoder=new jx(t,s,o),this.secondaryDecoder=new Px(t,s,o)):this.primaryDecoder=new Px(t,s,o)}return e.prototype.decodeAsync=function(t){return Dx(this,void 0,void 0,function(){var n;return Mx(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Dx(this,void 0,void 0,function(){var n,s;return Mx(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(s=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var o=s[n];t+=o}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),pp=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),rd=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function m(w){try{p(s.next(w))}catch(b){f(b)}}function x(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?l(w.value):o(w.value).then(m,x)}p((s=s.apply(e,t||[])).next())})},sd=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(w){return x([p,w])}}function x(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Mv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),jI=function(e){pp(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var o={advanced:[s]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Mv),DI=function(e){pp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(jI),MI=function(e){pp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Mv),LI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new DI(this.track)},e.prototype.torchFeature=function(){return new MI(this.track)},e}(),BI=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,o){return rd(this,void 0,void 0,function(){var l,f;return sd(this,function(m){switch(m.label){case 0:return l=new e(t,n,o),s.aspectRatio?(f={aspectRatio:s.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:m.sent(),m.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rd(this,void 0,void 0,function(){return sd(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var o=t.mediaStream.getVideoTracks(),l=o.length,f=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++f,f>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new LI(this.getFirstTrackOrFail())},e}(),FI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return rd(this,void 0,void 0,function(){return sd(this,function(o){return[2,BI.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return rd(this,void 0,void 0,function(){var n,s;return sd(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=o.sent(),[2,new e(s)]}})})},e}(),Lx=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function m(w){try{p(s.next(w))}catch(b){f(b)}}function x(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?l(w.value):o(w.value).then(m,x)}p((s=s.apply(e,t||[])).next())})},Bx=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(w){return x([p,w])}}function x(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},UI=function(){function e(){}return e.failIfNotSupported=function(){return Lx(this,void 0,void 0,function(){return Bx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Lx(this,void 0,void 0,function(){return Bx(this,function(n){return[2,FI.create(t)]})})},e}(),VI=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function m(w){try{p(s.next(w))}catch(b){f(b)}}function x(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?l(w.value):o(w.value).then(m,x)}p((s=s.apply(e,t||[])).next())})},zI=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(w){return x([p,w])}}function x(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},WI=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Va.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Va.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return VI(this,void 0,void 0,function(){var t,n,s,o,l,f,m;return zI(this,function(x){switch(x.label){case 0:return t=function(p){for(var w=p.getVideoTracks(),b=0,C=w;b<C.length;b++){var S=C[b];S.enabled=!1,S.stop(),p.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=x.sent(),o=[],l=0,f=s;l<f.length;l++)m=f[l],m.kind==="videoinput"&&o.push({id:m.deviceId,label:m.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(l){for(var f=[],m=0,x=l;m<x.length;m++){var p=x[m];p.kind==="video"&&f.push({id:p.id,label:p.label})}t(f)},o=MediaStreamTrack;o.getSources(s)})},e}(),Bt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Bt||(Bt={}));var HI=function(){function e(){this.state=Bt.NOT_STARTED,this.onGoingTransactionNewState=Bt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Bt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Bt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Bt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Bt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Bt.UNKNOWN:throw"Transition from unknown is not allowed";case Bt.NOT_STARTED:this.failIfNewStateIs(t,[Bt.PAUSED]);break;case Bt.SCANNING:break;case Bt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,o=n;s<o.length;s++){var l=o[s];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),GI=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Bt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Bt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Bt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Bt.PAUSED},e}(),XI=function(){function e(){}return e.create=function(){return new GI(new HI)},e}(),KI=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),qn=function(e){KI(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(NI),qI=function(){function e(t,n){this.logger=n,this.fps=qn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Dv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!es(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),YI=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new TI(this.verbose),this.qrcode=new PI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=XI.create()}return e.prototype.start=function(t,n,s,o){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;o?f=o:f=this.verbose?this.logger.log:function(){};var m=qI.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:qn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var b=this,C=this.stateManagerProxy.startTransition(Bt.SCANNING);return new Promise(function(S,k){var _=p?m.videoConstraints:b.createVideoConstraints(t);if(!_){C.cancel(),k("videoConstraints should be defined");return}var j={};(!p||m.aspectRatio)&&(j.aspectRatio=m.aspectRatio);var O={onRenderSurfaceReady:function(A,N){b.setupUi(A,N,m),b.isScanning=!0,b.foreverScan(m,s,f)}};UI.failIfNotSupported().then(function(A){A.create(_).then(function(N){return N.render(l.element,j,O).then(function(P){b.renderedCamera=P,C.execute(),S(null)}).catch(function(P){C.cancel(),k(P)})}).catch(function(N){C.cancel(),k(Va.errorGettingUserMedia(N))})}).catch(function(A){C.cancel(),k(Va.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Bt.PAUSED),this.showPausedState(),(es(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Bt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Bt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var l=document.getElementById(qn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),s(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(es(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var m=f.width,x=f.height,p=document.getElementById(s.elementId),w=p.clientWidth?p.clientWidth:qn.DEFAULT_WIDTH,b=Math.max(p.clientHeight?p.clientHeight:x,qn.FILE_SCAN_MIN_HEIGHT),C=s.computeCanvasDrawConfig(m,x,w,b);if(n){var S=s.createCanvasElement(w,b,"qr-canvas-visible");S.style.display="inline-block",p.appendChild(S);var k=S.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=w,k.canvas.height=b,k.drawImage(f,0,0,m,x,C.x,C.y,C.width,C.height)}var _=qn.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(f.width,C.width),O=Math.max(f.height,C.height),A=j+2*_,N=O+2*_,P=s.createCanvasElement(A,N);p.appendChild(P);var X=P.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=A,X.canvas.height=N,X.drawImage(f,0,0,m,x,_,_,j,O);try{s.qrcode.decodeRobustlyAsync(P).then(function(Y){o(Ox.createFromQrcodeResult(Y))}).catch(l)}catch(Y){l("QR code parse error, error = ".concat(Y))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return WI.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Dv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ke.QR_CODE,ke.AZTEC,ke.CODABAR,ke.CODE_39,ke.CODE_93,ke.CODE_128,ke.DATA_MATRIX,ke.MAXICODE,ke.ITF,ke.EAN_13,ke.EAN_8,ke.PDF_417,ke.RSS_14,ke.RSS_EXPANDED,ke.UPC_A,ke.UPC_E,ke.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],o=0,l=t.formatsToSupport;o<l.length;o++){var f=l[o];kI(f)?s.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(es(t))return!0;if(!es(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(es(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return es(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var o=this,l=s.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,n,l),m=function(p){if(p<qn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qn.MIN_QR_BOX_SIZE,"px.")},x=function(p){return p>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};m(f.width),m(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var o=es(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=s.isShadedBoxEnabled()&&l.height<=n,m={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,l):m,p=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},b=p.getContext("2d",w);b.canvas.width=x.width,b.canvas.height=x.height,this.element.append(p),f&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=b,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Va.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Ox.createFromQrcodeResult(o)),s.possiblyUpdateShaders(!0),!0}).catch(function(o){s.possiblyUpdateShaders(!1);var l=Va.codeParseError(o);return n(l,SI.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,s){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,m=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,p=this.qrRegion.height*m,w=this.qrRegion.x*f,b=this.qrRegion.y*m;this.context.drawImage(l,w,b,x,p,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,s)},o.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(S){!S&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,s).finally(function(){C()})):C()}).catch(function(S){o.logger.logError("Error happend while scanning context",S),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",o={user:!0,environment:!0},l="exact",f=function(k){if(k in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var p=t.facingMode;if(typeof p=="string"){if(f(p))return{facingMode:p}}else if(typeof p=="object")if(l in p){if(f(p["".concat(l)]))return{facingMode:{exact:p["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(l in b)return{deviceId:{exact:b["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var C=typeof b;throw"Invalid type of 'deviceId' = ".concat(C)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,n,s,o){if(t<=s&&n<=o){var l=(s-t)/2,f=(o-n)/2;return{x:l,y:f,width:t,height:n}}else{var m=t,x=n;return t>s&&(n=s/t*n,t=s),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?qn.BORDER_SHADER_MATCH_COLOR:qn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var o=t,l=n,f=document.createElement("canvas");return f.style.width="".concat(o,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=es(s)?"qr-canvas":s,f},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,o){if(!(n-o.width<1||s-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(n-o.width)/2,m=(s-o.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(qn.SHADED_REGION_ELEMENT_ID),n-o.width<11||s-o.height<11)this.hasBorderShaders=!1;else{var x=5,p=40;this.insertShaderBorders(l,p,x,-x,null,0,!0),this.insertShaderBorders(l,p,x,-x,null,0,!1),this.insertShaderBorders(l,p,x,null,-x,0,!0),this.insertShaderBorders(l,p,x,null,-x,0,!1),this.insertShaderBorders(l,x,p+x,-x,null,-x,!0),this.insertShaderBorders(l,x,p+x,null,-x,-x,!0),this.insertShaderBorders(l,x,p+x,-x,null,-x,!1),this.insertShaderBorders(l,x,p+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,s,o,l,f,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=qn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(s,"px"),o!==null&&(x.style.top="".concat(o,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),m?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Fx;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Fx||(Fx={}));const mp=({onScan:e,onClose:t})=>{const[n,s]=L.useState(!1),[o,l]=L.useState(null),[f,m]=L.useState(!0),x=L.useRef(null),p="qr-reader",w=async()=>{if(m(!0),l(null),!(window.location.protocol==="https:"||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")){l("Kamera hanya dapat diakses melalui koneksi aman (HTTPS) atau Localhost."),m(!1);return}if(x.current&&x.current.isScanning)try{await x.current.stop()}catch{}const C=new YI(p);x.current=C;try{await C.start({facingMode:"environment"},{fps:15,qrbox:{width:250,height:250}},S=>{C.stop().then(()=>{e(S)}).catch(k=>{console.error("Stop error:",k),e(S)})},S=>{}),s(!0),m(!1),l(null)}catch(S){console.error("Scanner Error:",S);try{await C.start({deviceId:{exact:void 0}},{fps:10,qrbox:{width:250,height:250}},k=>{C.stop().then(()=>e(k))},()=>{}),s(!0),m(!1)}catch{l("Gagal mengakses kamera. Pastikan Anda telah memberikan izin di browser."),m(!1),s(!1)}}};return L.useEffect(()=>{const b=setTimeout(w,500);return()=>{clearTimeout(b),x.current&&x.current.isScanning&&x.current.stop().catch(C=>console.error("Cleanup error:",C))}},[]),h.jsxs("div",{className:"space-y-6 flex flex-col items-center",children:[h.jsx("style",{children:`
                    #${p} video {
                        width: 100% !important;
                        height: 100% !important;
                        object-fit: cover !important;
                        border-radius: 2rem;
                    }
                    #${p} {
                        border: none !important;
                    }
                `}),h.jsxs("div",{className:"relative w-full aspect-square max-w-[320px] bg-slate-900 rounded-[2.5rem] overflow-hidden border-4 border-slate-100 dark:border-slate-800 flex items-center justify-center shadow-2xl",children:[h.jsx("div",{id:p,className:"w-full h-full overflow-hidden"}),f&&!o&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900/90 z-20",children:[h.jsx(CI,{className:"w-8 h-8 text-primary animate-spin mb-3"}),h.jsx("p",{className:"text-[10px] font-black text-white uppercase tracking-widest text-center px-4",children:"Menginisialisasi Kamera..."})]}),o&&h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900/95 z-20 p-6 text-center",children:[h.jsx("div",{className:"size-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4",children:h.jsx(EI,{className:"w-8 h-8 text-red-500"})}),h.jsx("p",{className:"text-xs font-bold text-white mb-6 leading-relaxed px-2",children:o}),h.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[h.jsx("button",{onClick:w,className:"w-full py-3 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest active:scale-95 transition-all",children:"Coba Lagi"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-slate-800 text-slate-400 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Refresh Halaman"})]})]}),h.jsx(jd,{children:n&&h.jsxs(h.Fragment,{children:[h.jsx(Ct.div,{initial:{top:"10%"},animate:{top:["15%","85%","15%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute left-[15%] right-[15%] h-0.5 bg-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.8)] z-10"}),h.jsx("div",{className:"absolute top-12 left-12 w-10 h-10 border-t-4 border-l-4 border-primary rounded-tl-xl z-20"}),h.jsx("div",{className:"absolute top-12 right-12 w-10 h-10 border-t-4 border-r-4 border-primary rounded-tr-xl z-20"}),h.jsx("div",{className:"absolute bottom-12 left-12 w-10 h-10 border-b-4 border-l-4 border-primary rounded-bl-xl z-20"}),h.jsx("div",{className:"absolute bottom-12 right-12 w-10 h-10 border-b-4 border-r-4 border-primary rounded-br-xl z-20"}),h.jsx("div",{className:"absolute inset-0 bg-primary/5 animate-pulse z-0"})]})})]}),h.jsxs("div",{className:"text-center space-y-2",children:[h.jsxs("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tight",children:["Status: ",n?"Kamera Aktif":"Menunggu..."]}),h.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:["Arahkan lensa ke Kode QR produk",h.jsx("br",{}),"untuk memproses pinjaman/kembali"]})]}),h.jsx("div",{className:"w-full pt-2",children:h.jsx("button",{onClick:t,className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Batalkan Pemindaian"})})]})};function Qf(...e){return Ov(Nv(e))}const QI=()=>{var _,j,O;const e=xi(),{user:t}=vs(),n=(t==null?void 0:t.role)==="admin",[s,o]=ht.useState(!1),[l,f]=ht.useState("OUT"),[m,x]=ht.useState(!1),{data:p,isLoading:w}=_t({queryKey:["dashboard-stats"],queryFn:async()=>(await je.get("/api/dashboard/stats")).data,refetchInterval:2e3}),{data:b}=_t({queryKey:["recent-activity"],queryFn:async()=>(await je.get("/api/transactions")).data.slice(0,5),refetchInterval:2e3}),{data:C}=_t({queryKey:["reservations-dashboard"],queryFn:async()=>(await je.get("/api/reservations")).data,refetchInterval:5e3}),S=(C||[]).filter(A=>A.status==="PENDING").length,k=A=>{A==="Pindai & Keluar"?(f("OUT"),o(!0)):A==="Masuk Kembali"?(f("IN"),o(!0)):A==="Reservasi"?e("/transactions?filter=Permintaan"):A==="Item Baru"&&x(!0)};return h.jsxs("div",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark transition-colors duration-300",children:[h.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[h.jsxs(Ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:"Sistem Manajemen Inventaris"}),h.jsx("p",{className:"text-slate-900 dark:text-white text-3xl font-black tracking-tight mt-1",children:n?"Dasbor":`Selamat Datang, ${((_=t==null?void 0:t.display_name)==null?void 0:_.split(" ")[0])||"User"}!`})]}),n&&h.jsxs(Ct.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>e("/reports"),className:"flex items-center gap-2 px-4 py-2 bg-surface-light dark:bg-surface-dark border border-slate-200 dark:border-slate-700 rounded-lg text-slate-700 dark:text-slate-300 text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm",children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"file_download"}),"Laporan"]}),h.jsxs("button",{onClick:()=>e("/inventory"),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-bold hover:bg-blue-600 transition-colors shadow-lg shadow-primary/30 active:scale-95",children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),"Tambah Aset"]})]})]}),n?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Aset",value:(p==null?void 0:p.totalItems)||0,icon:"inventory_2",color:"blue",sub:"Total Jumlah"},{label:"Sedang Dipinjam",value:(p==null?void 0:p.itemsOut)||0,icon:"outbound",color:"indigo",sub:`+${(p==null?void 0:p.thisWeekBorrowed)||0} minggu ini`,subColor:"text-green-600 bg-green-50"},{label:"Item Terlambat",value:(p==null?void 0:p.overdueCount)||0,icon:"assignment_late",color:"red",sub:"Mendesak",subColor:"text-red-600 bg-red-50",border:"border-l-4 border-l-red-500"},{label:"Stok Rendah",value:(p==null?void 0:p.lowStockCount)||0,icon:"low_priority",color:"orange",sub:"Pesan Ulang"}].map((A,N)=>h.jsxs(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:`bg-surface-light dark:bg-surface-dark p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm transition-all hover:shadow-md ${A.border||""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("div",{className:`p-2 bg-${A.color}-50 dark:bg-${A.color}-900/20 rounded-lg`,children:h.jsx("span",{className:`material-symbols-outlined text-${A.color}-600 dark:text-${A.color}-400`,children:A.icon})}),h.jsx("span",{className:`flex items-center text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full ${A.subColor||"bg-slate-100 dark:bg-slate-800 text-slate-500"}`,children:A.sub})]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:A.label}),h.jsx("p",{className:"text-slate-900 dark:text-white text-3xl font-black mt-1",children:A.value})]},A.label))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm p-5",children:[h.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white mb-4",children:"Tindakan Cepat"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Pindai & Keluar",icon:"qr_code_scanner",roles:["admin"]},{label:"Masuk Kembali",icon:"input",roles:["admin"]},{label:"Reservasi",icon:"calendar_add_on",badge:S>0?S:null,roles:["admin","staff","viewer"]},{label:"Item Baru",icon:"add_box",roles:["admin"]}].filter(A=>!A.roles||A.roles.includes(t==null?void 0:t.role)).map(A=>h.jsxs("button",{onClick:()=>k(A.label),className:"relative flex items-center gap-2 px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 transition-all group",children:[A.badge&&h.jsx("span",{className:"absolute -top-1.5 -right-1.5 flex items-center justify-center min-w-[18px] h-[18px] px-1 rounded-full bg-red-500 text-white text-[9px] font-bold shadow-sm",children:A.badge}),h.jsx("span",{className:"material-symbols-outlined text-primary text-[20px] group-hover:scale-110 transition-transform",children:A.icon}),h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wide",children:A.label})]},A.label))})]}),h.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm p-5 border-l-4 border-l-red-500",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-base font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-red-500 text-[20px]",children:"warning"}),"Pengembalian Telat"]}),h.jsxs("span",{className:"text-[10px] font-bold bg-red-100 text-red-600 dark:bg-red-900/40 dark:text-red-400 px-2 py-0.5 rounded-full uppercase",children:[(p==null?void 0:p.overdueCount)||0," Item"]})]}),h.jsx("div",{className:"flex flex-col gap-3",children:((j=p==null?void 0:p.overdueItems)==null?void 0:j.length)>0?p.overdueItems.map((A,N)=>h.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/20 group hover:scale-[1.02] transition-all cursor-pointer",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-lg bg-cover bg-center border border-red-200 dark:border-red-800 shadow-sm",style:{backgroundImage:`url(${A.img})`}}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase truncate max-w-[120px]",children:A.name}),h.jsxs("p",{className:"text-[10px] text-red-600 dark:text-red-400 font-bold uppercase tracking-wider",children:["Peminjam: ",A.borrower]})]})]}),h.jsx("p",{className:"text-xs font-black text-red-600 dark:text-red-400",children:A.time})]},N)):h.jsx("div",{className:"py-8 h-full flex items-center justify-center text-center bg-slate-50 dark:bg-slate-800/20 rounded-xl border border-dashed border-slate-200 dark:border-slate-800",children:h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Semua Aman! "})})}),((O=p==null?void 0:p.overdueItems)==null?void 0:O.length)>0&&h.jsxs("button",{className:"w-full mt-4 py-3 text-[10px] text-red-600 dark:text-red-400 font-black hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all flex items-center justify-center gap-2 uppercase tracking-widest border border-dashed border-red-200 dark:border-red-900/40",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"send"}),"Beritahu Semua"]})]})]}),h.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden h-fit",children:[h.jsxs("div",{className:"px-6 py-5 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:"Aktivitas Terkini"}),h.jsx("button",{onClick:()=>e("/transactions"),className:"text-xs text-primary font-bold uppercase tracking-widest hover:underline",children:"Lihat Semua"})]}),h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"w-full text-left font-medium",children:[h.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/40 text-[10px] uppercase text-slate-500 dark:text-slate-400 font-bold tracking-widest",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4",children:"Aset"}),h.jsx("th",{className:"px-6 py-4",children:"Pengguna"}),h.jsx("th",{className:"px-6 py-4",children:"Tindakan"}),h.jsx("th",{className:"px-6 py-4",children:"Waktu"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Status"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:b==null?void 0:b.map(A=>h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"material-symbols-outlined text-slate-400 text-lg",children:A.item.category==="Elektronik"?"laptop_mac":"inventory_2"}),h.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:A.item.name})]})}),h.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400",children:A.user.display_name}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("span",{className:Qf("flex items-center gap-1.5 text-xs font-bold uppercase tracking-widest",A.type==="OUT"?"text-blue-600":"text-emerald-600"),children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:A.type==="OUT"?"logout":"login"}),A.type==="OUT"?"Dipinjam":"Dikembalikan"]})}),h.jsxs("td",{className:"px-6 py-4 text-xs text-slate-500 font-bold uppercase",children:[new Date(A.timestamp).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})," WIB"]}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsx("span",{className:Qf("inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border",A.type==="OUT"?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800":"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800"),children:A.type==="OUT"?"Aktif":"Selesai"})})]},A.trx_id))})]})})]})]})]}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm p-6 space-y-4",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-primary",children:"assignment_return"}),"Pinjaman Berjalan"]}),h.jsx("div",{className:"space-y-3",children:(C==null?void 0:C.filter(A=>A.user_id===(t==null?void 0:t.user_id)&&["PENDING","APPROVED"].includes(A.status)).length)>0?C.filter(A=>A.user_id===(t==null?void 0:t.user_id)&&["PENDING","APPROVED"].includes(A.status)).map(A=>h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800",children:[h.jsx("div",{className:"size-12 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center p-1 border border-slate-200 dark:border-slate-600",children:h.jsx("img",{src:A.item.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${A.item.sku}`,className:"w-full h-full object-cover rounded-md"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:A.item.name}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"event"}),new Date(A.start_date).toLocaleDateString("id-ID")]})]}),h.jsx("span",{className:Qf("px-2 py-1 text-[10px] font-black uppercase tracking-widest rounded-full border",A.status==="PENDING"?"bg-yellow-50 text-yellow-600 border-yellow-200":"bg-emerald-50 text-emerald-600 border-emerald-200"),children:A.status==="PENDING"?"Menunggu":"Disetujui"})]},A.res_id)):h.jsxs("div",{className:"text-center py-8 text-slate-400",children:[h.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"event_busy"}),h.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Tidak ada pinjaman aktif"})]})})]}),h.jsxs("div",{className:"bg-gradient-to-br from-primary to-blue-600 rounded-xl shadow-lg shadow-primary/30 p-6 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:h.jsx("span",{className:"material-symbols-outlined text-9xl transform rotate-12",children:"inventory_2"})}),h.jsx("h3",{className:"text-lg font-bold mb-2",children:"Butuh Pinjaman?"}),h.jsx("p",{className:"text-blue-100 text-sm mb-6 max-w-[80%]",children:"Ajukan peminjaman aset dengan mudah melalui fitur reservasi kami."}),h.jsx("button",{onClick:()=>e("/transactions?filter=Permintaan"),className:"px-6 py-3 bg-white text-primary rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-50 transition-colors shadow-sm",children:"Buat Reservasi"})]})]})]}),h.jsx(St,{isOpen:s,onClose:()=>o(!1),title:l==="OUT"?"Pindai Aset untuk Pinjam":"Pindai Aset untuk Kembali",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx(mp,{onScan:A=>{o(!1),e(l==="OUT"?`/inventory?q=${A}`:`/transactions?q=${A}`)},onClose:()=>o(!1)}),h.jsx("p",{className:"text-[10px] text-center text-slate-400 font-bold uppercase tracking-widest",children:"Arahkan kamera ke QR Code pada label aset Ioda Academy"})]})}),h.jsx(St,{isOpen:m,onClose:()=>x(!1),title:"Tambah Item Baru",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-2",children:[h.jsxs("button",{onClick:()=>{x(!1),e("/inventory")},className:"flex flex-col items-center justify-center p-6 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-primary hover:bg-primary/5 transition-all group",children:[h.jsx("span",{className:"material-symbols-outlined text-3xl text-primary mb-3 group-hover:scale-110 transition-transform",children:"inventory_2"}),h.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-700 dark:text-slate-300",children:"Aset Inventaris"})]}),h.jsxs("button",{onClick:()=>{x(!1),e("/shared-accounts")},className:"flex flex-col items-center justify-center p-6 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-500 hover:bg-blue-500/5 transition-all group",children:[h.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-500 mb-3 group-hover:scale-110 transition-transform",children:"key"}),h.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-700 dark:text-slate-300",children:"Akun Shared"})]})]})})]})};var ZI=Object.defineProperty,id=Object.getOwnPropertySymbols,Lv=Object.prototype.hasOwnProperty,Bv=Object.prototype.propertyIsEnumerable,Ux=(e,t,n)=>t in e?ZI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R0=(e,t)=>{for(var n in t||(t={}))Lv.call(t,n)&&Ux(e,n,t[n]);if(id)for(var n of id(t))Bv.call(t,n)&&Ux(e,n,t[n]);return e},O0=(e,t)=>{var n={};for(var s in e)Lv.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&id)for(var s of id(e))t.indexOf(s)<0&&Bv.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var oa;(e=>{const t=class qe{constructor(x,p,w,b){if(this.version=x,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],x<qe.MIN_VERSION||x>qe.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=x*4+17;let C=[];for(let k=0;k<this.size;k++)C.push(!1);for(let k=0;k<this.size;k++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(w);if(this.drawCodewords(S),b==-1){let k=1e9;for(let _=0;_<8;_++){this.applyMask(_),this.drawFormatBits(_);const j=this.getPenaltyScore();j<k&&(b=_,k=j),this.applyMask(_)}}o(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(x,p){const w=e.QrSegment.makeSegments(x);return qe.encodeSegments(w,p)}static encodeBinary(x,p){const w=e.QrSegment.makeBytes(x);return qe.encodeSegments([w],p)}static encodeSegments(x,p,w=1,b=40,C=-1,S=!0){if(!(qe.MIN_VERSION<=w&&w<=b&&b<=qe.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");let k,_;for(k=w;;k++){const N=qe.getNumDataCodewords(k,p)*8,P=f.getTotalBits(x,k);if(P<=N){_=P;break}if(k>=b)throw new RangeError("Data too long")}for(const N of[qe.Ecc.MEDIUM,qe.Ecc.QUARTILE,qe.Ecc.HIGH])S&&_<=qe.getNumDataCodewords(k,N)*8&&(p=N);let j=[];for(const N of x){n(N.mode.modeBits,4,j),n(N.numChars,N.mode.numCharCountBits(k),j);for(const P of N.getData())j.push(P)}o(j.length==_);const O=qe.getNumDataCodewords(k,p)*8;o(j.length<=O),n(0,Math.min(4,O-j.length),j),n(0,(8-j.length%8)%8,j),o(j.length%8==0);for(let N=236;j.length<O;N^=253)n(N,8,j);let A=[];for(;A.length*8<j.length;)A.push(0);return j.forEach((N,P)=>A[P>>>3]|=N<<7-(P&7)),new qe(k,p,A,C)}getModule(x,p){return 0<=x&&x<this.size&&0<=p&&p<this.size&&this.modules[p][x]}getModules(){return this.modules}drawFunctionPatterns(){for(let w=0;w<this.size;w++)this.setFunctionModule(6,w,w%2==0),this.setFunctionModule(w,6,w%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const x=this.getAlignmentPatternPositions(),p=x.length;for(let w=0;w<p;w++)for(let b=0;b<p;b++)w==0&&b==0||w==0&&b==p-1||w==p-1&&b==0||this.drawAlignmentPattern(x[w],x[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(x){const p=this.errorCorrectionLevel.formatBits<<3|x;let w=p;for(let C=0;C<10;C++)w=w<<1^(w>>>9)*1335;const b=(p<<10|w)^21522;o(b>>>15==0);for(let C=0;C<=5;C++)this.setFunctionModule(8,C,s(b,C));this.setFunctionModule(8,7,s(b,6)),this.setFunctionModule(8,8,s(b,7)),this.setFunctionModule(7,8,s(b,8));for(let C=9;C<15;C++)this.setFunctionModule(14-C,8,s(b,C));for(let C=0;C<8;C++)this.setFunctionModule(this.size-1-C,8,s(b,C));for(let C=8;C<15;C++)this.setFunctionModule(8,this.size-15+C,s(b,C));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let x=this.version;for(let w=0;w<12;w++)x=x<<1^(x>>>11)*7973;const p=this.version<<12|x;o(p>>>18==0);for(let w=0;w<18;w++){const b=s(p,w),C=this.size-11+w%3,S=Math.floor(w/3);this.setFunctionModule(C,S,b),this.setFunctionModule(S,C,b)}}drawFinderPattern(x,p){for(let w=-4;w<=4;w++)for(let b=-4;b<=4;b++){const C=Math.max(Math.abs(b),Math.abs(w)),S=x+b,k=p+w;0<=S&&S<this.size&&0<=k&&k<this.size&&this.setFunctionModule(S,k,C!=2&&C!=4)}}drawAlignmentPattern(x,p){for(let w=-2;w<=2;w++)for(let b=-2;b<=2;b++)this.setFunctionModule(x+b,p+w,Math.max(Math.abs(b),Math.abs(w))!=1)}setFunctionModule(x,p,w){this.modules[p][x]=w,this.isFunction[p][x]=!0}addEccAndInterleave(x){const p=this.version,w=this.errorCorrectionLevel;if(x.length!=qe.getNumDataCodewords(p,w))throw new RangeError("Invalid argument");const b=qe.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][p],C=qe.ECC_CODEWORDS_PER_BLOCK[w.ordinal][p],S=Math.floor(qe.getNumRawDataModules(p)/8),k=b-S%b,_=Math.floor(S/b);let j=[];const O=qe.reedSolomonComputeDivisor(C);for(let N=0,P=0;N<b;N++){let X=x.slice(P,P+_-C+(N<k?0:1));P+=X.length;const Y=qe.reedSolomonComputeRemainder(X,O);N<k&&X.push(0),j.push(X.concat(Y))}let A=[];for(let N=0;N<j[0].length;N++)j.forEach((P,X)=>{(N!=_-C||X>=k)&&A.push(P[N])});return o(A.length==S),A}drawCodewords(x){if(x.length!=Math.floor(qe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let w=this.size-1;w>=1;w-=2){w==6&&(w=5);for(let b=0;b<this.size;b++)for(let C=0;C<2;C++){const S=w-C,_=(w+1&2)==0?this.size-1-b:b;!this.isFunction[_][S]&&p<x.length*8&&(this.modules[_][S]=s(x[p>>>3],7-(p&7)),p++)}}o(p==x.length*8)}applyMask(x){if(x<0||x>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let w=0;w<this.size;w++){let b;switch(x){case 0:b=(w+p)%2==0;break;case 1:b=p%2==0;break;case 2:b=w%3==0;break;case 3:b=(w+p)%3==0;break;case 4:b=(Math.floor(w/3)+Math.floor(p/2))%2==0;break;case 5:b=w*p%2+w*p%3==0;break;case 6:b=(w*p%2+w*p%3)%2==0;break;case 7:b=((w+p)%2+w*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][w]&&b&&(this.modules[p][w]=!this.modules[p][w])}}getPenaltyScore(){let x=0;for(let C=0;C<this.size;C++){let S=!1,k=0,_=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[C][j]==S?(k++,k==5?x+=qe.PENALTY_N1:k>5&&x++):(this.finderPenaltyAddHistory(k,_),S||(x+=this.finderPenaltyCountPatterns(_)*qe.PENALTY_N3),S=this.modules[C][j],k=1);x+=this.finderPenaltyTerminateAndCount(S,k,_)*qe.PENALTY_N3}for(let C=0;C<this.size;C++){let S=!1,k=0,_=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][C]==S?(k++,k==5?x+=qe.PENALTY_N1:k>5&&x++):(this.finderPenaltyAddHistory(k,_),S||(x+=this.finderPenaltyCountPatterns(_)*qe.PENALTY_N3),S=this.modules[j][C],k=1);x+=this.finderPenaltyTerminateAndCount(S,k,_)*qe.PENALTY_N3}for(let C=0;C<this.size-1;C++)for(let S=0;S<this.size-1;S++){const k=this.modules[C][S];k==this.modules[C][S+1]&&k==this.modules[C+1][S]&&k==this.modules[C+1][S+1]&&(x+=qe.PENALTY_N2)}let p=0;for(const C of this.modules)p=C.reduce((S,k)=>S+(k?1:0),p);const w=this.size*this.size,b=Math.ceil(Math.abs(p*20-w*10)/w)-1;return o(0<=b&&b<=9),x+=b*qe.PENALTY_N4,o(0<=x&&x<=2568888),x}getAlignmentPatternPositions(){if(this.version==1)return[];{const x=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(x*2-2))*2;let w=[6];for(let b=this.size-7;w.length<x;b-=p)w.splice(1,0,b);return w}}static getNumRawDataModules(x){if(x<qe.MIN_VERSION||x>qe.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*x+128)*x+64;if(x>=2){const w=Math.floor(x/7)+2;p-=(25*w-10)*w-55,x>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(x,p){return Math.floor(qe.getNumRawDataModules(x)/8)-qe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][x]*qe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][x]}static reedSolomonComputeDivisor(x){if(x<1||x>255)throw new RangeError("Degree out of range");let p=[];for(let b=0;b<x-1;b++)p.push(0);p.push(1);let w=1;for(let b=0;b<x;b++){for(let C=0;C<p.length;C++)p[C]=qe.reedSolomonMultiply(p[C],w),C+1<p.length&&(p[C]^=p[C+1]);w=qe.reedSolomonMultiply(w,2)}return p}static reedSolomonComputeRemainder(x,p){let w=p.map(b=>0);for(const b of x){const C=b^w.shift();w.push(0),p.forEach((S,k)=>w[k]^=qe.reedSolomonMultiply(S,C))}return w}static reedSolomonMultiply(x,p){if(x>>>8||p>>>8)throw new RangeError("Byte out of range");let w=0;for(let b=7;b>=0;b--)w=w<<1^(w>>>7)*285,w^=(p>>>b&1)*x;return o(w>>>8==0),w}finderPenaltyCountPatterns(x){const p=x[1];o(p<=this.size*3);const w=p>0&&x[2]==p&&x[3]==p*3&&x[4]==p&&x[5]==p;return(w&&x[0]>=p*4&&x[6]>=p?1:0)+(w&&x[6]>=p*4&&x[0]>=p?1:0)}finderPenaltyTerminateAndCount(x,p,w){return x&&(this.finderPenaltyAddHistory(p,w),p=0),p+=this.size,this.finderPenaltyAddHistory(p,w),this.finderPenaltyCountPatterns(w)}finderPenaltyAddHistory(x,p){p[0]==0&&(x+=this.size),p.pop(),p.unshift(x)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(m,x,p){if(x<0||x>31||m>>>x)throw new RangeError("Value out of range");for(let w=x-1;w>=0;w--)p.push(m>>>w&1)}function s(m,x){return(m>>>x&1)!=0}function o(m){if(!m)throw new Error("Assertion error")}const l=class Mt{constructor(x,p,w){if(this.mode=x,this.numChars=p,this.bitData=w,p<0)throw new RangeError("Invalid argument");this.bitData=w.slice()}static makeBytes(x){let p=[];for(const w of x)n(w,8,p);return new Mt(Mt.Mode.BYTE,x.length,p)}static makeNumeric(x){if(!Mt.isNumeric(x))throw new RangeError("String contains non-numeric characters");let p=[];for(let w=0;w<x.length;){const b=Math.min(x.length-w,3);n(parseInt(x.substring(w,w+b),10),b*3+1,p),w+=b}return new Mt(Mt.Mode.NUMERIC,x.length,p)}static makeAlphanumeric(x){if(!Mt.isAlphanumeric(x))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],w;for(w=0;w+2<=x.length;w+=2){let b=Mt.ALPHANUMERIC_CHARSET.indexOf(x.charAt(w))*45;b+=Mt.ALPHANUMERIC_CHARSET.indexOf(x.charAt(w+1)),n(b,11,p)}return w<x.length&&n(Mt.ALPHANUMERIC_CHARSET.indexOf(x.charAt(w)),6,p),new Mt(Mt.Mode.ALPHANUMERIC,x.length,p)}static makeSegments(x){return x==""?[]:Mt.isNumeric(x)?[Mt.makeNumeric(x)]:Mt.isAlphanumeric(x)?[Mt.makeAlphanumeric(x)]:[Mt.makeBytes(Mt.toUtf8ByteArray(x))]}static makeEci(x){let p=[];if(x<0)throw new RangeError("ECI assignment value out of range");if(x<128)n(x,8,p);else if(x<16384)n(2,2,p),n(x,14,p);else if(x<1e6)n(6,3,p),n(x,21,p);else throw new RangeError("ECI assignment value out of range");return new Mt(Mt.Mode.ECI,0,p)}static isNumeric(x){return Mt.NUMERIC_REGEX.test(x)}static isAlphanumeric(x){return Mt.ALPHANUMERIC_REGEX.test(x)}getData(){return this.bitData.slice()}static getTotalBits(x,p){let w=0;for(const b of x){const C=b.mode.numCharCountBits(p);if(b.numChars>=1<<C)return 1/0;w+=4+C+b.bitData.length}return w}static toUtf8ByteArray(x){x=encodeURI(x);let p=[];for(let w=0;w<x.length;w++)x.charAt(w)!="%"?p.push(x.charCodeAt(w)):(p.push(parseInt(x.substring(w+1,w+3),16)),w+=2);return p}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=l;e.QrSegment=l})(oa||(oa={}));(e=>{(t=>{const n=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(oa||(oa={}));(e=>{(t=>{const n=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(oa||(oa={}));var za=oa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $I={L:za.QrCode.Ecc.LOW,M:za.QrCode.Ecc.MEDIUM,Q:za.QrCode.Ecc.QUARTILE,H:za.QrCode.Ecc.HIGH},Fv=128,Uv="L",Vv="#FFFFFF",zv="#000000",Wv=!1,Hv=1,JI=4,e5=0,t5=.1;function Gv(e,t=0){const n=[];return e.forEach(function(s,o){let l=null;s.forEach(function(f,m){if(!f&&l!==null){n.push(`M${l+t} ${o+t}h${m-l}v1H${l+t}z`),l=null;return}if(m===s.length-1){if(!f)return;l===null?n.push(`M${m+t},${o+t} h1v1H${m+t}z`):n.push(`M${l+t},${o+t} h${m+1-l}v1H${l+t}z`);return}f&&l===null&&(l=m)})}),n.join("")}function Xv(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((o,l)=>l<t.x||l>=t.x+t.w?o:!1))}function n5(e,t,n,s){if(s==null)return null;const o=e.length+n*2,l=Math.floor(t*t5),f=o/t,m=(s.width||l)*f,x=(s.height||l)*f,p=s.x==null?e.length/2-m/2:s.x*f,w=s.y==null?e.length/2-x/2:s.y*f,b=s.opacity==null?1:s.opacity;let C=null;if(s.excavate){let k=Math.floor(p),_=Math.floor(w),j=Math.ceil(m+p-k),O=Math.ceil(x+w-_);C={x:k,y:_,w:j,h:O}}const S=s.crossOrigin;return{x:p,y:w,h:x,w:m,excavation:C,opacity:b,crossOrigin:S}}function r5(e,t){return t!=null?Math.max(Math.floor(t),0):e?JI:e5}function Kv({value:e,level:t,minVersion:n,includeMargin:s,marginSize:o,imageSettings:l,size:f,boostLevel:m}){let x=ht.useMemo(()=>{const k=(Array.isArray(e)?e:[e]).reduce((_,j)=>(_.push(...za.QrSegment.makeSegments(j)),_),[]);return za.QrCode.encodeSegments(k,$I[t],n,void 0,void 0,m)},[e,t,n,m]);const{cells:p,margin:w,numCells:b,calculatedImageSettings:C}=ht.useMemo(()=>{let S=x.getModules();const k=r5(s,o),_=S.length+k*2,j=n5(S,f,k,l);return{cells:S,margin:k,numCells:_,calculatedImageSettings:j}},[x,f,l,s,o]);return{qrcode:x,margin:w,cells:p,numCells:b,calculatedImageSettings:C}}var s5=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),i5=ht.forwardRef(function(t,n){const s=t,{value:o,size:l=Fv,level:f=Uv,bgColor:m=Vv,fgColor:x=zv,includeMargin:p=Wv,minVersion:w=Hv,boostLevel:b,marginSize:C,imageSettings:S}=s,_=O0(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=_,O=O0(_,["style"]),A=S==null?void 0:S.src,N=ht.useRef(null),P=ht.useRef(null),X=ht.useCallback(he=>{N.current=he,typeof n=="function"?n(he):n&&(n.current=he)},[n]),[Y,V]=ht.useState(!1),{margin:z,cells:H,numCells:re,calculatedImageSettings:de}=Kv({value:o,level:f,minVersion:w,boostLevel:b,includeMargin:p,marginSize:C,imageSettings:S,size:l});ht.useEffect(()=>{if(N.current!=null){const he=N.current,K=he.getContext("2d");if(!K)return;let Ce=H;const xe=P.current,oe=de!=null&&xe!==null&&xe.complete&&xe.naturalHeight!==0&&xe.naturalWidth!==0;oe&&de.excavation!=null&&(Ce=Xv(H,de.excavation));const me=window.devicePixelRatio||1;he.height=he.width=l*me;const ye=l/re*me;K.scale(ye,ye),K.fillStyle=m,K.fillRect(0,0,re,re),K.fillStyle=x,s5?K.fill(new Path2D(Gv(Ce,z))):H.forEach(function(ge,$){ge.forEach(function(Ne,q){Ne&&K.fillRect(q+z,$+z,1,1)})}),de&&(K.globalAlpha=de.opacity),oe&&K.drawImage(xe,de.x+z,de.y+z,de.w,de.h)}}),ht.useEffect(()=>{V(!1)},[A]);const se=R0({height:l,width:l},j);let J=null;return A!=null&&(J=ht.createElement("img",{src:A,key:A,style:{display:"none"},onLoad:()=>{V(!0)},ref:P,crossOrigin:de==null?void 0:de.crossOrigin})),ht.createElement(ht.Fragment,null,ht.createElement("canvas",R0({style:se,height:l,width:l,ref:X,role:"img"},O)),J)});i5.displayName="QRCodeCanvas";var Aa=ht.forwardRef(function(t,n){const s=t,{value:o,size:l=Fv,level:f=Uv,bgColor:m=Vv,fgColor:x=zv,includeMargin:p=Wv,minVersion:w=Hv,boostLevel:b,title:C,marginSize:S,imageSettings:k}=s,_=O0(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:O,numCells:A,calculatedImageSettings:N}=Kv({value:o,level:f,minVersion:w,boostLevel:b,includeMargin:p,marginSize:S,imageSettings:k,size:l});let P=O,X=null;k!=null&&N!=null&&(N.excavation!=null&&(P=Xv(O,N.excavation)),X=ht.createElement("image",{href:k.src,height:N.h,width:N.w,x:N.x+j,y:N.y+j,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const Y=Gv(P,j);return ht.createElement("svg",R0({height:l,width:l,viewBox:`0 0 ${A} ${A}`,ref:n,role:"img"},_),!!C&&ht.createElement("title",null,C),ht.createElement("path",{fill:m,d:`M0,0 h${A}v${A}H0z`,shapeRendering:"crispEdges"}),ht.createElement("path",{fill:x,d:Y,shapeRendering:"crispEdges"}),X)});Aa.displayName="QRCodeSVG";const a5=()=>{const{user:e}=vs(),t=(e==null?void 0:e.role)==="admin",n=xi(),s=bs(),o=No(),[l,f]=L.useState(""),[m,x]=L.useState(null),[p,w]=L.useState(!1),[b,C]=L.useState(!1),[S,k]=L.useState(!1),[_,j]=L.useState("ADD"),[O,A]=L.useState(!1),[N,P]=L.useState(""),[X,Y]=L.useState(!1),[V,z]=L.useState(!1),[H,re]=L.useState(!1),[de,se]=L.useState(!1),[J,he]=L.useState({companyName:"IODA ACADEMY",footerText:"Dilarang Melepas Stiker Ini!!",primaryColor:"#7c3aed",secondaryColor:"#0f172a",accentColor:"#ffffff",layout:"horizontal-dark",logoType:"interests",logoUrl:null,showCategory:!0,showSku:!0}),[K,Ce]=L.useState(1),[xe,oe]=L.useState(""),[me,ye]=L.useState({column:"name",direction:"asc"}),[ge,$]=L.useState(!1),[Ne,q]=L.useState(!1),[Ee,ie]=L.useState(null),[ve,B]=L.useState({name:"",sku:"",category:"Elektronik",stock_qty:0,unit:"Unit",condition:"Good",location:"Gudang Utama",image_url:""}),{data:we,isLoading:Ke}=_t({queryKey:["inventory"],queryFn:async()=>(await je.get("/api/inventory")).data,refetchInterval:1e3}),{data:Le,isLoading:nr}=_t({queryKey:["categories"],queryFn:async()=>(await je.get("/api/categories")).data,refetchInterval:5e3});L.useEffect(()=>{const _e=new URLSearchParams(s.search).get("q");if(_e&&we){f(_e);const Be=we.find(Qe=>Qe.item_id===_e||Qe.sku.toLowerCase()===_e.toLowerCase());Be&&(x(Be),w(!0),n("/inventory",{replace:!0}))}},[s.search,we]);const Ve=Qt({mutationFn:async()=>{if(!t&&m.stock_qty<K)throw new Error("Stok tidak mencukupi untuk pengajuan ini");return je.post("/api/transactions",{item_id:m.item_id,user_id:e.user_id,type:"OUT",qty_change:-K,notes:xe,status:t?"COMPLETED":"PENDING"})},onSuccess:()=>{o.invalidateQueries(["inventory"]),o.invalidateQueries(["dashboard-stats"]),w(!1),x(null),Ce(1),oe("")}}),In=Qt({mutationFn:async G=>_==="ADD"?je.post("/api/inventory",{...G,last_updated_by:e.user_id}):je.put(`/api/inventory/${m.item_id}`,{...G,last_updated_by:e.user_id}),onSuccess:()=>{o.invalidateQueries(["inventory"]),k(!1),B({name:"",sku:"",category:"Elektronik",stock_qty:0,unit:"Unit",condition:"Good",location:"Gudang Utama",image_url:""})}}),dn=(G,_e)=>{if(!G)return"";const Be=G.split(" ")[0].substring(0,4).toUpperCase(),Qe=(_e||"GEN").substring(0,3).toUpperCase(),pe=G.split(" ").length>1?G.split(" ").pop().substring(0,3).toUpperCase():"XX",ct=String(((we==null?void 0:we.length)||0)+1).padStart(3,"0");return`${Be}${pe}-${ct}-${Qe}`};L.useEffect(()=>{if(_==="ADD"&&ve.name&&!ve.sku_manually_edited){const G=dn(ve.name,ve.category);B(_e=>({..._e,sku:G}))}},[ve.name,ve.category,_]);const Hn=Qt({mutationFn:async G=>je.delete(`/api/inventory/${G}`),onSuccess:()=>{o.invalidateQueries(["inventory"]),C(!1)},onError:G=>{var _e,Be;alert(`Gagal menghapus item: ${((Be=(_e=G.response)==null?void 0:_e.data)==null?void 0:Be.error)||G.message}`)}}),kt=Qt({mutationFn:async G=>je.post("/api/categories",{name:G}),onSuccess:()=>{o.invalidateQueries(["categories"]),P("")},onError:G=>{var _e,Be;return alert("Gagal menambah kategori: "+(((Be=(_e=G.response)==null?void 0:_e.data)==null?void 0:Be.error)||G.message))}}),ot=Qt({mutationFn:async G=>je.delete(`/api/categories/${G}`),onSuccess:()=>{o.invalidateQueries(["categories"])},onError:G=>{var _e,Be;return alert("Gagal menghapus kategori: "+(((Be=(_e=G.response)==null?void 0:_e.data)==null?void 0:Be.error)||G.message))}}),ze=G=>{ye(_e=>({column:G,direction:_e.column===G&&_e.direction==="asc"?"desc":"asc"}))},Cs=(G,_e)=>_e===0?"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-900/50":G==="Damaged"?"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-900/50":"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-900/50";function Se(...G){return G.filter(Boolean).join(" ")}const _o=[...(we==null?void 0:we.filter(G=>G.name.toLowerCase().includes(l.toLowerCase())||G.sku.toLowerCase().includes(l.toLowerCase())))||[]].sort((G,_e)=>{const Be=G[me.column],Qe=_e[me.column];return Be<Qe?me.direction==="asc"?-1:1:Be>Qe?me.direction==="asc"?1:-1:0}),xr=()=>{j("ADD"),B({name:"",sku:"",category:"Elektronik",stock_qty:0,unit:"Unit",condition:"Good",location:"Gudang Utama",image_url:""}),k(!0)},wi=G=>{x(G),j("EDIT"),B({name:G.name,sku:G.sku,category:G.category,stock_qty:G.stock_qty,unit:G.unit,condition:G.condition,location:G.location,image_url:G.image_url||""}),k(!0)},Gn=h.jsx("div",{className:"hidden md:block bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/40 text-[10px] uppercase font-bold tracking-widest text-slate-500 dark:text-slate-400",children:[h.jsx("th",{className:"px-6 py-4 cursor-pointer hover:text-primary",onClick:()=>ze("name"),children:"Aset"}),h.jsx("th",{className:"px-6 py-4 cursor-pointer hover:text-primary",onClick:()=>ze("sku"),children:"QR / SKU"}),h.jsx("th",{className:"px-6 py-4 cursor-pointer hover:text-primary",onClick:()=>ze("category"),children:"Kategori"}),h.jsx("th",{className:"px-6 py-4 cursor-pointer hover:text-primary",onClick:()=>ze("stock_qty"),children:"Stok"}),h.jsx("th",{className:"px-6 py-4 cursor-pointer hover:text-primary",onClick:()=>ze("condition"),children:"Kondisi"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Aksi"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:Ke?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Inventaris..."})}):_o.map((G,_e)=>h.jsxs(Ct.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_e*.03},onClick:()=>{x(G),C(!0)},className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors group cursor-pointer",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-10 rounded-xl bg-slate-100 dark:bg-slate-800/80 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700 shadow-sm group-hover:scale-110 transition-transform",children:h.jsx("img",{src:G.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${G.sku}`,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-tight",children:G.name}),h.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["ID: #",G.item_id.split("-")[0]]})]})]})}),h.jsx("td",{className:"px-6 py-4 text-xs font-black text-primary dark:text-blue-400",children:G.sku}),h.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:G.category}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-12 h-1 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:h.jsx("div",{className:Se("h-full",G.stock_qty>10?"bg-emerald-500":"bg-orange-500"),style:{width:`${Math.min(100,G.stock_qty/50*100)}%`}})}),h.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:G.stock_qty})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:Se("px-2.5 py-1 text-[10px] font-black uppercase tracking-widest rounded-full border",Cs(G.condition,G.stock_qty)),children:G.stock_qty===0?"Habis":G.condition==="Good"?"Bagus":"Rusak"})}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[t&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:Be=>{Be.stopPropagation(),wi(G)},className:"p-2 hover:bg-primary/10 text-primary rounded-lg transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"edit"})}),h.jsx("button",{onClick:Be=>{Be.stopPropagation(),x(G),$(!0)},className:"p-2 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"})})]}),h.jsx("button",{onClick:Be=>{Be.stopPropagation(),x(G),w(!0)},disabled:G.stock_qty===0,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all disabled:opacity-30 active:scale-95 shadow-sm shadow-primary/20",children:t?"Pinjam":"Ajukan"})]})})]},G.item_id))})]})})}),hc=h.jsx("div",{className:"md:hidden space-y-4",children:Ke?h.jsx("div",{className:"p-8 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Inventaris..."}):_o.map((G,_e)=>h.jsxs(Ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:_e*.03},onClick:()=>{x(G),C(!0)},className:"bg-white dark:bg-surface-dark p-4 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-16 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700",children:h.jsx("img",{src:G.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${G.sku}`,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase truncate",children:G.name}),h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:G.category})]}),t&&h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:Be=>{Be.stopPropagation(),wi(G)},className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-primary rounded-xl transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"})}),h.jsx("button",{onClick:Be=>{Be.stopPropagation(),confirm("Hapus aset ini?")&&Hn.mutate(G.item_id)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 rounded-xl transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]})]}),h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-0.5",children:G.sku}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:Se("px-2 py-0.5 text-[8px] font-black uppercase tracking-widest rounded-full border",Cs(G.condition,G.stock_qty)),children:G.condition}),h.jsxs("span",{className:"text-[10px] font-black text-slate-700 dark:text-slate-300",children:["STOK: ",G.stock_qty]})]})]})]}),h.jsx("button",{onClick:Be=>{Be.stopPropagation(),x(G),w(!0)},disabled:G.stock_qty===0,className:"w-full py-2.5 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all active:scale-95 shadow-lg shadow-primary/20",children:"Pinjam Aset"})]},G.item_id))}),yr=G=>{if(!G||G.length<7)return"#ffffff";const _e=parseInt(G.slice(1,3),16),Be=parseInt(G.slice(3,5),16),Qe=parseInt(G.slice(5,7),16);return(_e*299+Be*587+Qe*114)/1e3>=128?"#000000":"#ffffff"},$t=(G,_e,Be=!1)=>{const{layout:Qe,companyName:pe,footerText:ct,primaryColor:Ge,logoType:gt,logoUrl:jr,showCategory:bi,showSku:Es}=_e,tt=yr(Ge),wr="380px",vi=(Ci=!0)=>jr?h.jsx("div",{style:{height:"75px",display:"flex",alignItems:"center",marginBottom:"16px",width:"fit-content"},children:h.jsx("img",{src:jr,style:{height:"100%",maxWidth:"270px",objectFit:"contain",filter:Ci?"brightness(0) invert(1)":"none"},alt:"Logo"})}):h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[h.jsx("div",{style:{backgroundColor:Ci?Ge:"#f1f5f9",padding:"6px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px",color:Ci?yr(Ge):Ge},children:gt})}),h.jsx("p",{style:{fontSize:"11px",fontWeight:"900",color:Ci?"white":"#1e293b",textTransform:"uppercase",letterSpacing:"0.15em",margin:0},children:pe})]});if(Qe==="horizontal-dark")return h.jsxs("div",{id:Be?`label-${G.item_id}`:"printable-label",style:{width:wr,backgroundColor:"#0f172a",borderRadius:"16px",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",fontFamily:"'Inter', sans-serif"},children:[h.jsxs("div",{style:{display:"flex",padding:"24px",gap:"24px"},children:[h.jsx("div",{style:{backgroundColor:"white",padding:"10px",borderRadius:"12px",flexShrink:0},children:h.jsx(Aa,{value:G.item_id,size:100,level:"H"})}),h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[vi(!0),h.jsx("h4",{style:{fontSize:"20px",fontWeight:"900",color:"white",textTransform:"uppercase",lineHeight:"1.2",margin:"0 0 8px 0",letterSpacing:"-0.02em",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",overflow:"hidden"},children:G.name}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[bi&&h.jsx("p",{style:{fontSize:"10px",fontWeight:"800",color:Ge,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:G.category}),Es&&h.jsxs("p",{style:{fontSize:"11px",fontWeight:"900",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.1em",margin:0},children:["SKU: ",G.sku]})]})]})]}),h.jsx("div",{style:{backgroundColor:Ge,padding:"12px 0",textAlign:"center"},children:h.jsx("p",{style:{fontSize:"10px",fontWeight:"900",color:tt,textTransform:"uppercase",letterSpacing:"0.25em",margin:0},children:ct})})]});if(Qe==="horizontal-blue")return h.jsxs("div",{id:Be?`label-${G.item_id}`:"printable-label",style:{width:wr,backgroundColor:"#1e293b",borderRadius:"12px",overflow:"hidden",borderLeft:"8px solid #38bdf8",display:"flex",flexDirection:"row",fontFamily:"'Inter', sans-serif"},children:[h.jsxs("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsxs("div",{children:[vi(!0),h.jsx("h4",{style:{fontSize:"18px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:"6px 0",letterSpacing:"-0.01em"},children:G.name}),bi&&h.jsx("p",{style:{fontSize:"10px",color:"#38bdf8",fontWeight:"900",textTransform:"uppercase",margin:0},children:G.category})]}),h.jsxs("div",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)",paddingTop:"12px",marginTop:"12px"},children:[Es&&h.jsx("p",{style:{fontSize:"13px",fontFamily:"'Roboto Mono', monospace",color:"white",fontWeight:"900",margin:0},children:G.sku}),h.jsx("p",{style:{fontSize:"9px",color:"#94a3b8",textTransform:"uppercase",fontWeight:"800",marginTop:"4px",margin:0},children:ct})]})]}),h.jsx("div",{style:{backgroundColor:"white",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Aa,{value:G.item_id,size:90,level:"M"})})]});if(Qe==="vertical-minimal")return h.jsxs("div",{id:Be?`label-${G.item_id}`:"printable-label",style:{width:"320px",backgroundColor:"white",borderRadius:"24px",padding:"32px",border:"1px solid #f1f5f9",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Inter', sans-serif"},children:[h.jsx("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"center"},children:vi(!1)}),h.jsx("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"32px",marginBottom:"20px"},children:h.jsx(Aa,{value:G.item_id,size:140,level:"H"})}),h.jsx("h4",{style:{fontSize:"18px",fontWeight:"900",color:"#0f172a",textTransform:"uppercase",margin:"0 0 4px 0"},children:G.name}),Es&&h.jsx("p",{style:{fontSize:"12px",fontWeight:"900",color:Ge,textTransform:"uppercase",letterSpacing:"0.1em",margin:0},children:G.sku}),h.jsx("div",{style:{width:"40px",height:"4px",backgroundColor:"#f1f5f9",borderRadius:"2px",margin:"16px 0"}}),h.jsx("p",{style:{fontSize:"8px",fontWeight:"800",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",margin:0},children:ct})]});if(Qe==="vertical-gold")return h.jsxs("div",{id:Be?`label-${G.item_id}`:"printable-label",style:{width:"320px",backgroundColor:"#1a1a1a",border:"4px solid #d4af37",padding:"32px",display:"flex",flexDirection:"column",alignItems:"center",fontFamily:"'Inter', sans-serif",color:"#d4af37"},children:[h.jsx("div",{style:{marginBottom:"24px",textAlign:"center",width:"100%",display:"flex",justifyContent:"center"},children:jr?h.jsx("div",{style:{height:"75px",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx("img",{src:jr,style:{height:"100%",maxWidth:"240px",objectFit:"contain",filter:"brightness(0) invert(1)"},alt:"Logo"})}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[h.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"24px",color:"#d4af37"},children:gt}),h.jsx("p",{style:{fontSize:"12px",fontWeight:"900",letterSpacing:"0.3em",textTransform:"uppercase",margin:0},children:pe})]})}),h.jsx("div",{style:{backgroundColor:"#d4af37",padding:"10px",borderRadius:"2px",marginBottom:"24px"},children:h.jsx(Aa,{value:G.item_id,size:130,level:"H",fgColor:"#1a1a1a"})}),h.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px"},children:[h.jsx("div",{style:{height:"1px",backgroundColor:"rgba(212, 175, 55, 0.4)"}}),h.jsx("h4",{style:{fontSize:"20px",fontWeight:"900",textTransform:"uppercase",textAlign:"center",margin:0,padding:"8px 0"},children:G.name}),h.jsx("div",{style:{height:"1px",backgroundColor:"rgba(212, 175, 55, 0.4)"}})]}),h.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:Es&&h.jsx("p",{style:{fontSize:"12px",fontWeight:"900",letterSpacing:"0.2em",margin:0,opacity:.8},children:G.sku})}),h.jsx("div",{style:{marginTop:"30px",paddingTop:"12px",borderTop:"1px solid rgba(212, 175, 55, 0.2)",width:"100%",textAlign:"center"},children:h.jsx("p",{style:{fontSize:"8px",fontStyle:"italic",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.1em",margin:0},children:ct})})]});if(Qe==="horizontal-tech")return h.jsxs("div",{id:Be?`label-${G.item_id}`:"printable-label",style:{width:wr,backgroundColor:"#0a0a0a",borderRadius:"8px",padding:"24px",borderLeft:`5px solid ${Ge}`,display:"flex",flexDirection:"row",fontFamily:"'Roboto Mono', monospace",position:"relative"},children:[h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsxs("div",{children:[vi(!0),h.jsx("h4",{style:{fontSize:"18px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:0},children:G.name}),bi&&h.jsxs("p",{style:{fontSize:"10px",color:Ge,fontWeight:"700",marginTop:"4px",margin:0},children:["[",G.category,"]"]})]}),h.jsxs("div",{style:{marginTop:"20px"},children:[Es&&h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx("span",{style:{fontSize:"10px",color:"#666"},children:"SYS_ID:"}),h.jsx("span",{style:{fontSize:"14px",color:"white",fontWeight:"900"},children:G.sku})]}),h.jsx("p",{style:{fontSize:"8px",color:Ge,fontWeight:"900",textTransform:"uppercase",marginTop:"8px",margin:0,letterSpacing:"0.1em"},children:ct})]})]}),h.jsx("div",{style:{marginLeft:"24px"},children:h.jsx("div",{style:{backgroundColor:"white",padding:"8px",borderRadius:"4px",border:`2px solid ${Ge}66`},children:h.jsx(Aa,{value:G.item_id,size:90,level:"M"})})})]})};return h.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark transition-colors duration-300",children:[h.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-7xl mx-auto w-full pb-20 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Daftar Aset"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium tracking-tight",children:"Manajemen fisik inventaris Ioda Academy."})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-xs font-black hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest active:scale-95 shadow-sm",children:[h.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"qr_code_scanner"}),"Pindai"]}),t&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>se(!0),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-xs font-black hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest active:scale-95 shadow-sm",children:[h.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"architecture"}),"Desain"]}),h.jsxs("button",{onClick:()=>re(!0),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-xs font-black hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest active:scale-95 shadow-sm",children:[h.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"print"}),"Masal"]}),h.jsxs("button",{onClick:xr,className:"flex-1 md:flex-none flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl text-sm font-black hover:bg-blue-600 shadow-lg shadow-primary/30 active:scale-95 transition-all uppercase tracking-widest",children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),h.jsx("span",{children:"Tambah"})]})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 sm:p-4 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 flex flex-wrap items-center gap-3",children:[h.jsxs("div",{className:"relative flex-1 min-w-[200px] group",children:[h.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400 group-focus-within:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),h.jsx("input",{type:"text",placeholder:"Cari aset...",value:l,onChange:G=>f(G.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold transition-all focus:ring-2 focus:ring-primary/20 outline-none text-slate-900 dark:text-white"})]}),h.jsx("button",{onClick:()=>ze("name"),className:"p-2.5 sm:p-3 bg-background-light dark:bg-background-dark rounded-xl text-slate-500 dark:text-slate-400 transition-colors hover:text-primary",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"sort_by_alpha"})})]}),Gn,hc]}),h.jsx(St,{isOpen:S,onClose:()=>k(!1),title:_==="ADD"?"Tambah Aset Baru":"Edit Aset",children:h.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto px-1 custom-scrollbar",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Nama Aset"}),h.jsx("input",{type:"text",value:ve.name,onChange:G=>B({...ve,name:G.target.value}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"Misal: MacBook Pro M2"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"SKU / Kode QR"}),h.jsxs("div",{className:"relative group/sku",children:[h.jsx("input",{type:"text",value:ve.sku,onChange:G=>B({...ve,sku:G.target.value,sku_manually_edited:!0}),className:"w-full px-4 py-2.5 pr-10 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"AUTOGENERATED"}),h.jsx("button",{type:"button",onClick:()=>{const G=dn(ve.name,ve.category);B({...ve,sku:G,sku_manually_edited:!1})},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-primary hover:bg-primary/10 rounded-lg transition-all",title:"Generate SKU Otomatis",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"magic_button"})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between ml-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest",children:"Kategori"}),t&&h.jsx("button",{onClick:()=>A(!0),className:"text-[9px] font-black text-primary hover:underline uppercase tracking-widest",children:"Kelola"})]}),h.jsxs("select",{value:ve.category,onChange:G=>B({...ve,category:G.target.value}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white appearance-none",children:[h.jsx("option",{value:"",children:"Pilih Kategori"}),Le==null?void 0:Le.map(G=>h.jsx("option",{value:G.name,children:G.name},G.category_id))]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Lokasi"}),h.jsx("input",{type:"text",value:ve.location,onChange:G=>B({...ve,location:G.target.value}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"Gudang A"})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Stok"}),h.jsx("input",{type:"number",value:ve.stock_qty,onChange:G=>B({...ve,stock_qty:Number(G.target.value)}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Satuan"}),h.jsx("input",{type:"text",value:ve.unit,onChange:G=>B({...ve,unit:G.target.value}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"Pcs/Unit"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Kondisi"}),h.jsxs("select",{value:ve.condition,onChange:G=>B({...ve,condition:G.target.value}),className:"w-full px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white appearance-none",children:[h.jsx("option",{value:"Good",children:"Bagus"}),h.jsx("option",{value:"Damaged",children:"Rusak"})]})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"URL Gambar (Opsional)"}),h.jsxs("div",{className:"flex gap-4 items-start",children:[h.jsx("input",{type:"text",value:ve.image_url,onChange:G=>B({...ve,image_url:G.target.value}),className:"flex-1 px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"https://..."}),ve.image_url&&h.jsx("div",{className:"size-10 rounded-lg bg-background-light dark:bg-background-dark overflow-hidden border border-slate-200 dark:border-slate-700 flex-shrink-0",children:h.jsx("img",{src:ve.image_url,onError:G=>{G.target.src="https://placehold.co/100x100?text=Invalid"},className:"w-full h-full object-cover"})})]})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{onClick:()=>{if(ve.image_url){const G=new Image;G.onload=()=>In.mutate(ve),G.onerror=()=>alert("URL Gambar tidak valid atau tidak dapat dibuka. Silakan masukkan URL gambar yang benar."),G.src=ve.image_url}else In.mutate(ve)},disabled:In.isPending||!ve.name||!ve.sku,className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:In.isPending?"Menyimpan...":_==="ADD"?"Tambah Aset":"Simpan Perubahan"})})]})}),h.jsx(St,{isOpen:p,onClose:()=>w(!1),title:`Pinjam: ${m==null?void 0:m.name}`,children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-4 p-4 bg-background-light dark:bg-background-dark rounded-2xl border border-slate-100 dark:border-slate-800",children:[h.jsx("img",{src:(m==null?void 0:m.image_url)||`https://api.dicebear.com/7.x/identicon/svg?seed=${m==null?void 0:m.sku}`,className:"w-20 h-20 rounded-xl object-cover border border-white dark:border-slate-700 shadow-lg"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-black text-slate-900 dark:text-white text-lg",children:m==null?void 0:m.name}),h.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:["Tersedia: ",h.jsxs("span",{className:"text-primary",children:[m==null?void 0:m.stock_qty," ",m==null?void 0:m.unit]})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Jumlah"}),h.jsx("input",{type:"number",min:"1",max:m==null?void 0:m.stock_qty,value:K,onChange:G=>Ce(Number(G.target.value)),className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-sm focus:ring-2 focus:ring-primary/20 outline-none text-slate-900 dark:text-white font-bold"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Catatan"}),h.jsx("textarea",{value:xe,onChange:G=>oe(G.target.value),placeholder:"Keperluan proyek...",className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-sm focus:ring-2 focus:ring-primary/20 outline-none min-h-[100px] text-slate-900 dark:text-white"})]}),h.jsx("button",{onClick:()=>Ve.mutate(),disabled:Ve.isPending||K<1||K>((m==null?void 0:m.stock_qty)||0),className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50",children:Ve.isPending?"Proses...":"Konfirmasi Peminjaman"})]})}),h.jsx(jd,{children:b&&h.jsxs("div",{className:"fixed inset-0 z-[110] flex justify-end",children:[h.jsx(Ct.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>C(!1),className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),h.jsxs(Ct.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-md bg-white dark:bg-surface-dark h-full shadow-2xl overflow-y-auto custom-scrollbar flex flex-col",children:[h.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between sticky top-0 bg-white dark:bg-surface-dark z-10 transition-colors",children:[h.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Detail Produk"}),h.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:h.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),h.jsxs("div",{className:"p-8 space-y-8",children:[h.jsxs("div",{className:"aspect-square w-full rounded-3xl overflow-hidden shadow-2xl border-4 border-white dark:border-slate-800 relative group",children:[h.jsx("img",{src:(m==null?void 0:m.image_url)||`https://api.dicebear.com/7.x/identicon/svg?seed=${m==null?void 0:m.sku}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-white/90 dark:bg-surface-dark/90 backdrop-blur-md rounded-full shadow-lg",children:h.jsx("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest",children:m==null?void 0:m.sku})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white leading-tight uppercase tracking-tight",children:m==null?void 0:m.name}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-[8px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:m==null?void 0:m.category}),h.jsx("span",{className:Se("px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest border",Cs(m==null?void 0:m.condition,m==null?void 0:m.stock_qty)),children:(m==null?void 0:m.stock_qty)===0?"Habis":m==null?void 0:m.condition})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"p-5 bg-background-light dark:bg-background-dark rounded-2xl border border-slate-100 dark:border-slate-800 text-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Stok Saat Ini"}),h.jsx("p",{className:"text-3xl font-black text-primary",children:m==null?void 0:m.stock_qty}),h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:m==null?void 0:m.unit})]}),h.jsxs("div",{className:"p-5 bg-background-light dark:bg-background-dark rounded-2xl border border-slate-100 dark:border-slate-800 text-center flex flex-col items-center justify-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),h.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-2",children:[h.jsx("div",{className:"size-2 bg-emerald-500 rounded-full"}),h.jsx("p",{className:"text-sm font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:"Normal"})]})]})]}),t&&h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>wi(m),className:"flex-1 py-4 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 rounded-2xl text-sm font-black uppercase tracking-widest transition-all hover:bg-slate-50",children:"Edit"}),h.jsx("button",{onClick:()=>$(!0),disabled:Hn.isPending,className:"flex-1 py-4 bg-red-50 text-red-600 border border-red-100 rounded-2xl text-sm font-black uppercase tracking-widest transition-all hover:bg-red-600 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:Hn.isPending?"Menghapus...":"Hapus"})]}),t&&h.jsxs("button",{onClick:()=>z(!0),className:"w-full py-3 bg-white dark:bg-surface-dark border-2 border-slate-100 dark:border-slate-800 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:border-primary hover:text-primary transition-all flex items-center justify-center gap-2 mt-[-10px]",children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"print"}),"Cetak Label QR"]}),h.jsx("div",{className:"pt-2",children:h.jsx("button",{onClick:()=>{C(!1),w(!0)},disabled:(m==null?void 0:m.stock_qty)===0,className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 active:scale-[0.98] disabled:opacity-50 transition-all",children:t?"Pinjam Aset Ini":"Ajukan Peminjaman"})})]})]})]})}),h.jsx(St,{isOpen:O,onClose:()=>A(!1),title:"Kelola Kategori",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",placeholder:"Nama kategori baru...",value:N,onChange:G=>P(G.target.value),className:"flex-1 px-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white"}),h.jsx("button",{onClick:()=>kt.mutate(N),disabled:!N||kt.isPending,className:"px-4 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 disabled:opacity-50",children:"Tambah"})]}),h.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Daftar Kategori"}),nr?h.jsx("p",{className:"text-center py-4 text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Memuat..."}):(Le==null?void 0:Le.length)===0?h.jsx("p",{className:"text-center py-4 text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Belum ada kategori"}):h.jsx("div",{className:"grid gap-2",children:Le==null?void 0:Le.map(G=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-light dark:bg-background-dark rounded-xl border border-slate-50 dark:border-slate-800 group",children:[h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-white uppercase tracking-tight",children:G.name}),h.jsx("button",{onClick:()=>{ie(G),q(!0)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"})})]},G.category_id))})]}),h.jsx("div",{className:"pt-2",children:h.jsx("button",{onClick:()=>A(!1),className:"w-full py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Selesai"})})]})}),h.jsx(St,{isOpen:ge,onClose:()=>$(!1),title:"Hapus Aset",children:h.jsxs("div",{className:"space-y-6 text-center",children:[h.jsx("div",{className:"size-20 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"material-symbols-outlined text-red-500 text-4xl",children:"warning"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Hapus Aset Ini?"}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium px-4 leading-relaxed",children:["Anda akan menghapus ",h.jsx("span",{className:"font-black text-slate-800 dark:text-slate-200",children:m==null?void 0:m.name}),". Tindakan ini tidak dapat dibatalkan."]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{onClick:()=>$(!1),className:"flex-1 py-3.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Batal"}),h.jsx("button",{onClick:()=>{Hn.mutate(m==null?void 0:m.item_id),$(!1)},className:"flex-1 py-3.5 bg-red-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all",children:"Hapus Sekarang"})]})]})}),h.jsx(St,{isOpen:Ne,onClose:()=>q(!1),title:"Hapus Kategori",children:h.jsxs("div",{className:"space-y-6 text-center",children:[h.jsx("div",{className:"size-20 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"material-symbols-outlined text-red-500 text-4xl",children:"category"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Hapus Kategori Ini?"}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium px-4 leading-relaxed",children:["Menghapus kategori ",h.jsx("span",{className:"font-black text-slate-800 dark:text-slate-200",children:Ee==null?void 0:Ee.name})," dapat mempengaruhi data aset yang terkait."]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{onClick:()=>q(!1),className:"flex-1 py-3.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Batal"}),h.jsx("button",{onClick:()=>{ot.mutate(Ee==null?void 0:Ee.category_id),q(!1)},className:"flex-1 py-3.5 bg-red-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all",children:"Hapus Kategori"})]})]})}),h.jsx(St,{isOpen:X,onClose:()=>Y(!1),title:"Pindai QR Code Asset",children:h.jsx(mp,{onScan:G=>{Y(!1),f(G);const _e=we==null?void 0:we.find(Be=>Be.sku.toLowerCase()===G.toLowerCase());_e&&(x(_e),w(!0))},onClose:()=>Y(!1)})}),h.jsx(St,{isOpen:V,onClose:()=>z(!1),title:"Cetak Label Aset",children:h.jsxs("div",{className:"space-y-8 flex flex-col items-center",children:[m&&$t(m,J),h.jsxs("div",{className:"w-full space-y-3 px-2",children:[h.jsxs("button",{onClick:()=>{const G=document.getElementById("printable-label"),_e=window.open("","","width=600,height=500");_e.document.write("<html><head><title>Print Label</title>"),_e.document.write(`<style>
                                    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
                                    @import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0');
                                    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');
                                    body{margin:0; padding:0; display:flex; justify-content:center; align-items:center; min-height:100vh; background:white; font-family:'Inter', sans-serif; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important;}
                                    #printable-label{width: 380px !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; box-shadow: none !important;}
                                    .material-symbols-outlined { font-size: 16px; font-weight: normal; font-style: normal; line-height: 1; letter-spacing: normal; text-transform: none; display: inline-block; white-space: nowrap; word-wrap: normal; direction: ltr; -webkit-font-smoothing: antialiased; }
                                    div, p, h4, span, img { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
                                    @media print{ 
                                        body{height:auto; padding: 0; margin: 0;} 
                                        #printable-label{margin: 0 !important; transform: scale(1) !important;}
                                        .no-print{display:none;} 
                                    }
                                </style>`),_e.document.write("</head><body>"),_e.document.write(G.outerHTML),_e.document.write("<script>setTimeout(() => { window.print(); window.close(); }, 500);<\/script>"),_e.document.write("</body></html>"),_e.document.close()},className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-3",children:[h.jsx("span",{className:"material-symbols-outlined",children:"print"}),"Cetak Sekarang"]}),h.jsx("button",{onClick:()=>z(!1),className:"w-full py-3 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all hover:bg-slate-200",children:"Tutup"})]})]})}),h.jsx(St,{isOpen:H,onClose:()=>re(!1),title:"Cetak Semua Label Aset",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("p",{className:"text-xs text-slate-500 font-medium leading-relaxed",children:["Fitur ini akan mencetak label untuk seluruh ",h.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:we==null?void 0:we.length})," aset dengan desain aktif."]}),h.jsx("div",{id:"bulk-printable-labels",className:"hidden",children:h.jsx("div",{style:{display:"grid",gridTemplateColumns:J.layout.includes("vertical")?"repeat(3, 1fr)":"repeat(2, 1fr)",gap:"15px",padding:"15px",backgroundColor:"white"},children:we==null?void 0:we.map(G=>h.jsx("div",{children:$t(G,J,!0)},G.item_id))})}),h.jsxs("div",{className:"pt-4 space-y-3",children:[h.jsxs("button",{onClick:()=>{const G=document.getElementById("bulk-printable-labels").innerHTML,_e=window.open("","","width=900,height=800");_e.document.write("<html><head><title>Print All Labels</title>"),_e.document.write(`<style>
                                    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
                                    @import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0');
                                    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');
                                    body{margin:0;font-family:'Inter', sans-serif;background:white; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important;} 
                                    div, p, h4, span, img { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
                                    @media print{ 
                                        body{padding:0; margin:0;} 
                                        div{-webkit-print-color-adjust: exact !important; print-color-adjust: exact !important;} 
                                        img{-webkit-print-color-adjust: exact !important; print-color-adjust: exact !important;} 
                                    }
                                </style>`),_e.document.write("</head><body>"),_e.document.write(G),_e.document.write("<script>setTimeout(() => { window.print(); window.close(); }, 800);<\/script>"),_e.document.write("</body></html>"),_e.document.close()},className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-95",children:["Cetak ",we==null?void 0:we.length," Label"]}),h.jsx("button",{onClick:()=>re(!1),className:"w-full py-3 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Batal"})]})]})}),h.jsx(St,{isOpen:de,onClose:()=>se(!1),title:"Kustomisasi Label QR",children:h.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pilih Template Desain"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{id:"horizontal-dark",name:"Elegant Dark",icon:"rectangle"},{id:"horizontal-blue",name:"Pro Blue",icon:"view_quilt"},{id:"vertical-minimal",name:"Minimalist",icon:"view_agenda"},{id:"vertical-gold",name:"Royal Gold",icon:"workspace_premium"},{id:"horizontal-tech",name:"Tech / Mono",icon:"terminal"}].map(G=>h.jsxs("button",{onClick:()=>he({...J,layout:G.id}),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 group ${J.layout===G.id?"border-primary bg-primary/5":"border-slate-100 dark:border-slate-800 hover:border-slate-300"}`,children:[h.jsx("span",{className:`material-symbols-outlined text-2xl ${J.layout===G.id?"text-primary":"text-slate-400"}`,children:G.icon}),h.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${J.layout===G.id?"text-primary":"text-slate-500"}`,children:G.name})]},G.id))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Detail Konten"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-1",children:"Nama Perusahaan"}),h.jsx("input",{type:"text",value:J.companyName,onChange:G=>he({...J,companyName:G.target.value}),className:"w-full p-4 bg-slate-50 dark:bg-slate-900 rounded-xl text-sm font-bold border-none focus:ring-2 focus:ring-primary/20"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-1",children:"Teks Footer (Warning)"}),h.jsx("input",{type:"text",value:J.footerText,onChange:G=>he({...J,footerText:G.target.value}),className:"w-full p-4 bg-slate-50 dark:bg-slate-900 rounded-xl text-sm font-bold border-none focus:ring-2 focus:ring-primary/20"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Logo & Warna"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-1 block mb-2",children:"Upload Logo Perusahaan"}),h.jsxs("div",{className:"flex flex-col gap-3",children:[J.logoUrl&&h.jsxs("div",{className:"relative size-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-800",children:[h.jsx("img",{src:J.logoUrl,className:"size-full object-contain p-2",alt:"Logo preview"}),h.jsx("button",{onClick:()=>he({...J,logoUrl:null}),className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-bl-lg",children:h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"close"})})]}),h.jsx("input",{type:"file",accept:"image/*",onChange:G=>{const _e=G.target.files[0];if(_e){const Be=new FileReader;Be.onloadend=()=>{he({...J,logoUrl:Be.result})},Be.readAsDataURL(_e)}},className:"text-[10px] block w-full file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-[10px] file:font-black file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-1",children:"Warna Utama"}),h.jsxs("div",{className:"flex gap-2 items-center mt-1",children:[h.jsx("input",{type:"color",value:J.primaryColor,onChange:G=>he({...J,primaryColor:G.target.value}),className:"size-10 rounded-lg overflow-hidden border-none cursor-pointer"}),h.jsx("span",{className:"text-xs font-mono uppercase font-black",children:J.primaryColor})]})]}),!J.logoUrl&&h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase ml-1",children:"Icon Alternatif (Material)"}),h.jsx("input",{type:"text",value:J.logoType,onChange:G=>he({...J,logoType:G.target.value}),placeholder:"e.g. interests, token",className:"w-full p-3 bg-slate-50 dark:bg-slate-900 rounded-xl text-xs font-mono border-none focus:ring-2 focus:ring-primary/20"})]})]})]})]}),h.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800",children:h.jsx("button",{onClick:()=>se(!1),className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-95",children:"Simpan Desain"})})]})})]})},o5=()=>{const e=No(),t=xi(),[n]=rA(),{user:s}=vs(),[o,l]=L.useState((s==null?void 0:s.role)==="admin"),[f,m]=L.useState(n.get("filter")||"Semua"),[x,p]=L.useState(!1),[w,b]=L.useState(!1),[C,S]=L.useState(!1),[k,_]=L.useState(null),[j,O]=L.useState(!1),[A,N]=L.useState(!1),[P,X]=L.useState(null),[Y,V]=L.useState(null),{data:z,isLoading:H}=_t({queryKey:["reservations"],queryFn:async()=>(await je.get("/api/reservations")).data,refetchInterval:5e3}),{data:re}=_t({queryKey:["inventory"],queryFn:async()=>(await je.get("/api/inventory")).data}),{data:de,isLoading:se}=_t({queryKey:["transactions"],queryFn:async()=>(await je.get("/api/transactions")).data,refetchInterval:5e3}),{data:J}=_t({queryKey:["system-settings"],queryFn:async()=>(await je.get("/api/system-settings")).data}),he=Qt({mutationFn:async B=>je.post("/api/reservations",B),onSuccess:()=>{e.invalidateQueries(["reservations"]),b(!1)}}),K=Qt({mutationFn:async({id:B,data:we})=>je.put(`/api/reservations/${B}`,we),onSuccess:()=>{e.invalidateQueries(["reservations"]),O(!1),X(null)}}),Ce=Qt({mutationFn:async B=>je.delete(`/api/reservations/${B}`),onSuccess:()=>{e.invalidateQueries(["reservations"]),N(!1),V(null)}}),xe=Qt({mutationFn:async({id:B,status:we,rejection_reason:Ke})=>je.put(`/api/reservations/${B}/status`,{status:we,rejection_reason:Ke}),onSuccess:()=>{e.invalidateQueries(["reservations"]),S(!1)}}),oe=Qt({mutationFn:async({id:B,status:we})=>je.put(`/api/transactions/${B}/status`,{status:we}),onSuccess:()=>{e.invalidateQueries(["transactions"]),e.invalidateQueries(["inventory"])},onError:B=>{var we,Ke;return alert(`Gagal memperbarui status: ${((Ke=(we=B.response)==null?void 0:we.data)==null?void 0:Ke.error)||B.message}`)}}),me=Qt({mutationFn:async B=>je.post("/api/transactions",{item_id:B.item_id,user_id:B.user_id,type:"IN",qty_change:Math.abs(B.qty_change),notes:`Returned: ${B.item.name}`,original_trx_id:B.trx_id}),onSuccess:()=>{e.invalidateQueries(["transactions"]),e.invalidateQueries(["inventory"])}});function ye(...B){return B.filter(Boolean).join(" ")}const ge=(B,we)=>{var nr,Ve,In,dn,Hn,kt;if(!((nr=B.user)!=null&&nr.phone)){alert("User ini tidak memiliki nomor WhatsApp yang terdaftar.");return}let Ke="";we==="APPROVED"?Ke=(dn=(In=(Ve=J==null?void 0:J.wa_confirm_borrow)==null?void 0:Ve.replace("{name}",B.user.display_name))==null?void 0:In.replace("{item}",B.item.name))==null?void 0:dn.replace("{qty}",Math.abs(B.qty_change)):we==="RETURNED"&&(Ke=(kt=(Hn=J==null?void 0:J.wa_confirm_return)==null?void 0:Hn.replace("{name}",B.user.display_name))==null?void 0:kt.replace("{item}",B.item.name));const Le=B.user.phone.replace(/\D/g,"");window.open(`https://wa.me/${Le}?text=${encodeURIComponent(Ke||"Halo!")}`,"_blank")},$=(B,we,Ke="")=>{var Ve;if(!((Ve=B.user)!=null&&Ve.phone))return;let Le="";we==="APPROVED"?Le=((J==null?void 0:J.wa_booking_approved)||"Halo {name}, reservasi aset {item} anda untuk {start} s/d {end} telah DISETUJUI.").replace("{name}",B.user.display_name).replace("{item}",B.item.name).replace("{start}",new Date(B.start_date).toLocaleDateString("id-ID")).replace("{end}",new Date(B.end_date).toLocaleDateString("id-ID")):we==="REJECTED"&&(Le=((J==null?void 0:J.wa_booking_rejected)||"Halo {name}, reservasi aset {item} anda DITOLAK. Alasan: {reason}.").replace("{name}",B.user.display_name).replace("{item}",B.item.name).replace("{reason}",Ke||"Tidak tersedia"));const nr=B.user.phone.replace(/\D/g,"");window.open(`https://wa.me/${nr}?text=${encodeURIComponent(Le)}`,"_blank")},Ne=B=>{if(B.status==="PENDING")return{label:"Menunggu",color:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-400 dark:border-yellow-900/50",icon:"hourglass_empty"};if(B.status==="REJECTED")return{label:"Ditolak",color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/40 dark:text-red-400 dark:border-red-900/50",icon:"cancel"};const we=B.type==="OUT"&&!B.is_returned&&new Date-new Date(B.timestamp)>3*24*60*60*1e3;return B.type==="IN"||B.type==="OUT"&&B.is_returned?{label:"Selesai",color:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-400 dark:border-emerald-900/50",icon:"check_circle"}:we?{label:"Terlambat",color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/40 dark:text-red-400 dark:border-red-900/50",icon:"warning"}:{label:"Aktif",color:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/40 dark:text-blue-400 dark:border-blue-900/50",icon:"clock_loader_40"}},Ee=[...de||[]].sort((B,we)=>new Date(we.timestamp)-new Date(B.timestamp)).filter(B=>f==="Permintaan"?B.status==="PENDING":f==="Aktif"?B.type==="OUT"&&!B.is_returned&&B.status!=="PENDING"&&B.status!=="REJECTED":f==="Kembali"?B.type==="OUT"&&B.is_returned:f==="Semua"?B.type==="OUT"&&B.status!=="PENDING"&&B.status!=="REJECTED":!0),ie=h.jsx("div",{className:"hidden md:block bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"w-full text-left border-collapse font-medium",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/40 text-[10px] uppercase font-bold tracking-widest text-slate-500 dark:text-slate-400",children:[h.jsx("th",{className:"px-6 py-4",children:"Barang"}),h.jsx("th",{className:"px-6 py-4",children:"Peminjam"}),h.jsx("th",{className:"px-6 py-4",children:"Waktu"}),h.jsx("th",{className:"px-6 py-4",children:"Status"}),h.jsx("th",{className:"px-6 py-4",children:"Ket"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Aksi"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:se?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Mengetahui Riwayat..."})}):Ee.map((B,we)=>{var Le;const Ke=Ne(B);return h.jsxs(Ct.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:we*.03},className:ye("hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors group",Ke.label==="Terlambat"&&"bg-red-50/30 dark:bg-red-900/5"),children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700 shadow-sm",children:h.jsx("img",{src:B.item.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${B.item.sku}`,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-tight truncate max-w-[120px]",children:B.item.name}),h.jsxs("p",{className:"text-[10px] text-slate-400 font-bold tracking-widest",children:["SKU: ",B.item.sku]})]})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-8 rounded-full bg-cover bg-center border-white dark:border-slate-700 shadow-sm",style:{backgroundImage:`url(${B.user.photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${B.user.email}`})`}}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 truncate",children:B.user.display_name}),B.user.phone&&h.jsxs("a",{href:`https://wa.me/${B.user.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[9px] font-black text-emerald-500 hover:text-emerald-600 transition-colors",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"call"}),B.user.phone]})]})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:new Date(B.timestamp).toLocaleDateString("id-ID",{dateStyle:"medium"})}),h.jsxs("p",{className:ye("text-xs font-black",B.qty_change<0?"text-red-500":"text-emerald-500"),children:[B.qty_change<0?"KELUAR":"MASUK"," ",Math.abs(B.qty_change)," PKT"]})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("span",{className:ye("inline-flex items-center gap-1.5 px-3 py-1 text-[10px] font-black uppercase tracking-widest rounded-full border",Ke.color),children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:Ke.icon}),Ke.label]})}),h.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500 dark:text-slate-400 truncate max-w-[100px]",children:B.notes||"-"}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[B.status==="PENDING"&&o&&h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>{oe.mutate({id:B.trx_id,status:"APPROVED"}),setTimeout(()=>ge(B,"APPROVED"),1e3)},className:"size-8 flex items-center justify-center bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check"})}),h.jsx("button",{onClick:()=>oe.mutate({id:B.trx_id,status:"REJECTED"}),className:"size-8 flex items-center justify-center bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"close"})})]}),B.type==="OUT"&&!B.is_returned&&B.status!=="PENDING"&&B.status!=="REJECTED"&&h.jsxs("div",{className:"flex justify-end gap-2",children:[((Le=B.user)==null?void 0:Le.phone)&&h.jsx("button",{onClick:()=>ge(B,"APPROVED"),className:"size-8 flex items-center justify-center bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-600 hover:text-white transition-all shadow-sm",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"chat"})}),h.jsx("button",{onClick:()=>{me.mutate(B),setTimeout(()=>ge(B,"RETURNED"),1e3)},disabled:me.isPending,className:"px-4 py-2 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-600 hover:text-white transition-all active:scale-95 disabled:opacity-50 shadow-sm",children:"Pulangkan"})]})]})]},B.trx_id)})})]})})}),ve=h.jsx("div",{className:"md:hidden space-y-4",children:se?h.jsx("div",{className:"p-8 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Riwayat..."}):Ee.map((B,we)=>{var Le;const Ke=Ne(B);return h.jsxs(Ct.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:we*.03},className:ye("bg-white dark:bg-surface-dark p-4 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 space-y-4",Ke.label==="Terlambat"&&"border-l-4 border-l-red-500"),children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-12 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700 shadow-sm",children:h.jsx("img",{src:B.item.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${B.item.sku}`,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase truncate",children:B.item.name}),h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(B.timestamp).toLocaleDateString("id-ID")})]})]}),h.jsx("span",{className:ye("inline-flex items-center gap-1 px-2 py-0.5 text-[8px] font-black uppercase tracking-widest rounded-full border",Ke.color),children:Ke.label})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-light dark:bg-background-dark/50 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"size-6 rounded-full bg-cover bg-center border border-white dark:border-slate-700",style:{backgroundImage:`url(${B.user.photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${B.user.email}`})`}}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:B.user.display_name}),B.user.phone&&h.jsxs("a",{href:`https://wa.me/${B.user.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-[8px] font-black text-emerald-500 flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"call"}),B.user.phone]})]})]}),h.jsxs("p",{className:ye("text-[10px] font-black",B.qty_change<0?"text-red-500":"text-emerald-500"),children:[B.qty_change<0?"KELUAR":"MASUK"," ",Math.abs(B.qty_change)," UNIT"]})]}),B.status==="PENDING"&&o&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{oe.mutate({id:B.trx_id,status:"APPROVED"}),setTimeout(()=>ge(B,"APPROVED"),1e3)},className:"flex-1 py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all",children:"Terima & WA"}),h.jsx("button",{onClick:()=>oe.mutate({id:B.trx_id,status:"REJECTED"}),className:"flex-1 py-2.5 bg-red-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-red-700 shadow-lg shadow-red-200 transition-all",children:"Tolak"})]}),B.type==="OUT"&&!B.is_returned&&B.status!=="PENDING"&&B.status!=="REJECTED"&&h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>{me.mutate(B),setTimeout(()=>ge(B,"RETURNED"),1e3)},disabled:me.isPending,className:"w-full py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 transition-all active:scale-95 shadow-lg shadow-emerald-200 dark:shadow-none",children:"Pulangkan Sekarang"}),((Le=B.user)==null?void 0:Le.phone)&&h.jsxs("button",{onClick:()=>ge(B,"APPROVED"),className:"w-full py-2 bg-emerald-50 text-emerald-600 border border-emerald-100 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"chat"}),"Kirim Notifikasi WA"]})]})]},B.trx_id)})});return h.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark transition-colors duration-300",children:[h.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-7xl mx-auto w-full pb-20 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Riwayat Pinjaman"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium tracking-tight",children:"Manajemen peredaran aset Ioda Academy."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>b(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-slate-800 active:scale-95 transition-all uppercase tracking-widest",children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:"calendar_add_on"}),"Booking"]}),h.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl text-sm font-bold shadow-lg shadow-primary/30 active:scale-95 transition-all uppercase tracking-widest",children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:"qr_code_scanner"}),"Scan QR"]})]})]}),h.jsx("div",{className:"bg-white dark:bg-surface-dark p-2 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 flex items-center overflow-x-auto no-scrollbar justify-between",children:h.jsx("div",{className:"flex items-center gap-1",children:["Semua","Aktif","Kembali","Log Stok","Permintaan"].map(B=>h.jsx("button",{onClick:()=>m(B),className:ye("px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all text-nowrap",f===B?"bg-primary text-white shadow-md":"text-slate-400 hover:text-slate-600"),children:B},B))})}),f==="Permintaan"?h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"hidden md:block bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 overflow-hidden",children:h.jsxs("table",{className:"w-full text-left border-collapse font-medium",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/40 text-[10px] uppercase font-bold tracking-widest text-slate-500 dark:text-slate-400",children:[h.jsx("th",{className:"px-6 py-4",children:"Barang"}),h.jsx("th",{className:"px-6 py-4",children:"Peminjam"}),h.jsx("th",{className:"px-6 py-4",children:"Masa Booking"}),h.jsx("th",{className:"px-6 py-4",children:"Status"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"Aksi"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:H?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Mengetahui Jadwal..."})}):(z||[]).length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-400 font-bold italic text-xs",children:"Belum ada booking yang masuk."})}):(z||[]).map(B=>h.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700",children:h.jsx("img",{src:B.item.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${B.item.sku}`,className:"w-full h-full object-cover"})}),h.jsx("div",{children:h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-tight",children:B.item.name})})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-8 rounded-full bg-cover bg-center border-white dark:border-slate-700 shadow-sm",style:{backgroundImage:`url(${B.user.photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${B.user.email}`})`}}),h.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:B.user.display_name})]})}),h.jsxs("td",{className:"px-6 py-4 text-xs font-black text-slate-600 dark:text-slate-400 uppercase tracking-widest flex items-center gap-2 mt-2",children:[h.jsx("span",{children:new Date(B.start_date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}),h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"arrow_forward"}),h.jsx("span",{children:new Date(B.end_date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:ye("inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border",B.status==="PENDING"?"bg-yellow-100 text-yellow-700 border-yellow-200":B.status==="APPROVED"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-red-100 text-red-700 border-red-200"),children:B.status==="PENDING"?"Menunggu":B.status==="APPROVED"?"Disetujui":"Ditolak"})}),h.jsxs("td",{className:"px-6 py-4 text-right",children:[o&&h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{onClick:()=>{X(B),O(!0)},className:"size-8 flex items-center justify-center bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:"Edit / Ubah Status",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"edit"})}),h.jsx("button",{onClick:()=>{V(B),N(!0)},className:"size-8 flex items-center justify-center bg-slate-100 text-slate-500 rounded-lg hover:bg-red-500 hover:text-white transition-all shadow-sm",title:"Hapus",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"delete"})}),B.status==="PENDING"&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),h.jsx("button",{onClick:()=>{xe.mutate({id:B.res_id,status:"APPROVED"}),setTimeout(()=>$(B,"APPROVED"),1e3)},className:"size-8 flex items-center justify-center bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",title:"Setujui",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check"})}),h.jsx("button",{onClick:()=>{_(B.res_id),S(!0)},className:"size-8 flex items-center justify-center bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm",title:"Tolak",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"close"})})]})]}),B.status==="REJECTED"&&h.jsx("span",{className:"text-[10px] text-red-500 font-bold truncate max-w-[150px] inline-block",title:B.rejection_reason,children:B.rejection_reason||"Tanpa alasan"})]})]},B.res_id))})]})}),h.jsx("div",{className:"md:hidden space-y-4",children:se?h.jsx("div",{className:"p-8 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Jadwal..."}):(z||[]).map(B=>h.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700",children:h.jsx("img",{src:B.item.image_url||`https://api.dicebear.com/7.x/identicon/svg?seed=${B.item.sku}`,className:"w-full h-full object-cover"})}),h.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase truncate",children:B.item.name})]}),h.jsx("span",{className:ye("px-2 py-0.5 text-[8px] font-black uppercase tracking-widest rounded-full border",B.status==="PENDING"?"bg-yellow-100 text-yellow-700":B.status==="APPROVED"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"),children:B.status})]}),h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/40 rounded-xl space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"size-6 rounded-full bg-cover bg-center",style:{backgroundImage:`url(${B.user.photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${B.user.email}`})`}}),h.jsx("p",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:B.user.display_name})]}),h.jsxs("div",{className:"flex items-center justify-between text-[9px] font-black uppercase text-slate-400",children:[h.jsxs("span",{children:["Mulai: ",new Date(B.start_date).toLocaleDateString("id-ID")]}),h.jsxs("span",{children:["Sampai: ",new Date(B.end_date).toLocaleDateString("id-ID")]})]}),B.status==="REJECTED"&&h.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700 text-[10px]",children:[h.jsx("span",{className:"font-bold text-red-500 uppercase tracking-widest block mb-1",children:"Ditolak Karena:"}),h.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:B.rejection_reason||"-"})]})]}),o&&h.jsxs("div",{className:ye("grid gap-2",(B.status==="PENDING","grid-cols-2")),children:[h.jsx("button",{onClick:()=>{X(B),O(!0)},className:"py-2.5 bg-blue-50 text-blue-600 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Edit / Status"}),h.jsx("button",{onClick:()=>{V(B),N(!0)},className:"py-2.5 bg-slate-50 text-slate-500 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Hapus"}),B.status==="PENDING"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>{xe.mutate({id:B.res_id,status:"APPROVED"}),setTimeout(()=>$(B,"APPROVED"),1e3)},className:"col-span-1 py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Setuju"}),h.jsx("button",{onClick:()=>{_(B.res_id),S(!0)},className:"col-span-1 py-2.5 bg-red-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Tolak"})]})]})]},B.res_id))})]}):h.jsxs(h.Fragment,{children:[ie,ve]})]}),h.jsx(St,{isOpen:x,onClose:()=>p(!1),title:"Pindai QR Peminjaman",children:h.jsx(mp,{onScan:B=>{p(!1),t(`/inventory?q=${B}`)},onClose:()=>p(!1)})}),h.jsx(St,{isOpen:w,onClose:()=>b(!1),title:"Buat Reservasi Aset",children:h.jsxs("form",{onSubmit:B=>{B.preventDefault();const we=new FormData(B.target);he.mutate({item_id:we.get("item_id"),user_id:s.user_id,start_date:we.get("start_date"),end_date:we.get("end_date"),notes:we.get("notes")})},className:"space-y-4",children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl space-y-3 border border-slate-100 dark:border-slate-800",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-full bg-cover bg-center border-2 border-white dark:border-slate-700 shadow-sm",style:{backgroundImage:`url(${(s==null?void 0:s.photo_url)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s==null?void 0:s.email}`})`}}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-black text-slate-900 dark:text-white uppercase tracking-tight",children:s==null?void 0:s.display_name}),h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:s==null?void 0:s.email})]})]}),h.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px] text-emerald-500",children:"call"}),h.jsxs("span",{className:"text-[10px] font-black text-slate-600 dark:text-slate-400 tracking-widest uppercase",children:["WhatsApp: ",(s==null?void 0:s.phone)||"Belum diatur"]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pilih Aset"}),h.jsxs("select",{name:"item_id",required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold active:ring-2 active:ring-primary/20 transition-all outline-none",children:[h.jsx("option",{value:"",children:"-- Pilih Barang --"}),re==null?void 0:re.map(B=>h.jsx("option",{value:B.item_id,children:B.name},B.item_id))]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Mulai"}),h.jsx("input",{type:"date",name:"start_date",required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Selesai"}),h.jsx("input",{type:"date",name:"end_date",required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Catatan"}),h.jsx("textarea",{name:"notes",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold h-24 outline-none focus:ring-2 focus:ring-primary/20 transition-all",placeholder:"Alasan peminjaman..."})]}),h.jsx("button",{type:"submit",disabled:he.isPending,className:"w-full py-4 bg-primary text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-primary/30 active:scale-95 transition-all disabled:opacity-50",children:he.isPending?"Memproses...":"Kirim Permintaan Booking"})]})}),h.jsx(St,{isOpen:C,onClose:()=>S(!1),title:"Alasan Penolakan",children:h.jsxs("form",{onSubmit:B=>{B.preventDefault();const we=new FormData(B.target).get("reason");if(k){xe.mutate({id:k,status:"REJECTED",rejection_reason:we});const Ke=z==null?void 0:z.find(Le=>Le.res_id===k);Ke&&setTimeout(()=>$(Ke,"REJECTED",we),1e3)}},className:"space-y-4",children:[h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl flex items-start gap-3",children:[h.jsx("span",{className:"material-symbols-outlined text-red-500 mt-0.5",children:"warning"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Anda akan menolak reservasi ini"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Harap berikan alasan yang jelas."})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alasan Penolakan"}),h.jsx("textarea",{name:"reason",required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold h-32 outline-none focus:ring-2 focus:ring-red-500/20 transition-all",placeholder:"Contoh: Barang rusak..."})]}),h.jsx("button",{type:"submit",disabled:xe.isPending,className:"w-full py-4 bg-red-600 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-red-500/30 active:scale-95 transition-all",children:xe.isPending?"Memproses...":"Tolak Reservasi"})]})}),h.jsx(St,{isOpen:j,onClose:()=>O(!1),title:"Edit / Ubah Status Reservasi",children:P&&h.jsxs("form",{onSubmit:B=>{B.preventDefault();const we=new FormData(B.target);K.mutate({id:P.res_id,data:{item_id:we.get("item_id"),start_date:we.get("start_date"),end_date:we.get("end_date"),notes:we.get("notes"),status:we.get("status"),rejection_reason:we.get("rejection_reason")}})},className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),h.jsxs("select",{name:"status",defaultValue:P.status,onChange:B=>{X(we=>({...we,status:B.target.value}))},className:ye("w-full p-4 border-none rounded-xl text-sm font-black uppercase tracking-widest outline-none transition-all",P.status==="PENDING"?"bg-yellow-100 text-yellow-700":P.status==="APPROVED"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"),children:[h.jsx("option",{value:"PENDING",children:"Menunggu"}),h.jsx("option",{value:"APPROVED",children:"Disetujui"}),h.jsx("option",{value:"REJECTED",children:"Ditolak"})]})]}),P.status==="REJECTED"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alasan Penolakan"}),h.jsx("textarea",{name:"rejection_reason",defaultValue:P.rejection_reason,className:"w-full p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-none rounded-xl text-sm font-bold h-24 outline-none focus:ring-2 focus:ring-red-500/20 transition-all placeholder:text-red-300",placeholder:"Alasan penolakan..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pilih Aset"}),h.jsx("select",{name:"item_id",defaultValue:P.item_id,required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold active:ring-2 active:ring-primary/20 transition-all outline-none",children:re==null?void 0:re.map(B=>h.jsx("option",{value:B.item_id,children:B.name},B.item_id))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Mulai"}),h.jsx("input",{type:"date",name:"start_date",defaultValue:new Date(P.start_date).toISOString().split("T")[0],required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Selesai"}),h.jsx("input",{type:"date",name:"end_date",defaultValue:new Date(P.end_date).toISOString().split("T")[0],required:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Catatan"}),h.jsx("textarea",{name:"notes",defaultValue:P.notes,className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-sm font-bold h-24 outline-none focus:ring-2 focus:ring-primary/20 transition-all"})]}),h.jsx("button",{type:"submit",disabled:K.isPending,className:"w-full py-4 bg-primary text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-primary/30 active:scale-95 transition-all disabled:opacity-50",children:K.isPending?"Menyimpan...":"Simpan Perubahan"})]})}),h.jsx(St,{isOpen:A,onClose:()=>N(!1),title:"Hapus Reservasi",children:Y&&h.jsxs("div",{className:"space-y-6 text-center p-4",children:[h.jsx("div",{className:"size-16 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto text-red-500",children:h.jsx("span",{className:"material-symbols-outlined text-3xl",children:"delete"})}),h.jsxs("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:["Reservasi ",h.jsx("span",{className:"text-slate-900 dark:text-white uppercase",children:Y.item.name})," oleh ",Y.user.display_name," akan dihapus permanen."]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("button",{onClick:()=>N(!1),className:"py-3 bg-slate-100 text-slate-500 rounded-xl text-[10px] font-black uppercase tracking-widest",children:"Batal"}),h.jsx("button",{onClick:()=>Ce.mutate(Y.res_id),className:"py-3 bg-red-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-red-500/20",children:"Hapus"})]})]})})]})},l5=()=>{const{data:e}=_t({queryKey:["inventory"],queryFn:async()=>(await je.get("/api/inventory")).data}),{data:t}=_t({queryKey:["transactions"],queryFn:async()=>(await je.get("/api/transactions")).data}),{data:n}=_t({queryKey:["system-settings"],queryFn:async()=>(await je.get("/api/system-settings")).data}),s=n||{company_name:"IODA ACADEMY",pt_name:"PT. TALENTA EDUKASI SEKUMPUL",company_logo:"https://api.dicebear.com/7.x/initials/svg?seed=IA",pic_email:"admin@ioda.id"},o=new Date,l=x=>["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][x],f=`IODA/${String((e||[]).length).padStart(3,"0")}/INV/${l(o.getMonth())}/${o.getFullYear()}`,m=(e||[]).map(x=>{var b;const p=(t||[]).find(C=>C.item_id===x.item_id&&C.type==="OUT"&&C.is_returned===!1&&C.status==="COMPLETED");let w="BAGUS";return x.condition&&(x.condition.toLowerCase()==="broken"||x.condition.toLowerCase()==="rusak")&&(w="RUSAK"),{...x,statusLine:p?"DIPINJAM":"DI STUDIO",pjName:p?((b=p.user)==null?void 0:b.display_name)||"PEMINJAM":"ADMIN (GUDANG)",conditionLine:w}});return h.jsxs("div",{className:"flex-1 bg-slate-50 dark:bg-background-dark min-h-screen",children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:`
                @media print {
                    @page { 
                        size: A4 portrait; 
                        margin: 10mm; 
                    }
                    
                    * {
                        -webkit-print-color-adjust: exact !important;
                        print-color-adjust: exact !important;
                        color-scheme: light !important;
                    }

                    html, body {
                        background: white !important;
                        color: black !important;
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    aside, header, nav, .no-print, button, [role="navigation"], .lg\\:ml-64 {
                        display: none !important;
                    }

                    main, .flex-1 {
                        margin: 0 !important;
                        padding: 0 !important;
                        display: block !important;
                        background: white !important;
                    }

                    .report-wrapper {
                        display: block !important;
                        width: 100% !important;
                        color: black !important;
                        background: white !important;
                        font-family: Arial, sans-serif !important;
                    }

                    .report-wrapper * {
                        color: black !important;
                        background-color: transparent !important;
                    }

                    .report-title {
                        text-align: center;
                        margin-bottom: 25px;
                    }
                    .report-title h1 { 
                        margin: 0; 
                        font-size: 18pt; 
                        font-weight: bold; 
                        text-decoration: underline; 
                        text-transform: uppercase;
                        color: black !important;
                    }
                    .report-title p { 
                        margin: 5px 0; 
                        font-size: 11pt; 
                        font-weight: bold; 
                        color: black !important;
                    }

                    .meta-info {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 20px;
                        font-size: 10pt;
                        border-bottom: 2px solid black;
                        padding-bottom: 10px;
                        color: black !important;
                    }
                    .meta-box { width: 48%; }
                    .meta-row { display: flex; margin-bottom: 4px; }
                    .meta-label { width: 100px; font-weight: bold; }

                    .table-main { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
                    .table-main th, .table-main td { border: 1px solid black !important; padding: 8px; font-size: 10pt; color: black !important; }
                    .table-main th { background: #f0f0f0 !important; -webkit-print-color-adjust: exact; text-transform: uppercase; border: 1px solid black !important; }

                    .sig-section {
                        display: table;
                        width: 100%;
                        margin-top: 50px;
                    }
                    .sig-box {
                        display: table-cell;
                        width: 50%;
                        text-align: center;
                        font-size: 11pt;
                        color: black !important;
                    }
                    .sig-line {
                        margin: 70px auto 5px auto;
                        border-top: 1.5px solid black !important;
                        width: 200px;
                    }
                    .sig-name { font-weight: bold; text-transform: uppercase; color: black !important; }

                    /* Fix for SKU subtext in print */
                    .sku-text { color: #555 !important; font-size: 8pt !important; }
                }

                @media screen {
                    .report-wrapper { display: none; }
                }
            `}}),h.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-10 no-print space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-xl",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase",children:"Reports Analysis"}),h.jsx("p",{className:"text-slate-500 font-bold text-xs mt-1 italic tracking-widest",children:"REAL-TIME INVENTORY TRACKING"})]}),h.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-3 px-10 py-4 bg-primary text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-2xl shadow-primary/30 hover:scale-105 active:scale-95 transition-all",children:[h.jsx("span",{className:"material-symbols-outlined",children:"print"}),"Cetak Laporan PDF"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Total Aset",value:(e==null?void 0:e.length)||0,color:"text-blue-500",icon:"inventory_2"},{label:"Di Studio",value:(e||[]).filter(x=>!(t||[]).some(p=>p.item_id===x.item_id&&!p.is_returned)).length,color:"text-emerald-500",icon:"home"},{label:"Dipinjam",value:(e||[]).filter(x=>(t||[]).some(p=>p.item_id===x.item_id&&!p.is_returned)).length,color:"text-amber-500",icon:"outbound"}].map((x,p)=>h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-soft text-center group hover:border-primary transition-all relative overflow-hidden",children:[h.jsx("div",{className:"absolute -right-2 -bottom-2 opacity-5",children:h.jsx("span",{className:"material-symbols-outlined text-8xl",children:x.icon})}),h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 relative z-10",children:x.label}),h.jsx("p",{className:`text-4xl font-black ${x.color} relative z-10`,children:x.value})]},p))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-soft",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Tren Aktivitas"}),h.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"7 Hari Terakhir"})]}),h.jsx("div",{className:"h-48 flex items-end justify-between gap-2 px-2",children:[40,70,45,90,65,80,50].map((x,p)=>h.jsxs("div",{className:"flex-1 group relative",children:[h.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[9px] font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[Math.round(x/10)," Item"]}),h.jsx("div",{style:{height:`${x}%`},className:"w-full bg-primary/20 group-hover:bg-primary rounded-t-lg transition-all duration-500"}),h.jsx("div",{className:"mt-3 text-[8px] font-black text-slate-400 text-center uppercase",children:["Sen","Sel","Rab","Kam","Jum","Sab","Min"][p]})]},p))})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-soft",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Kapasitas Kategori"}),h.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Top 4"})]}),h.jsx("div",{className:"space-y-5",children:[{name:"Elektronik",p:75,color:"bg-blue-500"},{name:"Kamera",p:45,color:"bg-emerald-500"},{name:"Lensa",p:30,color:"bg-purple-500"},{name:"Aksesoris",p:60,color:"bg-amber-500"}].map((x,p)=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase tracking-wider",children:[h.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:x.name}),h.jsxs("span",{className:"text-slate-900 dark:text-white",children:[x.p,"%"]})]}),h.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:h.jsx("div",{style:{width:`${x.p}%`},className:`h-full ${x.color} rounded-full transition-all duration-1000 shadow-lg`})})]},p))})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] border border-slate-100 dark:border-slate-800 overflow-hidden shadow-soft",children:[h.jsx("div",{className:"p-8 border-b border-slate-50 dark:border-slate-800",children:h.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Status Terkini"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Aset"}),h.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-center",children:"Status"}),h.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"QTY"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:m.map((x,p)=>h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-all",children:[h.jsxs("td",{className:"px-8 py-5",children:[h.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:x.name}),h.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:x.sku})]}),h.jsx("td",{className:"px-8 py-5 text-center",children:h.jsx("span",{className:`text-[10px] font-black px-3 py-1 rounded-md ${x.statusLine==="DI STUDIO"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:x.statusLine})}),h.jsx("td",{className:"px-8 py-5 text-right font-black text-slate-900 dark:text-white",children:x.stock_qty})]},p))})]})})]})]}),h.jsxs("div",{className:"report-wrapper",children:[h.jsxs("div",{className:"report-title",children:[h.jsx("h1",{children:"DATA STATUS INVENTARIS ASSET"}),h.jsxs("p",{children:["Nomor: ",f]})]}),h.jsxs("div",{className:"meta-info",children:[h.jsxs("div",{className:"meta-box",children:[h.jsxs("div",{className:"meta-row",children:[h.jsx("span",{className:"meta-label",children:"ID Perusahaan"}),": ",h.jsx("span",{children:s.pt_name})]}),h.jsxs("div",{className:"meta-row",children:[h.jsx("span",{className:"meta-label",children:"Admin PIC"}),": ",h.jsx("span",{children:s.pic_email})]})]}),h.jsxs("div",{className:"meta-box",style:{textAlign:"right"},children:[h.jsxs("div",{className:"meta-row",style:{justifyContent:"flex-end"},children:[h.jsx("span",{className:"meta-label",children:"Tgl Terbit"}),": ",h.jsx("span",{children:o.toLocaleDateString("id-ID")})]}),h.jsxs("div",{className:"meta-row",style:{justifyContent:"flex-end"},children:[h.jsx("span",{className:"meta-label",children:"Waktu"}),": ",h.jsxs("span",{children:[o.toLocaleTimeString("id-ID")," WIB"]})]})]})]}),h.jsxs("table",{className:"table-main",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{width:"40px",textAlign:"center"},children:"No"}),h.jsx("th",{children:"Deskripsi Item / Aset"}),h.jsx("th",{style:{width:"60px",textAlign:"center"},children:"QTY"}),h.jsx("th",{style:{width:"100px",textAlign:"center"},children:"Status"}),h.jsx("th",{style:{width:"100px",textAlign:"center"},children:"Kondisi"}),h.jsx("th",{style:{width:"180px",textAlign:"center"},children:"PJ Saat Ini"})]})}),h.jsx("tbody",{children:m.map((x,p)=>h.jsxs("tr",{children:[h.jsx("td",{style:{textAlign:"center"},children:p+1}),h.jsxs("td",{children:[h.jsx("div",{style:{fontWeight:"bold"},children:x.name}),h.jsxs("div",{className:"sku-text",style:{fontSize:"8pt",color:"#666"},children:["SKU: ",x.sku]})]}),h.jsx("td",{style:{textAlign:"center",fontWeight:"bold"},children:x.stock_qty}),h.jsx("td",{style:{textAlign:"center",fontWeight:"bold"},children:x.statusLine}),h.jsx("td",{style:{textAlign:"center"},children:x.conditionLine}),h.jsx("td",{style:{textAlign:"center"},children:x.pjName})]},x.item_id||p))})]}),h.jsxs("div",{className:"sig-section",children:[h.jsxs("div",{className:"sig-box",children:[h.jsx("p",{children:"Dibuat Oleh,"}),h.jsx("div",{className:"sig-line"}),h.jsx("p",{className:"sig-name",children:"Admin Inventaris"})]}),h.jsxs("div",{className:"sig-box",children:[h.jsx("p",{children:"Disetujui Oleh,"}),h.jsx("div",{className:"sig-line"}),h.jsx("p",{className:"sig-name",children:"HR / CEO"})]})]})]})]})},c5=()=>{const{user:e,loginWithGoogle:t,refreshUser:n}=vs(),{theme:s,toggleTheme:o}=J1(),l=No(),[f,m]=L.useState(!1),[x,p]=L.useState(""),[w,b]=L.useState("staff"),[C,S]=L.useState(!1),[k,_]=L.useState(null),[j,O]=L.useState(!1),[A,N]=L.useState(""),[P,X]=L.useState(!1),[Y,V]=L.useState(!1),[z,H]=L.useState({displayName:(e==null?void 0:e.display_name)||"",photoUrl:(e==null?void 0:e.photo_url)||"",phone:(e==null?void 0:e.phone)||""}),re=[{label:"B2B",seed:"B2B",id:"b2b",url:"https://api.dicebear.com/7.x/bottts/svg?seed=B2B"},{label:"B2C",seed:"B2C",id:"b2c",url:"https://api.dicebear.com/7.x/bottts/svg?seed=B2C"},{label:"Learning",seed:"Learning",id:"learning",url:"https://api.dicebear.com/7.x/bottts/svg?seed=Learning"},{label:"Intern",seed:"Intern",id:"intern",url:"https://api.dicebear.com/7.x/bottts/svg?seed=Intern"},{label:"Admin",seed:"Admin",id:"admin",url:"https://api.dicebear.com/7.x/bottts/svg?seed=Admin"},{label:"Viewer",seed:"Viewer",id:"viewer",url:"https://api.dicebear.com/7.x/bottts/svg?seed=Viewer"}],{data:de}=_t({queryKey:["users"],queryFn:async()=>(await je.get("/api/users")).data}),{data:se}=_t({queryKey:["system-settings"],queryFn:async()=>(await je.get("/api/system-settings")).data}),[J,he]=L.useState({});L.useEffect(()=>{se&&he(se)},[se]);const K=Qt({mutationFn:async $=>(await je.put("/api/system-settings",$)).data,onSuccess:()=>{l.invalidateQueries(["system-settings"]),alert("Pengaturan sistem berhasil diperbarui!")}}),Ce=async $=>{const Ne=$.target.files[0];if(!Ne)return;const q=new FormData;q.append("logo",Ne);try{O(!0);const Ee=await je.post("/api/upload",q,{headers:{"Content-Type":"multipart/form-data"}});he({...J,company_logo:Ee.data.url})}catch(Ee){alert("Gagal mengunggah logo: "+Ee.message)}finally{O(!1)}},xe=async $=>{const Ne=$.target.files[0];if(!Ne)return;const q=new FormData;q.append("image",Ne);try{O(!0);const Ee=await je.post("/api/upload-profile",q,{headers:{"Content-Type":"multipart/form-data"}});H({...z,photoUrl:Ee.data.url})}catch(Ee){alert("Gagal mengunggah foto profil: "+Ee.message)}finally{O(!1)}},oe=Qt({mutationFn:async({userId:$,role:Ne})=>je.put(`/api/users/${$}/role`,{role:Ne}),onSuccess:()=>l.invalidateQueries(["users"])}),me=Qt({mutationFn:async $=>je.post("/api/users",$),onSuccess:()=>{l.invalidateQueries(["users"]),m(!1),p(""),N("")}}),ye=Qt({mutationFn:async $=>je.delete(`/api/users/${$}`),onSuccess:()=>{l.invalidateQueries(["users"]),S(!1),_(null)},onError:$=>{var Ne,q;alert(`Gagal menghapus user: ${((q=(Ne=$.response)==null?void 0:Ne.data)==null?void 0:q.error)||$.message}`)}}),ge=Qt({mutationFn:async $=>je.put(`/api/users/${e.user_id}/profile`,$),onSuccess:()=>{l.invalidateQueries(["users"]),n(),X(!1),alert("Profil berhasil diperbaharui!")}});return h.jsx("div",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark transition-colors duration-300",children:h.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-20 lg:pb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Pengaturan Sistem"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Lengkapi identitas perusahaan dan automasi pesan WhatsApp."})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl p-6 border border-slate-100 dark:border-slate-800 shadow-soft text-center",children:[h.jsx("img",{src:(e==null?void 0:e.photo_url)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix",className:"size-20 rounded-full mx-auto border-4 border-white dark:border-slate-800 shadow-lg mb-4 object-cover"}),h.jsx("p",{className:"text-lg font-black text-slate-900 dark:text-white truncate",children:e==null?void 0:e.display_name}),h.jsx("p",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-widest mb-4",children:e==null?void 0:e.role}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-[9px] text-slate-400 italic mb-2",children:e==null?void 0:e.email}),h.jsx("button",{onClick:()=>{H({displayName:e.display_name,photoUrl:e.photo_url||"",phone:e.phone||""}),X(!0)},className:"w-full py-2 bg-slate-50 dark:bg-background-dark rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-primary transition-all border border-transparent hover:border-primary/20",children:"Ubah Akun"}),h.jsx("button",{onClick:t,className:"w-full py-2 bg-slate-50/50 dark:bg-background-dark/50 rounded-xl text-[9px] font-bold uppercase tracking-widest text-slate-400 hover:text-primary transition-all",children:"Ganti Akun Google"})]})]}),h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl p-6 border border-slate-100 dark:border-slate-800 shadow-soft",children:[h.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4 text-center",children:"Konfigurasi"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-background-dark rounded-xl group hover:ring-1 hover:ring-primary/20 transition-all",children:[h.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Mode Gelap"}),h.jsx("div",{className:`w-10 h-6 rounded-full relative transition-all ${s==="dark"?"bg-primary":"bg-slate-300"}`,children:h.jsx("div",{className:`absolute top-1 size-4 bg-white rounded-full transition-all ${s==="dark"?"left-5":"left-1"}`})})]}),(e==null?void 0:e.role)==="admin"&&h.jsxs("button",{onClick:()=>V(!0),className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-background-dark rounded-xl group hover:ring-1 hover:ring-primary/20 transition-all text-xs font-bold text-slate-600 dark:text-slate-300",children:[h.jsx("span",{children:"Edit Pesan WA Notifikasi"}),h.jsx("span",{className:"material-symbols-outlined text-lg opacity-50",children:"chevron_right"})]})]})]}),(e==null?void 0:e.role)==="admin"&&h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden hidden lg:block",children:[h.jsxs("div",{className:"p-4 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-[10px] font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Pengelola Akses"}),h.jsx("button",{onClick:()=>m(!0),className:"p-1 px-2 bg-primary/10 text-primary hover:bg-primary hover:text-white rounded-md text-[8px] font-black uppercase transition-all",children:"Add"})]}),h.jsx("div",{className:"p-2 space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar",children:de==null?void 0:de.map($=>h.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 dark:bg-background-dark/30 rounded-xl gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h.jsx("img",{src:$.photo_url||`https://api.dicebear.com/7.x/initials/svg?seed=${$.email}`,className:"size-6 rounded-full border border-white shrink-0",alt:"avatar"}),h.jsxs("div",{className:"min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[h.jsx("p",{className:"text-[9px] font-black text-slate-900 dark:text-white truncate",children:$.display_name||$.email.split("@")[0]}),$.phone&&h.jsx("a",{href:`https://wa.me/${$.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-500 hover:scale-110 transition-transform flex items-center shrink-0",children:h.jsx("span",{className:"material-symbols-outlined text-[12px] font-black",children:"call"})})]}),h.jsx("p",{className:"text-[7.5px] text-slate-500 font-medium truncate opacity-60",children:$.email})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsxs("select",{value:$.role,onChange:Ne=>oe.mutate({userId:$.user_id,role:Ne.target.value}),className:"bg-white dark:bg-slate-800 text-[8px] font-black uppercase p-0.5 rounded outline-none w-16",children:[h.jsx("option",{value:"admin",children:"Adm"}),h.jsx("option",{value:"staff",children:"Stf"}),h.jsx("option",{value:"viewer",children:"Vwr"}),h.jsx("option",{value:"none",children:"Susp"})]}),h.jsx("button",{onClick:()=>{_($),S(!0)},className:"text-red-300 hover:text-red-500 transition-colors shrink-0",children:h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"cancel"})})]})]},$.user_id))})]})]}),h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[(e==null?void 0:e.role)==="admin"&&h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden mb-6",children:[h.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Latar Belakang Login"}),h.jsx("button",{onClick:()=>K.mutate(J),disabled:K.isPending,className:"px-6 py-2 bg-primary text-white text-[10px] font-black uppercase rounded-lg shadow-xl shadow-primary/20 hover:scale-105 transition-all disabled:opacity-50",children:K.isPending?"Menyimpan...":"Simpan"})]}),h.jsx("div",{className:"p-8",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"aspect-video bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 relative group",children:[J.login_bg_video_url?h.jsx("video",{src:J.login_bg_video_url,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"movie"})}),h.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[h.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-white text-slate-900 rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:["Ganti Video",h.jsx("input",{type:"file",className:"hidden",accept:"video/mp4,video/quicktime",onChange:async $=>{const Ne=$.target.files[0];if(!Ne)return;const q=new FormData;q.append("video",Ne);try{O(!0);const Ee=await je.post("/api/upload-video",q),ie={...J,login_bg_video_url:Ee.data.url};he(ie),K.mutate(ie)}catch(Ee){alert("Gagal upload video: "+Ee.message)}finally{O(!1)}}})]}),J.login_bg_video_url&&h.jsx("button",{onClick:()=>{const $={...J,login_bg_video_url:null};he($),K.mutate($)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"Hapus"})]})]}),h.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Format: MP4, MOV. Disarankan rasio 16:9, max 10MB."})]})})]}),h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden mb-6",children:[h.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Logo Login"}),h.jsx("button",{onClick:()=>K.mutate(J),disabled:K.isPending,className:"px-6 py-2 bg-primary text-white text-[10px] font-black uppercase rounded-lg shadow-xl shadow-primary/20 hover:scale-105 transition-all disabled:opacity-50",children:K.isPending?"Menyimpan...":"Simpan"})]}),h.jsx("div",{className:"p-8",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"aspect-square max-w-[200px] mx-auto bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 relative group",children:[J.login_logo?h.jsx("img",{src:J.login_logo,alt:"Login Logo",className:"w-full h-full object-contain p-4"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"image"})}),h.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[h.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-white text-slate-900 rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:["Ganti Logo",h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async $=>{const Ne=$.target.files[0];if(!Ne)return;const q=new FormData;q.append("logo",Ne);try{O(!0);const Ee=await je.post("/api/upload",q),ie={...J,login_logo:Ee.data.url};he(ie),K.mutate(ie)}catch(Ee){alert("Gagal upload logo: "+Ee.message)}finally{O(!1)}}})]}),J.login_logo&&h.jsx("button",{onClick:()=>{const $={...J,login_logo:null};he($),K.mutate($)},className:"px-4 py-2 bg-red-500 text-white rounded-lg text-xs font-bold hover:scale-105 transition-transform",children:"Hapus"})]})]}),h.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Logo untuk halaman login. Format: PNG, JPG, SVG. Disarankan rasio 1:1."})]})})]}),h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Informasi Perusahaan"}),h.jsx("button",{onClick:()=>K.mutate(J),disabled:K.isPending,className:"px-6 py-2 bg-primary text-white text-[10px] font-black uppercase rounded-lg shadow-xl shadow-primary/20 hover:scale-105 transition-all",children:"Simpan Perubahan"})]}),h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 p-4 bg-slate-50 dark:bg-background-dark/50 rounded-2xl border border-dashed border-slate-200 dark:border-slate-800",children:[h.jsx("div",{className:"size-20 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 flex items-center justify-center overflow-hidden shrink-0",children:J.company_logo?h.jsx("img",{src:J.company_logo,className:"w-full h-full object-contain"}):h.jsx("span",{className:"material-symbols-outlined text-3xl text-slate-300",children:"image"})}),h.jsxs("div",{className:"flex-1 space-y-2 text-center sm:text-left",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Logo Perusahaan"}),h.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:[h.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-[10px] font-black uppercase tracking-widest hover:border-primary transition-all",children:[j?"Mengunggah...":"Pilih Logo",h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ce,disabled:j})]}),h.jsx("input",{type:"text",placeholder:"Atau masukkan URL gambar...",value:J.company_logo||"",onChange:$=>he({...J,company_logo:$.target.value}),className:"flex-1 min-w-[200px] bg-transparent border-none text-[10px] font-bold outline-none text-slate-400"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nama Perusahaan (Brand)"}),h.jsx("input",{value:J.company_name||"",onChange:$=>he({...J,company_name:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nama PT (Legal Entity)"}),h.jsx("input",{value:J.pt_name||"",onChange:$=>he({...J,pt_name:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"PIC Email"}),h.jsx("input",{value:J.pic_email||"",onChange:$=>he({...J,pic_email:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"WhatsApp Perusahaan"}),h.jsx("input",{value:J.company_phone||"",onChange:$=>he({...J,company_phone:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white"})]}),h.jsxs("div",{className:"space-y-1 md:col-span-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Alamat Kantor/Gudang"}),h.jsx("textarea",{value:J.company_address||"",onChange:$=>he({...J,company_address:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white h-20 resize-none"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Format No. Surat"}),h.jsx("input",{value:J.report_number_format||"",onChange:$=>he({...J,report_number_format:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/40 focus:bg-white dark:focus:bg-slate-800 transition-all text-slate-900 dark:text-white"})]})]})]})]})]}),h.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden lg:hidden",children:[h.jsxs("div",{className:"p-6 border-b border-slate-50 dark:border-slate-800 flex justify-between items-center",children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-widest",children:"Pengelola Akses"}),h.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-primary/10 text-primary hover:bg-primary hover:text-white rounded-lg text-[10px] font-black uppercase transition-all",children:"Tambah User"})]}),h.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:de==null?void 0:de.map($=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-background-dark/50 rounded-2xl",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:$.photo_url||`https://api.dicebear.com/7.x/initials/svg?seed=${$.email}`,className:"size-8 rounded-full border border-white"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-[11px] font-black text-slate-900 dark:text-white truncate",children:$.display_name||$.email.split("@")[0]}),$.phone&&h.jsxs("a",{href:`https://wa.me/${$.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-0.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 rounded-full",children:[h.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"call"}),h.jsx("span",{className:"text-[8px] font-bold",children:$.phone})]})]}),h.jsx("p",{className:"text-[9px] text-slate-500 font-medium truncate italic",children:$.email})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{value:$.role,onChange:Ne=>oe.mutate({userId:$.user_id,role:Ne.target.value}),className:"bg-white dark:bg-slate-800 text-[9px] font-black uppercase p-1 rounded outline-none",children:[h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"staff",children:"Staff"}),h.jsx("option",{value:"viewer",children:"Viewer"}),h.jsx("option",{value:"none",children:"Suspended"})]}),h.jsx("button",{onClick:()=>{_($),S(!0)},className:"text-slate-300 hover:text-red-500 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"close"})})]})]},$.user_id))})]})]})]}),h.jsx(St,{isOpen:f,onClose:()=>m(!1),title:"Undang User",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsx("input",{type:"email",placeholder:"Email Google User",className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark rounded-xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800",value:x,onChange:$=>p($.target.value)}),h.jsx("input",{type:"text",placeholder:"Nomor WhatsApp (Contoh: 62812...)",className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark rounded-xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800",value:A,onChange:$=>N($.target.value)}),h.jsx("button",{onClick:()=>me.mutate({email:x,phone:A,role:w,display_name:x.split("@")[0]}),className:"w-full py-4 bg-primary text-white rounded-xl text-[10px] font-black uppercase shadow-xl shadow-primary/30",children:"Tambah Akses"})]})}),h.jsx(St,{isOpen:C,onClose:()=>S(!1),title:"Hapus Akses",children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-6 px-4 leading-relaxed",children:["Konfirmasi hapus akses permanen untuk ",h.jsx("span",{className:"text-slate-900 dark:text-white font-black italic",children:(k==null?void 0:k.display_name)||(k==null?void 0:k.email)}),"?"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 bg-slate-50 text-slate-500 rounded-xl text-[10px] font-black uppercase",children:"Batal"}),h.jsx("button",{onClick:()=>ye.mutate(k.user_id),className:"flex-1 py-3 bg-red-500 text-white rounded-xl text-[10px] font-black uppercase shadow-lg shadow-red-500/20",children:"Ya, Hapus"})]})]})}),h.jsx(St,{isOpen:Y,onClose:()=>V(!1),title:"Edit Pesan WA Notifikasi",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest text-center italic",children:"Berikan notifikasi yang jelas dengan bahasa yang ramah"}),h.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[{key:"wa_confirm_borrow",label:"Konfirmasi Pinjam"},{key:"wa_confirm_return",label:"Konfirmasi Kembali"},{key:"wa_notify_damage",label:"Laporan Kerusakan"},{key:"wa_notify_loss",label:"Barang Kurang/Hilang"},{key:"wa_notify_overdue",label:"Tagihan Telat Kembali"},{key:"wa_booking_approved",label:"Reservasi Disetujui"},{key:"wa_booking_rejected",label:"Reservasi Ditolak"}].map($=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:$.label}),h.jsx("textarea",{value:J[$.key]||"",onChange:Ne=>he({...J,[$.key]:Ne.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border border-slate-100 dark:border-slate-800 rounded-2xl text-[11px] font-medium outline-none focus:ring-2 focus:ring-primary/20 h-24 resize-none transition-all",placeholder:"Gunakan {name} dan {item} untuk teks dinamis..."})]},$.key))}),h.jsx("button",{onClick:()=>{K.mutate(J),V(!1)},className:"w-full py-4 bg-primary text-white rounded-2xl text-[10px] font-black uppercase shadow-xl shadow-primary/30 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"Simpan Template Pesan"})]})}),h.jsx(St,{isOpen:P,onClose:()=>X(!1),title:"Ubah Akun",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:z.photoUrl,className:"size-24 rounded-full border-4 border-slate-50 shadow-xl object-cover"}),h.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 text-white rounded-full opacity-0 group-hover:opacity-100 cursor-pointer transition-all",children:[h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"photo_camera"}),h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:xe})]})]}),h.jsx("button",{onClick:()=>H({...z,photoUrl:e.photo_url}),className:"text-[10px] font-black text-primary uppercase tracking-widest hover:underline",children:"Sinkronkan dengan Foto Google"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nama Tampilan"}),h.jsx("input",{value:z.displayName,onChange:$=>H({...z,displayName:$.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/20"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nomor WhatsApp"}),h.jsx("input",{value:z.phone,onChange:$=>H({...z,phone:$.target.value}),placeholder:"Contoh: 628123456789",className:"w-full px-4 py-3 bg-slate-50 dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none ring-1 ring-slate-100 dark:ring-slate-800 focus:ring-primary/20"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Pilih Avatar Sesuai Role"}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:re.map($=>h.jsxs("button",{onClick:()=>H({...z,photoUrl:$.url}),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${z.photoUrl===$.url?"border-primary bg-primary/5":"border-slate-50 dark:border-slate-800"}`,children:[h.jsx("img",{src:$.url,className:"size-10 rounded-full"}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-tighter",children:$.label})]},$.id))})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Custom Photo URL"}),h.jsx("input",{value:z.photoUrl,onChange:$=>H({...z,photoUrl:$.target.value}),placeholder:"https://...",className:"w-full px-4 py-2 bg-slate-50 dark:bg-background-dark border-none rounded-xl text-[10px] font-medium outline-none opacity-60"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Password Default (System)"}),h.jsx("input",{type:"password",value:"********",readOnly:!0,className:"w-full px-4 py-3 bg-slate-100 dark:bg-slate-800 border-none rounded-2xl text-xs font-bold outline-none cursor-not-allowed opacity-50"}),h.jsx("p",{className:"text-[8px] text-slate-400 italic mt-1 ml-1",children:"*Login utama tetap menggunakan Google Auth demi keamanan."})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-4 bg-slate-50 text-slate-500 rounded-2xl text-[10px] font-black uppercase",children:"Batal"}),h.jsx("button",{onClick:()=>ge.mutate({display_name:z.displayName,photo_url:z.photoUrl,phone:z.phone}),className:"flex-1 py-4 bg-primary text-white rounded-2xl text-[10px] font-black uppercase shadow-xl shadow-primary/30",children:"Simpan Profil"})]})]})})]})})};class u5{constructor(){this.audioContext=null,this.initialized=!1}init(){if(!this.initialized)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.initialized=!0}catch(t){console.warn("Web Audio API not supported:",t)}}playClickSound(t=.3){if(this.initialized||this.init(),!!this.audioContext)try{const n=this.audioContext.createOscillator(),s=this.audioContext.createGain();n.connect(s),s.connect(this.audioContext.destination),n.type="sine",n.frequency.setValueAtTime(800,this.audioContext.currentTime),n.frequency.exponentialRampToValueAtTime(600,this.audioContext.currentTime+.05),s.gain.setValueAtTime(t,this.audioContext.currentTime),s.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.1),n.start(this.audioContext.currentTime),n.stop(this.audioContext.currentTime+.1)}catch(n){console.warn("Error playing click sound:",n)}}playSuccessSound(t=.3){if(this.initialized||this.init(),!!this.audioContext)try{const n=this.audioContext.createOscillator(),s=this.audioContext.createGain();n.connect(s),s.connect(this.audioContext.destination),n.type="sine",n.frequency.setValueAtTime(523.25,this.audioContext.currentTime),n.frequency.setValueAtTime(659.25,this.audioContext.currentTime+.1),s.gain.setValueAtTime(t,this.audioContext.currentTime),s.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.3),n.start(this.audioContext.currentTime),n.stop(this.audioContext.currentTime+.3)}catch(n){console.warn("Error playing success sound:",n)}}playNotificationSound(t=.3){if(this.initialized||this.init(),!!this.audioContext)try{const n=this.audioContext.createOscillator(),s=this.audioContext.createGain();n.connect(s),s.connect(this.audioContext.destination),n.type="triangle",n.frequency.setValueAtTime(1e3,this.audioContext.currentTime),n.frequency.exponentialRampToValueAtTime(1200,this.audioContext.currentTime+.05),n.frequency.exponentialRampToValueAtTime(900,this.audioContext.currentTime+.15),s.gain.setValueAtTime(t,this.audioContext.currentTime),s.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+.2),n.start(this.audioContext.currentTime),n.stop(this.audioContext.currentTime+.2)}catch(n){console.warn("Error playing notification sound:",n)}}}const Zf=new u5,qv=()=>{const e=L.useCallback((s=.3)=>{Zf.playClickSound(s)},[]),t=L.useCallback((s=.3)=>{Zf.playSuccessSound(s)},[]),n=L.useCallback((s=.3)=>{Zf.playNotificationSound(s)},[]);return{playClick:e,playSuccess:t,playNotification:n}},Yv=L.createContext(),Qv=()=>{const e=L.useContext(Yv);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e},d5=({children:e})=>{const[t,n]=L.useState([]),{playSuccess:s,playNotification:o}=qv(),l=L.useCallback((m,x="info",p=4e3)=>{const w=Date.now();x==="success"?s():o(),n(b=>[...b,{id:w,message:m,type:x}]),setTimeout(()=>{n(b=>b.filter(C=>C.id!==w))},p)},[s,o]),f=L.useCallback(m=>{n(x=>x.filter(p=>p.id!==m))},[]);return h.jsxs(Yv.Provider,{value:{showNotification:l},children:[e,h.jsx(f5,{notifications:t,onRemove:f})]})},f5=({notifications:e,onRemove:t})=>h.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:h.jsx(jd,{mode:"popLayout",children:e.map(n=>h.jsx(h5,{notification:n,onRemove:t},n.id))})}),h5=({notification:e,onRemove:t})=>{const{id:n,message:s,type:o}=e,l={success:{icon:xI,bgColor:"bg-green-500",textColor:"text-white",borderColor:"border-green-600"},error:{icon:AI,bgColor:"bg-red-500",textColor:"text-white",borderColor:"border-red-600"},warning:{icon:gI,bgColor:"bg-yellow-500",textColor:"text-white",borderColor:"border-yellow-600"},info:{icon:yI,bgColor:"bg-blue-500",textColor:"text-white",borderColor:"border-blue-600"}},{icon:f,bgColor:m,textColor:x,borderColor:p}=l[o]||l.info;return h.jsxs(Ct.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{duration:.4,ease:[.4,0,.2,1],exit:{duration:.3}},className:`${m} ${x} ${p} border-2 rounded-2xl shadow-2xl backdrop-blur-sm pointer-events-auto min-w-[300px] max-w-md overflow-hidden`,children:[h.jsxs("div",{className:"p-4 flex items-start gap-3",children:[h.jsx(Ct.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,duration:.5,type:"spring"},children:h.jsx(f,{className:"w-6 h-6 flex-shrink-0"})}),h.jsx(Ct.p,{className:"flex-1 text-sm font-medium leading-relaxed",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:s}),h.jsx("button",{onClick:()=>t(n),className:"flex-shrink-0 hover:bg-white/20 rounded-lg p-1 transition-colors",children:h.jsx(Pv,{className:"w-4 h-4"})})]}),h.jsx(Ct.div,{className:"h-1 bg-white/30",initial:{scaleX:1},animate:{scaleX:0},transition:{duration:4,ease:"linear"},style:{transformOrigin:"left"}})]})},p5=()=>{const{user:e}=vs(),{showNotification:t}=Qv(),n=(e==null?void 0:e.role)==="admin",s=No(),[o,l]=L.useState(""),[f,m]=L.useState(!1),[x,p]=L.useState(!1),[w,b]=L.useState("ADD"),[C,S]=L.useState(null),[k,_]=L.useState({}),[j,O]=L.useState(""),[A,N]=L.useState(!1),[P,X]=L.useState(null),[Y,V]=L.useState(!1),[z,H]=L.useState({platform:"",username:"",email:"",password:"",notes:"",authorized_emails:"",url:"",icon_url:"",login_method:"Langsung"}),{data:re}=_t({queryKey:["users"],queryFn:async()=>(await je.get("/api/users")).data,enabled:n}),{data:de,isLoading:se}=_t({queryKey:["shared-accounts"],queryFn:async()=>(await je.get("/api/shared-accounts")).data}),{data:J}=_t({queryKey:["system-settings"],queryFn:async()=>(await je.get("/api/system-settings")).data}),he=Qt({mutationFn:async q=>w==="ADD"?je.post("/api/shared-accounts",q):je.put(`/api/shared-accounts/${C.account_id}`,q),onSuccess:()=>{s.invalidateQueries(["shared-accounts"]),m(!1),H({platform:"",username:"",email:"",password:"",notes:"",authorized_emails:"",url:"",icon_url:"",login_method:"Langsung"}),O(""),t(w==="ADD"?"Akun berhasil ditambahkan!":"Akun berhasil diperbarui!","success")},onError:q=>{var Ee,ie;t(`Gagal menyimpan akun: ${((ie=(Ee=q.response)==null?void 0:Ee.data)==null?void 0:ie.error)||q.message}`,"error")}}),K=Qt({mutationFn:async q=>je.delete(`/api/shared-accounts/${q}`),onSuccess:()=>{s.invalidateQueries(["shared-accounts"]),N(!1),X(null),t("Akun berhasil dihapus!","success")},onError:q=>{var Ee,ie;t(`Gagal menghapus akun: ${((ie=(Ee=q.response)==null?void 0:Ee.data)==null?void 0:ie.error)||q.message}`,"error")}}),Ce=Qt({mutationFn:async q=>je.put("/api/system-settings",{...J,platform_icons:JSON.stringify(q)}),onSuccess:()=>{s.invalidateQueries(["system-settings"]),t("Logo platform berhasil diperbarui!","success")},onError:q=>{t(`Gagal memperbarui logo platform: ${q.message}`,"error")}}),xe=q=>{_(Ee=>({...Ee,[q]:!Ee[q]}))},oe=()=>{b("ADD"),H({platform:"",username:"",email:"",password:"",notes:"",authorized_emails:"",url:"",icon_url:"",login_method:"Langsung"}),O(""),m(!0)},me=q=>{S(q),b("EDIT");const ie=["ChatGPT for Learning","Mayar","Adobe Creative Cloud","Canva Premium","Freepik","Frame.io","Youtube Premium"].includes(q.platform);H({platform:q.platform,username:q.username,email:q.email,password:q.password,notes:q.notes||"",authorized_emails:q.authorized_emails||"",url:q.url||"",icon_url:q.icon_url||"",login_method:q.login_method||"Langsung"}),O(ie?q.platform:"Platform Lainnya"),m(!0)},ye=async q=>{const Ee=q.target.files[0];if(!Ee)return;const ie=new FormData;ie.append("logo",Ee);try{V(!0);const ve=await je.post("/api/upload",ie,{headers:{"Content-Type":"multipart/form-data"}});H(B=>({...B,icon_url:ve.data.url})),t("Ikon berhasil diunggah!","success")}catch(ve){t("Gagal mengunggah ikon: "+ve.message,"error")}finally{V(!1)}},ge=q=>{navigator.clipboard.writeText(q)},$=(de==null?void 0:de.filter(q=>{var we;const Ee=o.toLowerCase(),ie=q.platform.toLowerCase().includes(Ee)||q.email.toLowerCase().includes(Ee)||q.username&&q.username.toLowerCase().includes(Ee);if(n)return ie;const ve=(we=e==null?void 0:e.email)==null?void 0:we.toLowerCase();if(!ve)return!1;const B=q.authorized_emails?q.authorized_emails.split(",").map(Ke=>Ke.trim().toLowerCase()):[];return ie&&B.includes(ve)}))||[],Ne=q=>{if(q.icon_url)return h.jsx("div",{className:"size-full overflow-hidden flex items-center justify-center",children:h.jsx("img",{src:q.icon_url,alt:q.platform,className:"w-full h-full object-cover"})});const Ee=JSON.parse((J==null?void 0:J.platform_icons)||"{}");if(Ee[q.platform])return h.jsx("div",{className:"size-full overflow-hidden flex items-center justify-center",children:h.jsx("img",{src:Ee[q.platform],alt:q.platform,className:"w-full h-full object-cover"})});const ie=q.platform.toLowerCase();let ve="account_circle";return ie.includes("chatgpt")?ve="psychology":ie.includes("adobe")?ve="brush":ie.includes("canva")?ve="design_services":ie.includes("freepik")?ve="image":ie.includes("youtube")?ve="smart_display":ie.includes("frame")?ve="video_library":ie.includes("mayar")&&(ve="payments"),h.jsx("span",{className:"material-symbols-outlined text-2xl",children:ve})};return h.jsxs("div",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark transition-colors duration-300",children:[h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Akun Share Login"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Kelola akses akun premium platform luar ke dalam satu sistem."})]}),n&&h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center gap-2 px-5 py-3 bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-xs font-black hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest active:scale-95 shadow-sm",children:[h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"app_registration"}),"Atur Logo"]}),h.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl text-xs font-black hover:bg-blue-600 shadow-lg shadow-primary/30 transition-all uppercase tracking-widest active:scale-95",children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),"Tambah Akun"]})]})]}),h.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800",children:h.jsxs("div",{className:"relative group",children:[h.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400 group-focus-within:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),h.jsx("input",{type:"text",placeholder:"Cari platform atau email...",value:o,onChange:q=>l(q.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white"})]})}),se?h.jsx("div",{className:"p-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Akun..."}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map((q,Ee)=>h.jsx(Ct.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ee*.1,duration:1.5,ease:[.4,0,.2,1]},className:"bg-white dark:bg-surface-dark rounded-2xl border border-slate-100 dark:border-slate-800 shadow-soft overflow-hidden group hover:shadow-md transition-all border-t-4 border-t-primary",children:h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-12 rounded-xl bg-slate-100 dark:bg-slate-800 text-primary flex items-center justify-center overflow-hidden",children:Ne(q)}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tight",children:q.platform}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase",children:"Aktif"}),h.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-500 rounded uppercase tracking-tighter",children:q.login_method==="Gmail"?"Via Gmail":"Langsung"})]})]})]}),n&&h.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>me(q),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-400 hover:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"edit"})}),h.jsx("button",{onClick:()=>{X(q),N(!0)},className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-slate-400 hover:text-red-500 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"})})]})]}),h.jsxs("div",{className:"space-y-3 pt-2",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Username / Email"}),q.url&&h.jsxs("a",{href:q.url.startsWith("http")?q.url:`https://${q.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-black text-primary hover:text-blue-600 flex items-center gap-1 transition-all",children:["Buka Platform",h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"open_in_new"})]})]}),h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-background-light dark:bg-background-dark/50 rounded-xl border border-slate-50 dark:border-slate-800",children:[h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-white truncate pr-2",children:q.email||q.username}),h.jsx("button",{onClick:()=>ge(q.email||q.username),className:"text-slate-400 hover:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-sm",children:"content_copy"})})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Password"}),h.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-background-light dark:bg-background-dark/50 rounded-xl border border-slate-50 dark:border-slate-800",children:[h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-white",children:n&&k[q.account_id]?q.password:""}),n&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>xe(q.account_id),className:"text-slate-400 hover:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-sm",children:k[q.account_id]?"visibility_off":"visibility"})}),h.jsx("button",{onClick:()=>ge(q.password),className:"text-slate-400 hover:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-sm",children:"content_copy"})})]})]})]})]}),q.notes&&h.jsx("div",{className:"pt-2",children:h.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest italic",children:q.notes})}),q.authorized_emails&&h.jsxs("div",{className:"pt-3 border-t border-slate-50 dark:border-slate-800/50 mt-2",children:[h.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"group"}),"User Berhak:"]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:q.authorized_emails.split(",").map(ie=>h.jsx("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-[8px] font-bold rounded-md border border-slate-200 dark:border-slate-700",children:ie},ie))})]})]})},q.account_id))})]}),h.jsx(St,{isOpen:x,onClose:()=>p(!1),title:"Manajemen Logo Platform",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(JSON.parse((J==null?void 0:J.platform_icons)||"{}")).map(([q,Ee])=>h.jsxs("div",{className:"p-3 bg-background-light dark:bg-background-dark rounded-xl border border-slate-100 dark:border-slate-800 text-center relative group",children:[h.jsx("div",{className:"size-12 rounded-lg bg-white dark:bg-slate-800 mx-auto flex items-center justify-center overflow-hidden mb-2 border border-slate-100 dark:border-slate-700",children:h.jsx("img",{src:Ee,className:"w-full h-full object-contain p-1"})}),h.jsx("p",{className:"text-[9px] font-black text-slate-900 dark:text-white uppercase truncate px-1",children:q}),h.jsx("button",{onClick:()=>{const ie=JSON.parse(J.platform_icons||"{}");delete ie[q],Ce.mutate(ie)},className:"absolute -top-1 -right-1 size-5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center shadow-lg hover:scale-110 active:scale-95 z-20",children:h.jsx("span",{className:"material-symbols-outlined text-[12px] font-black",children:"close"})})]},q))}),h.jsxs("div",{className:"pt-4 border-t border-dashed border-slate-200 dark:border-slate-800",children:[h.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3 text-center",children:"Tambah Logo Baru"}),h.jsxs("div",{className:"flex flex-col gap-3",children:[h.jsx("input",{id:"new-global-platform",placeholder:"Nama Platform (Misal: Netflix)",className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none text-slate-900 dark:text-white"}),h.jsxs("label",{className:"cursor-pointer w-full py-3 bg-primary text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-blue-600 transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"upload"}),Y?"Uploading...":"Upload Logo Platform",h.jsx("input",{type:"file",className:"hidden",accept:"image/*",disabled:Y,onChange:async q=>{if(!platform){t("Masukkan nama platform dulu!","warning");return}const Ee=q.target.files[0];if(!Ee)return;const ie=new FormData;ie.append("logo",Ee);try{V(!0);const ve=await je.post("/api/upload",ie),B=JSON.parse(J.platform_icons||"{}");B[platform]=ve.data.url,Ce.mutate(B),document.getElementById("new-global-platform").value=""}catch(ve){t("Gagal: "+ve.message,"error")}finally{V(!1)}}})]})]})]})]})}),h.jsxs(St,{isOpen:f,onClose:()=>m(!1),title:w==="ADD"?"Tambah Akun Share":"Edit Akun",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[h.jsxs("div",{className:"space-y-7",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Platform"}),h.jsxs("select",{value:j,onChange:q=>{O(q.target.value),q.target.value!=="Platform Lainnya"?H({...z,platform:q.target.value}):H({...z,platform:""})},className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",children:[h.jsx("option",{value:"",children:"Pilih Platform..."}),h.jsx("option",{children:"ChatGPT for Learning"}),h.jsx("option",{children:"Mayar"}),h.jsx("option",{children:"Adobe Creative Cloud"}),h.jsx("option",{children:"Canva Premium"}),h.jsx("option",{children:"Freepik"}),h.jsx("option",{children:"Frame.io"}),h.jsx("option",{children:"Youtube Premium"}),(J==null?void 0:J.platform_icons)&&Object.keys(JSON.parse(J.platform_icons)).map(q=>h.jsx("option",{value:q,children:q},q)),h.jsx("option",{children:"Platform Lainnya"})]})]}),j==="Platform Lainnya"&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Nama Platform Kustom"}),h.jsx("input",{type:"text",value:z.platform,placeholder:"Misal: Netflix",className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",onChange:q=>H({...z,platform:q.target.value})})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Opsi Login Platform"}),h.jsxs("select",{value:z.login_method,onChange:q=>H({...z,login_method:q.target.value}),className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",children:[h.jsx("option",{value:"Langsung",children:"Langsung (Email & Password)"}),h.jsx("option",{value:"Gmail",children:"Melalui Akun Gmail"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Platform Logo"}),h.jsxs("div",{className:"flex items-center gap-4 p-4 bg-background-light dark:bg-background-dark rounded-2xl border border-dashed border-slate-200 dark:border-slate-800",children:[h.jsx("div",{className:"size-16 rounded-xl bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center overflow-hidden shrink-0",children:z.icon_url?h.jsx("img",{src:z.icon_url,className:"w-full h-full object-contain p-1"}):h.jsx("span",{className:"material-symbols-outlined text-2xl text-slate-300",children:"image"})}),h.jsx("div",{className:"flex-1 w-full space-y-2",children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"cursor-pointer w-full text-center py-2 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-lg text-[9px] font-black uppercase tracking-widest hover:border-primary transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:Y?"sync":"upload"}),Y?"...":"Upload",h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ye,disabled:Y})]}),h.jsx("input",{type:"text",placeholder:"Atau URL...",value:z.icon_url,onChange:q=>H({...z,icon_url:q.target.value}),className:"w-full bg-transparent border-none text-[9px] font-bold outline-none text-slate-400 placeholder:text-slate-500 text-center"})]})})]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"URL Platform (Opsional)"}),h.jsx("input",{type:"text",value:z.url,onChange:q=>H({...z,url:q.target.value}),className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"https://..."})]})]}),h.jsxs("div",{className:"space-y-7",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Username / Email"}),h.jsx("input",{type:"text",value:z.email,onChange:q=>H({...z,email:q.target.value}),className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:"email@example.com"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Password"}),h.jsx("input",{type:"text",value:z.password,onChange:q=>H({...z,password:q.target.value}),className:"w-full px-4 py-3 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white",placeholder:""})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Catatan Keamanan (Opsional)"}),h.jsx("textarea",{value:z.notes,onChange:q=>H({...z,notes:q.target.value}),className:"w-full px-4 py-2 bg-background-light dark:bg-background-dark border-none rounded-2xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white min-h-[60px]",placeholder:"Catatan khusus..."})]}),n&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Hak Akses User"}),h.jsx("div",{className:"max-h-[120px] overflow-y-auto p-3 bg-background-light dark:bg-background-dark rounded-2xl border border-dashed border-slate-200 dark:border-slate-800 space-y-2",children:re==null?void 0:re.filter(q=>q.email).map(q=>{var Ee;return h.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-white dark:hover:bg-surface-dark rounded-xl cursor-pointer transition-colors group",children:[h.jsx("input",{type:"checkbox",checked:(Ee=z.authorized_emails)==null?void 0:Ee.split(",").includes(q.email),onChange:ie=>{const ve=z.authorized_emails?z.authorized_emails.split(",").filter(B=>B):[];ie.target.checked?H({...z,authorized_emails:[...new Set([...ve,q.email])].join(",")}):H({...z,authorized_emails:ve.filter(B=>B!==q.email).join(",")})},className:"size-4 rounded border-slate-300 text-primary focus:ring-primary"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[11px] font-bold text-slate-700 dark:text-white group-hover:text-primary transition-colors",children:q.display_name||"Tanpa Nama"}),h.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:q.email})]})]},q.user_id)})})]})]})]}),h.jsx("div",{className:"pt-8",children:h.jsx("button",{onClick:()=>he.mutate(z),disabled:he.isPending||!z.platform||!z.email||!z.password,className:"w-full py-4 bg-primary text-white rounded-2xl text-sm font-black uppercase tracking-widest shadow-xl shadow-primary/30 transition-all hover:scale-[1.02] active:scale-95 disabled:opacity-50",children:he.isPending?"Menyimpan...":w==="ADD"?"Tambah Akun":"Simpan Perubahan"})})]}),h.jsx(St,{isOpen:A,onClose:()=>N(!1),title:"Konfirmasi Hapus",children:h.jsxs("div",{className:"space-y-4 p-2",children:[h.jsx("div",{className:"size-16 rounded-full bg-red-50 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"material-symbols-outlined text-red-500 text-3xl",children:"delete_forever"})}),h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-tight",children:"Hapus Akun Platform?"}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium px-4",children:["Tindakan ini akan menghapus akses akun ",h.jsx("span",{className:"font-black text-slate-800 dark:text-slate-200",children:P==null?void 0:P.platform})," secara permanen dari sistem."]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Batal"}),h.jsx("button",{onClick:()=>K.mutate(P.account_id),disabled:K.isPending,className:"flex-1 py-3 bg-red-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-red-500/30 hover:bg-red-600 active:scale-95 transition-all flex items-center justify-center gap-2",children:K.isPending?"Menghapus...":"Hapus Sekarang"})]})]})})]})},m5=()=>{const[e,t]=L.useState(""),{data:n,isLoading:s}=_t({queryKey:["users"],queryFn:async()=>(await je.get("/api/users")).data}),{data:o}=_t({queryKey:["transactions"],queryFn:async()=>(await je.get("/api/transactions")).data}),l=m=>{const x=(o==null?void 0:o.filter(b=>b.user_id===m))||[],p=x.filter(b=>b.type==="OUT").reduce((b,C)=>b+Math.abs(C.qty_change),0),w=x.filter(b=>b.type==="OUT"&&!b.is_returned).reduce((b,C)=>b+Math.abs(C.qty_change),0);return{totalBorrowed:p,activeLoans:w}},f=(n==null?void 0:n.filter(m=>{var x,p;return((x=m.display_name)==null?void 0:x.toLowerCase().includes(e.toLowerCase()))||((p=m.email)==null?void 0:p.toLowerCase().includes(e.toLowerCase()))}))||[];return h.jsx("div",{className:"flex-1 p-6 lg:p-8 bg-background-light dark:bg-background-dark transition-colors duration-300",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20 lg:pb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight uppercase",children:"Daftar Peminjam"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Data staf dan siswa yang terdaftar dalam sistem."})]}),h.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800",children:h.jsxs("div",{className:"relative group",children:[h.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400 group-focus-within:text-primary transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),h.jsx("input",{type:"text",placeholder:"Cari peminjam berdasarkan nama atau email...",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-background-light dark:bg-background-dark border-none rounded-xl text-xs font-bold outline-none focus:ring-2 focus:ring-primary/20 text-slate-900 dark:text-white transition-all"})]})}),h.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-slate-100 dark:border-slate-800 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/40 text-[10px] uppercase font-bold tracking-widest text-slate-500 dark:text-slate-400",children:[h.jsx("th",{className:"px-6 py-4",children:"Profil"}),h.jsx("th",{className:"px-6 py-4",children:"Email"}),h.jsx("th",{className:"px-6 py-4",children:"Status Akun"}),h.jsx("th",{className:"px-6 py-4",children:"Barang Aktif"}),h.jsx("th",{className:"px-6 py-4",children:"Total Pinjam"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:s?h.jsx("tr",{children:h.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Memuat Data Peminjam..."})}):f.map((m,x)=>{const p=l(m.user_id);return h.jsxs(Ct.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.03},className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors group",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-10 rounded-full bg-cover bg-center border border-white dark:border-slate-700 shadow-sm",style:{backgroundImage:`url(${m.photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${m.email}`})`}}),h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-tight",children:m.display_name})]})}),h.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:m.email}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2.5 py-1 text-[10px] font-black uppercase tracking-widest rounded-full border ${m.role==="admin"?"bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-slate-50 text-slate-500 border-slate-100 dark:bg-slate-800/50 dark:text-slate-400 dark:border-slate-700"}`,children:m.role==="admin"?"Administrator":"Staf Ioda"})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest px-2 py-0.5 rounded-lg ${p.activeLoans>0?"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400":"text-slate-400"}`,children:[p.activeLoans," Barang"]})})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white",children:p.totalBorrowed})})]},m.user_id)})})]})})})]})})},g5=()=>{const[e,t]=L.useState(""),[n,s]=L.useState(""),[o,l]=L.useState(!1),[f,m]=L.useState(!1),[x,p]=L.useState(!1),{login:w,loginWithGoogle:b}=vs(),C=xi(),{playClick:S,playSuccess:k}=qv(),{showNotification:_}=Qv(),{data:j,isLoading:O}=_t({queryKey:["system-settings"],queryFn:async()=>(await je.get("/api/system-settings")).data}),A=async P=>{P.preventDefault(),S(),l(!0),(await w(e,n)).success?(k(),m(!0),setTimeout(()=>{p(!0);const Y=2e3+Math.random()*2e3;setTimeout(()=>{C("/")},Y)},1500)):l(!1)},N=async()=>{S();const P=await b();P.success?(k(),m(!0),setTimeout(()=>{p(!0);const X=2e3+Math.random()*2e3;setTimeout(()=>{C("/")},X)},1500)):P.error&&_("Login gagal: "+P.error,"error")};return x?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsx(Ct.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:[.4,0,.2,1]},children:h.jsx(T0,{size:"large"})})}):O?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsx(T0,{size:"large"})}):h.jsxs(Ct.div,{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 relative overflow-hidden",animate:f?{scale:1.5,opacity:0}:{scale:1,opacity:1},transition:{duration:1.5,ease:[.4,0,.2,1]},children:[j!=null&&j.login_bg_video_url?h.jsx("video",{src:j.login_bg_video_url,autoPlay:!0,loop:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover z-0"}):h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-fixed z-0 bg-slate-50 dark:bg-slate-950"}),(j==null?void 0:j.login_bg_video_url)&&h.jsx("div",{className:"absolute inset-0 bg-black/40 z-0"}),h.jsx(Ct.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white/10 dark:bg-black/30 backdrop-blur-md rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/20 dark:border-white/10 z-10 relative",children:h.jsxs("div",{className:"p-10 flex flex-col items-center",children:[h.jsx("div",{className:"w-20 h-20 bg-white/10 rounded-full flex items-center justify-center mb-8 relative border border-white/20 overflow-hidden",children:j!=null&&j.login_logo?h.jsx("img",{src:j.login_logo,alt:"Logo",className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-blue-500 to-indigo-500 rounded-full flex items-center justify-center text-white shadow-xl relative z-10",children:h.jsx(bI,{className:"w-6 h-6"})})}),h.jsx("h1",{className:"text-3xl font-extrabold text-white mb-2 text-center",children:(j==null?void 0:j.company_name)||"Inventory Sync"}),h.jsxs("p",{className:"text-slate-200 text-sm text-center mb-10 leading-relaxed font-medium",children:["Welcome back. Please log in to manage ",h.jsx("br",{})," your inventory anywhere."]}),h.jsxs("button",{onClick:N,disabled:o||f,className:"w-full flex items-center justify-center gap-3 py-4 border border-white/10 bg-white/5 hover:bg-white/10 rounded-2xl text-sm font-bold text-white transition-all mb-8 backdrop-blur-sm hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("div",{className:"w-6 h-6 bg-white rounded-lg shadow-sm flex items-center justify-center",children:h.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),"Continue with Google (Secure)"]}),h.jsxs("div",{className:"w-full flex items-center gap-4 mb-8",children:[h.jsx("div",{className:"flex-1 h-px bg-white/20"}),h.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest whitespace-nowrap",children:"Or sign in with email"}),h.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),h.jsxs("form",{onSubmit:A,className:"w-full space-y-5",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-slate-300 ml-1",children:"Email"}),h.jsxs("div",{className:"relative group",children:[h.jsx(vI,{className:"w-4 h-4 absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-400 transition-colors"}),h.jsx("input",{type:"email",value:e,onChange:P=>t(P.target.value),placeholder:"name@company.com",disabled:o||f,className:"w-full pl-12 pr-4 py-4 bg-black/20 border border-white/10 rounded-2xl text-sm focus:ring-2 focus:ring-blue-500/30 focus:bg-black/30 transition-all outline-none text-white placeholder:text-slate-500 disabled:opacity-50 disabled:cursor-not-allowed",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-xs font-bold text-slate-300 ml-1",children:"Password"}),h.jsxs("div",{className:"relative group",children:[h.jsx(wI,{className:"w-4 h-4 absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-400 transition-colors"}),h.jsx("input",{type:"password",value:n,onChange:P=>s(P.target.value),placeholder:"Enter your password",disabled:o||f,className:"w-full pl-12 pr-4 py-4 bg-black/20 border border-white/10 rounded-2xl text-sm focus:ring-2 focus:ring-blue-500/30 focus:bg-black/30 transition-all outline-none text-white placeholder:text-slate-500 disabled:opacity-50 disabled:cursor-not-allowed",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:o||f,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl text-sm font-bold shadow-lg shadow-blue-600/20 transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed backdrop-blur-sm",children:o?"Signing in...":f?"Redirecting...":"Sign In"})]}),h.jsx("button",{className:"mt-8 text-xs font-bold text-slate-400 hover:text-white transition-colors",disabled:o||f,children:"Forgot password?"})]})}),h.jsx("div",{className:"mt-10 flex flex-col items-center gap-4 text-center z-10",children:h.jsxs("p",{className:"text-[10px] text-slate-400 max-w-[280px] leading-relaxed",children:["By continuing, you agree to our ",h.jsx("span",{className:"font-bold text-slate-300",children:"Terms of Service"})," and ",h.jsx("span",{className:"font-bold text-slate-300",children:"Privacy Policy"}),"."]})})]})};function x5(){const{user:e,loading:t}=vs(),n=bs();if(t)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark transition-colors duration-300",children:h.jsx(T0,{size:"large"})});if(!e&&n.pathname!=="/login")return h.jsx(Ea,{to:"/login"});if(e&&n.pathname==="/login")return h.jsx(Ea,{to:"/"});if(n.pathname==="/login")return h.jsx(Gm,{children:h.jsx(Kn,{path:"/login",element:h.jsx(g5,{})})});const s=o=>{switch(o){case"/":return"Dasbor";case"/inventory":return"Daftar Aset";case"/transactions":return"Pinjaman";case"/borrowers":return"Peminjam";case"/shared-accounts":return"Akun Terbagi";case"/reports":return"Laporan & Analitik";case"/settings":return"Pengaturan";default:return"Aplikasi Inventaris"}};return h.jsxs("div",{className:"flex h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-300 font-display pb-16 lg:pb-0 overflow-hidden",children:[h.jsx(fI,{}),h.jsxs("main",{className:"lg:ml-64 flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[h.jsx(hI,{title:s(n.pathname)}),h.jsx(Ct.div,{className:"flex-1 overflow-y-auto custom-scrollbar relative",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1.5,ease:[.4,0,.2,1]},children:h.jsxs(Gm,{children:[h.jsx(Kn,{path:"/",element:h.jsx(QI,{})}),h.jsx(Kn,{path:"/inventory",element:h.jsx(a5,{})}),h.jsx(Kn,{path:"/transactions",element:h.jsx(o5,{})}),h.jsx(Kn,{path:"/shared-accounts",element:h.jsx(p5,{})}),(e==null?void 0:e.role)==="admin"?h.jsxs(h.Fragment,{children:[h.jsx(Kn,{path:"/borrowers",element:h.jsx(m5,{})}),h.jsx(Kn,{path:"/reports",element:h.jsx(l5,{})}),h.jsx(Kn,{path:"/settings",element:h.jsx(c5,{})})]}):h.jsxs(h.Fragment,{children:[h.jsx(Kn,{path:"/borrowers",element:h.jsx(Ea,{to:"/"})}),h.jsx(Kn,{path:"/reports",element:h.jsx(Ea,{to:"/"})}),h.jsx(Kn,{path:"/settings",element:h.jsx(Ea,{to:"/"})})]}),h.jsx(Kn,{path:"*",element:h.jsx(Ea,{to:"/"})})]})})]})]})}function y5(){return h.jsx(AS,{children:h.jsx(x5,{})})}const w5=new qS;$f.createRoot(document.getElementById("root")).render(h.jsx(ht.StrictMode,{children:h.jsx(YS,{client:w5,children:h.jsx(ES,{children:h.jsx(Z4,{children:h.jsx(d5,{children:h.jsx(y5,{})})})})})}));
